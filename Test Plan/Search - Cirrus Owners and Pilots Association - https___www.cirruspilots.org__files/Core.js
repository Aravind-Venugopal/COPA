/*!
 RequireJS 1.0.7 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 Available via the MIT or new BSD license.
 see: http://github.com/jrburke/requirejs for details
*/
var requirejs,require,define;(function(){function f(n){return et.call(n)==="[object Function]"}function k(n){return et.call(n)==="[object Array]"}function rt(t,i,r){for(var u in i)u in e||u in t&&!r||(t[u]=i[u]);return n}function h(n,t,i){return n=Error(t+"\nhttp://requirejs.org/docs/errors.html#"+n),i&&(n.originalError=i),n}function ut(n,t,i){for(var u,r,f=0;r=t[f];f++)r=typeof r=="string"?{name:r}:r,u=r.location,i&&(!u||u.indexOf("/")!==0&&u.indexOf(":")===-1)&&(u=i+"/"+(u||r.name)),n[r.name]={name:r.name,location:u||r.name,main:(r.main||"main").replace(vt,"").replace(ft,"")}}function d(n,t){n.holdReady?n.holdReady(t):t?n.readyWait+=1:n.ready(!0)}function ht(t){function w(n,t){var r,i,u;if(n&&n.charAt(0)===".")if(t){for(o.pkgs[t]?t=[t]:(t=t.split("/"),t=t.slice(0,t.length-1)),r=n=t.concat(n.split("/")),i=0;u=r[i];i++)if(u===".")r.splice(i,1),i-=1;else if(u==="..")if(i===1&&(r[2]===".."||r[0]===".."))break;else i>0&&(r.splice(i-1,2),i-=2);i=o.pkgs[r=n[0]];n=n.join("/");i&&n===r+"/"+i.main&&(n=r)}else n.indexOf("./")===0&&(n=n.substring(2));return n}function c(n,t){var e=n?n.indexOf("!"):-1,r=null,s=t?t.name:null,h=n,f,o;return e!==-1&&(r=n.substring(0,e),n=n.substring(e+1,n.length)),r&&(r=w(r,s)),n&&(r?f=(e=u[r])&&e.normalize?e.normalize(n,function(n){return w(n,s)}):w(n,s):(f=w(n,s),o=kt[f],o||(o=i.nameToUrl(n,null,t),kt[f]=o))),{prefix:r,name:f,parentMap:t,url:o,originalName:h,fullName:r?r+"!"+(f||""):f}}function ni(){var n=!0,i=o.priorityWait,r,t;if(i){for(t=0;r=i[t];t++)if(!s[r]){n=!1;break}n&&delete o.priorityWait}return n}function nt(n,t,i){return function(){var r=yt.call(arguments,0),u;return i&&f(u=r[r.length-1])&&(u.__requireJsBuild=!0),r.push(t),n.apply(null,r)}}function ti(t,r,u){return r=nt(u||i.require,t,r),rt(r,{nameToUrl:nt(i.nameToUrl,t),toUrl:nt(i.toUrl,t),defined:nt(i.requireDefined,t),specified:nt(i.requireSpecified,t),isBrowser:n.isBrowser}),r}function ht(t){var e,s,v,l=t.callback,p=t.map,r=p.fullName,w=t.deps;if(v=t.listeners,l&&f(l)){if(o.catchError.define)try{s=n.execCb(r,t.callback,w,u[r])}catch(k){e=k}else s=n.execCb(r,t.callback,w,u[r]);r&&((l=t.cjsModule)&&l.exports!==void 0&&l.exports!==u[r]?s=u[r]=t.cjsModule.exports:s===void 0&&t.usingExports?s=u[r]:(u[r]=s,y[r]&&(vt[r]=!0)))}else r&&(s=u[r]=l,y[r]&&(vt[r]=!0));if(a[t.id]&&(delete a[t.id],t.isDone=!0,i.waitCount-=1,i.waitCount===0&&(dt=[])),delete b[r],n.onResourceLoad&&!t.placeholder)n.onResourceLoad(i,p,t.depArray);if(e)return s=(r?c(r).url:"")||e.fileName||e.sourceURL,v=e.moduleTree,e=h("defineerror",'Error evaluating module "'+r+'" at location "'+s+'":\n'+e+"\nfileName:"+s+"\nlineNumber: "+(e.lineNumber||e.line),e),e.moduleName=r,e.moduleTree=v,n.onError(e);for(e=0;l=v[e];e++)l(s)}function ei(n,t){return function(i){n.depDone[t]||(n.depDone[t]=!0,n.deps[t]=i,n.depCount-=1,n.depCount||ht(n))}}function oi(t,r){var f=r.map,h=f.fullName,a=f.name,y=k[t]||(k[t]=u[t]),e;r.loading||(r.loading=!0,e=function(n){r.callback=function(){return n};ht(r);s[r.id]=!0;v()},e.fromText=function(t,r){var u=l;s[t]=!1;i.scriptCount+=1;i.fake[t]=!0;u&&(l=!1);n.exec(r);u&&(l=!0);i.completeLoad(t)},h in u?e(u[h]):y.load(a,ti(f.parentMap,!0,function(n,t){for(var o=[],e,u=0;e=n[u];u++)e=c(e,f.parentMap),n[u]=e.fullName,e.prefix||o.push(n[u]);return r.moduleDeps=(r.moduleDeps||[]).concat(o),i.require(n,t)}),e,o))}function ii(n){a[n.id]||(a[n.id]=n,dt.push(n),i.waitCount+=1)}function si(n){this.listeners.push(n)}function ct(n,t){var e=n.fullName,r=n.prefix,o=r?k[r]||(k[r]=u[r]):null,f,h;return e&&(f=b[e]),!f&&(h=!0,f={id:(r&&!o?fi+++"__p@:":"")+(e||"__r@"+fi++),map:n,depCount:0,depDone:[],depCallbacks:[],deps:[],listeners:[],add:si},at[f.id]=!0,e&&(!r||k[r]))&&(b[e]=f),r&&!o?(e=c(r),r in u&&!u[r]&&(delete u[r],delete st[e.url]),r=ct(e,!0),r.add(function(){var t=c(n.originalName,n.parentMap),t=ct(t,!0);f.placeholder=!0;t.add(function(n){f.callback=function(){return n};ht(f)})})):h&&t&&(s[f.id]=!1,i.paused.push(f),ii(f)),f}function ri(n,t,r,f){var n=c(n,f),p=n.name,l=n.fullName,e=ct(n),v=e.id,w=e.deps,h;if(l){if(l in u||s[v]===!0||l==="jquery"&&o.jQuery&&o.jQuery!==r().fn.jquery)return;at[v]=!0;s[v]=!0;l==="jquery"&&r&&tt(r())}for(e.depArray=t,e.callback=r,r=0;r<t.length;r++)(v=t[r])&&(v=c(v,p?n:f),h=v.fullName,t[r]=h,h==="require"?w[r]=ti(n):h==="exports"?(w[r]=u[l]={},e.usingExports=!0):h==="module"?e.cjsModule=w[r]={id:p,uri:p?i.nameToUrl(p,null,f):void 0,exports:u[l]}:h in u&&!(h in a)&&(!(l in y)||l in y&&vt[h])?w[r]=u[h]:(l in y&&(y[h]=!0,delete u[h],st[v.url]=!1),e.depCount+=1,e.depCallbacks[r]=ei(e,r),ct(v,!0).add(e.depCallbacks[r])));e.depCount?ii(e):ht(e)}function ft(n){ri.apply(null,n)}function ui(n,t){var i=n.map.fullName,e=n.depArray,h=!0,u,r,o,f;if(n.isDone||!i||!s[i])return f;if(t[i])return n;if(t[i]=!0,e){for(u=0;u<e.length;u++){if(r=e[u],!s[r]&&!bt[r]){h=!1;break}if((o=a[r])&&!o.isDone&&s[r]&&(f=ui(o,t)))break}h||(f=void 0,delete t[i])}return f}function lt(n,t){var i=n.map.fullName,o=n.depArray,f,r,e,h;if(!n.isDone&&i&&s[i]){if(i){if(t[i])return u[i];t[i]=!0}if(o)for(f=0;f<o.length;f++)(r=o[f])&&((e=c(r).prefix)&&(h=a[e])&&lt(h,t),(e=a[r])&&!e.isDone&&s[r])&&(r=lt(e,t),n.depCallbacks[f](r));return u[i]}}function wt(){var u=o.waitSeconds*1e3,u=u&&i.startTime+u<(new Date).getTime(),f="",y=!1,l=!1,c=[],t,p;if(!(i.pausedCount>0)){if(o.priorityWait)if(ni())v();else return;for(t in s)if(!(t in e)&&(y=!0,!s[t]))if(u)f+=t+" ";else if(l=!0,t.indexOf("!")===-1){c=[];break}else(p=b[t]&&b[t].moduleDeps)&&c.push.apply(c,p);if(y||i.waitCount){if(u&&f)return u=h("timeout","Load timeout for modules: "+f),u.requireType="timeout",u.requireModules=f,u.contextName=i.contextName,n.onError(u);if(l&&c.length)for(f=0;t=a[c[f]];f++)if(t=ui(t,{})){lt(t,{});break}if(!u&&(l||i.scriptCount))(r||ot)&&!it&&(it=setTimeout(function(){it=0;wt()},50));else{if(i.waitCount){for(f=0;t=dt[f];f++)lt(t,{});i.paused.length&&v();g<5&&(g+=1,wt())}g=0;n.checkReadyState()}}}}var i,v,o={waitSeconds:7,baseUrl:"./",paths:{},pkgs:{},catchError:{}},et=[],at={require:!0,exports:!0,module:!0},kt={},u={},s={},a={},dt=[],st={},fi=0,b={},k={},y={},vt={},gt=0;return tt=function(n){i.jQuery||!(n=n||(typeof jQuery!="undefined"?jQuery:null))||o.jQuery&&n.fn.jquery!==o.jQuery||!("holdReady"in n||"readyWait"in n)||(i.jQuery=n,ft(["jquery",[],function(){return jQuery}]),i.scriptCount)&&(d(n,!0),i.jQueryIncremented=!0)},v=function(){var t,r,u,e,f,c;for(i.takeGlobalQueue(),gt+=1,i.scriptCount<=0&&(i.scriptCount=0);et.length;){if(t=et.shift(),t[0]===null)return n.onError(h("mismatch","Mismatched anonymous define() module: "+t[t.length-1]));ft(t)}if(!o.priorityWait||ni())for(;i.paused.length;){for(f=i.paused,i.pausedCount+=f.length,i.paused=[],e=0;t=f[e];e++)r=t.map,u=r.url,c=r.fullName,r.prefix?oi(r.prefix,t):!st[u]&&!s[c]&&(n.load(i,c,u),u.indexOf("empty:")!==0&&(st[u]=!0));i.startTime=(new Date).getTime();i.pausedCount-=f.length}gt===1&&wt();gt-=1},i={contextName:t,config:o,defQueue:et,waiting:a,waitCount:0,specified:at,loaded:s,urlMap:kt,urlFetched:st,scriptCount:0,defined:u,paused:[],pausedCount:0,plugins:k,needFullExec:y,fake:{},fullExec:vt,managerCallbacks:b,makeModuleMap:c,normalize:w,configure:function(n){var r,t,u;if(n.baseUrl&&n.baseUrl.charAt(n.baseUrl.length-1)!=="/"&&(n.baseUrl+="/"),r=o.paths,u=o.pkgs,rt(o,n,!0),n.paths){for(t in n.paths)t in e||(r[t]=n.paths[t]);o.paths=r}if((r=n.packagePaths)||n.packages){if(r)for(t in r)t in e||ut(u,r[t],t);n.packages&&ut(u,n.packages);o.pkgs=u}n.priority&&(t=i.requireWait,i.requireWait=!1,v(),i.require(n.priority),v(),i.requireWait=t,o.priorityWait=n.priority);(n.deps||n.callback)&&i.require(n.deps||[],n.callback)},requireDefined:function(n,t){return c(n,t).fullName in u},requireSpecified:function(n,t){return c(n,t).fullName in at},require:function(r,e,o){if(typeof r=="string")return f(e)?n.onError(h("requireargs","Invalid require call")):n.get?n.get(i,r,e):(e=c(r,e),r=e.fullName,(r in u)?u[r]:n.onError(h("notloaded","Module name '"+e.fullName+"' has not been loaded yet for context: "+t)));if((r&&r.length||e)&&ri(null,r,e,o),!i.requireWait)for(;!i.scriptCount&&i.paused.length;)v();return i.require},takeGlobalQueue:function(){p.length&&(pt.apply(i.defQueue,[i.defQueue.length-1,0].concat(p)),p=[])},completeLoad:function(t){var r;for(i.takeGlobalQueue();et.length;)if(r=et.shift(),r[0]===null){r[0]=t;break}else if(r[0]===t)break;else ft(r),r=null;r?ft(r):ft([t,[],t==="jquery"&&typeof jQuery!="undefined"?function(){return jQuery}:null]);n.isAsync&&(i.scriptCount-=1);v();n.isAsync||(i.scriptCount-=1)},toUrl:function(n,t){var r=n.lastIndexOf("."),u=null;return r!==-1&&(u=n.substring(r,n.length),n=n.substring(0,r)),i.nameToUrl(n,u,t)},nameToUrl:function(t,r,u){var s,h,f,e,o=i.config,t=w(t,u&&u.fullName);if(n.jsExtRegExp.test(t))r=t+(r?r:"");else{for(s=o.paths,h=o.pkgs,u=t.split("/"),e=u.length;e>0;e--)if(f=u.slice(0,e).join("/"),s[f]){u.splice(0,e,s[f]);break}else if(f=h[f]){t=t===f.name?f.location+"/"+f.main:f.location;u.splice(0,e,t);break}r=u.join("/")+(r||".js");r=(r.charAt(0)==="/"||r.match(/^\w+:/)?"":o.baseUrl)+r}return o.urlArgs?r+((r.indexOf("?")===-1?"?":"&")+o.urlArgs):r}},i.jQueryCheck=tt,i.resume=v,i}function ct(){var t,n,i;if(c&&c.readyState==="interactive")return c;for(t=document.getElementsByTagName("script"),n=t.length-1;n>-1&&(i=t[n]);n--)if(i.readyState==="interactive")return c=i;return null}var lt=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/mg,at=/require\(\s*["']([^'"\s]+)["']\s*\)/g,vt=/^\.\//,ft=/\.js$/,et=Object.prototype.toString,t=Array.prototype,yt=t.slice,pt=t.splice,r=!!(typeof window!="undefined"&&navigator&&document),ot=!r&&typeof importScripts!="undefined",wt=r&&navigator.platform==="PLAYSTATION 3"?/^complete$/:/^(complete|loaded)$/,st=typeof opera!="undefined"&&opera.toString()==="[object Opera]",e={},o={},p=[],c=null,g=0,l=!1,bt={require:!0,module:!0,exports:!0},n,t={},nt,u,s,w,i,a,v,b,y,tt,it;if(typeof define=="undefined"){if(typeof requirejs!="undefined"){if(f(requirejs))return;t=requirejs;requirejs=void 0}if(typeof require=="undefined"||f(require)||(t=require,require=void 0),n=requirejs=function(n,t,i){var u="_",r;return k(n)||typeof n=="string"||(r=n,k(t)?(n=t,t=i):n=[]),r&&r.context&&(u=r.context),i=o[u]||(o[u]=ht(u)),r&&i.configure(r),i.require(n,t)},n.config=function(t){return n(t)},require||(require=n),n.toUrl=function(n){return o._.toUrl(n)},n.version="1.0.7",n.jsExtRegExp=/^\/|:|\?|\.js$/,u=n.s={contexts:o,skipAsync:{}},(n.isAsync=n.isBrowser=r)&&(s=u.head=document.getElementsByTagName("head")[0],w=document.getElementsByTagName("base")[0])&&(s=u.head=w.parentNode),n.onError=function(n){throw n;},n.load=function(t,i,r){n.resourcesReady(!1);t.scriptCount+=1;n.attach(r,t,i);t.jQuery&&!t.jQueryIncremented&&(d(t.jQuery,!0),t.jQueryIncremented=!0)},define=function(n,t,i){var r,u;typeof n!="string"&&(i=t,t=n,n=null);k(t)||(i=t,t=[]);!t.length&&f(i)&&i.length&&(i.toString().replace(lt,"").replace(at,function(n,i){t.push(i)}),t=(i.length===1?["require"]:["require","exports","module"]).concat(t));l&&(r=nt||ct())&&(n||(n=r.getAttribute("data-requiremodule")),u=o[r.getAttribute("data-requirecontext")]);(u?u.defQueue:p).push([n,t,i])},define.amd={multiversion:!0,plugins:!0,jQuery:!0},n.exec=function(n){return eval(n)},n.execCb=function(n,t,i,r){return t.apply(r,i)},n.addScriptToDom=function(n){nt=n;w?s.insertBefore(n,w):s.appendChild(n);nt=null},n.onScriptLoad=function(t){var i=t.currentTarget||t.srcElement,r;(t.type==="load"||i&&wt.test(i.readyState))&&(c=null,t=i.getAttribute("data-requirecontext"),r=i.getAttribute("data-requiremodule"),o[t].completeLoad(r),i.detachEvent&&!st?i.detachEvent("onreadystatechange",n.onScriptLoad):i.removeEventListener("load",n.onScriptLoad,!1))},n.attach=function(t,i,f,e,o,s){var h;return r?(e=e||n.onScriptLoad,h=i&&i.config&&i.config.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script"),h.type=o||i&&i.config.scriptType||"text/javascript",h.charset="utf-8",h.async=!u.skipAsync[t],i&&h.setAttribute("data-requirecontext",i.contextName),h.setAttribute("data-requiremodule",f),h.attachEvent&&!st?(l=!0,s?h.onreadystatechange=function(){h.readyState==="loaded"&&(h.onreadystatechange=null,h.attachEvent("onreadystatechange",e),s(h))}:h.attachEvent("onreadystatechange",e)):h.addEventListener("load",e,!1),h.src=t,s||n.addScriptToDom(h),h):(ot&&(importScripts(t),i.completeLoad(f)),null)},r)for(i=document.getElementsByTagName("script"),b=i.length-1;b>-1&&(a=i[b]);b--)if(s||(s=a.parentNode),v=a.getAttribute("data-main")){t.baseUrl||(i=v.split("/"),a=i.pop(),i=i.length?i.join("/")+"/":"./",t.baseUrl=i,v=a.replace(ft,""));t.deps=t.deps?t.deps.concat(v):[v];break}n.checkReadyState=function(){var t=u.contexts;for(var i in t)if(!(i in e)&&t[i].waitCount)return;n.resourcesReady(!0)};n.resourcesReady=function(t){var i,r;if(n.resourcesDone=t,n.resourcesDone)for(r in t=u.contexts,t)r in e||(i=t[r],!i.jQueryIncremented)||(d(i.jQuery,!1),i.jQueryIncremented=!1)};n.pageLoaded=function(){document.readyState!=="complete"&&(document.readyState="complete")};r&&document.addEventListener&&!document.readyState&&(document.readyState="loading",window.addEventListener("load",n.pageLoaded,!1));n(t);n.isAsync&&typeof setTimeout!="undefined"&&(y=u.contexts[t.context||"_"],y.requireWait=!0,setTimeout(function(){y.requireWait=!1;y.scriptCount||y.resume();n.checkReadyState()},0))}})();
;
window.requireInOrder=function(n,t){var i=function(r){r+1<n.length?require([n[r]],function(){i(r+1)}):require([n[r]],t)};i(0)};
;
/**
 * @license RequireJS text 2.0.1 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/text for details
 */
define("text",["module"],function(n){"use strict";var f=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],o=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,s=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,r=typeof location!="undefined"&&location.href,h=r&&location.protocol&&location.protocol.replace(/\:/,""),c=r&&location.hostname,l=r&&(location.port||undefined),u=[],i=n.config&&n.config()||{},t,e;return t={version:"2.0.1",strip:function(n){if(n){n=n.replace(o,"");var t=n.match(s);t&&(n=t[1])}else n="";return n},jsEscape:function(n){return n.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:i.createXhr||function(){var t,n,i;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;if(typeof ActiveXObject!="undefined")for(n=0;n<3;n+=1){i=f[n];try{t=new ActiveXObject(i)}catch(r){}if(t){f=[i];break}}return t},parseName:function(n){var r=!1,t=n.indexOf("."),u=n.substring(0,t),i=n.substring(t+1,n.length);return t=i.indexOf("!"),t!==-1&&(r=i.substring(t+1,i.length),r=r==="strip",i=i.substring(0,t)),{moduleName:u,ext:i,strip:r}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(n,i,r,u){var e=t.xdRegExp.exec(n),o,f,s;return e?(o=e[2],f=e[3],f=f.split(":"),s=f[1],f=f[0],(!o||o===i)&&(!f||f.toLowerCase()===r.toLowerCase())&&(!s&&!f||s===u)):!0},finishLoad:function(n,r,f,e){f=r?t.strip(f):f;i.isBuild&&(u[n]=f);e(f)},load:function(n,u,f,e){if(e.isBuild&&!e.inlineText){f();return}i.isBuild=e.isBuild;var o=t.parseName(n),s=o.moduleName+"."+o.ext,a=u.toUrl(s),v=i.useXhr||t.useXhr;if(!r||v(a,h,c,l))t.get(a,function(i){t.finishLoad(n,o.strip,i,f)},function(n){f.error&&f.error(n)});else{
//!strip part to avoid file system issues.
u([s],function(n){t.finishLoad(o.moduleName+"."+o.ext,o.strip,n,f)})}},write:function(n,i,r){if(u.hasOwnProperty(i)){var f=t.jsEscape(u[i]);r.asModule(n+"!"+i,"define(function () { return '"+f+"';});\n")}},writeFile:function(n,i,r,u,f){var e=t.parseName(i),o=e.moduleName+"."+e.ext,s=r.toUrl(e.moduleName+"."+e.ext)+".js";t.load(o,r,function(){var i=function(n){return u(s,n)};i.asModule=function(n,t){return u.asModule(n,s,t)};t.write(n,o,i,f)},f)}},typeof process!="undefined"&&process.versions&&!!process.versions.node?(e=require.nodeRequire("fs"),t.get=function(n,t){var i=e.readFileSync(n,"utf8");i.indexOf("﻿")===0&&(i=i.substring(1));t(i)}):t.createXhr()?t.get=function(n,r,u){var f=t.createXhr();if(f.open("GET",n,!0),i.onXhr)i.onXhr(f,n);f.onreadystatechange=function(){var t,i;f.readyState===4&&(t=f.status,t>399&&t<600?(i=new Error(n+" HTTP status: "+t),i.xhr=f,u(i)):r(f.responseText))};f.send(null)}:typeof Packages!="undefined"&&(t.get=function(n,t){var e=new java.io.File(n),o=java.lang.System.getProperty("line.separator"),u=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(e),"utf-8")),r,i,f="";try{for(r=new java.lang.StringBuffer,i=u.readLine(),i&&i.length()&&i.charAt(0)===65279&&(i=i.substring(1)),r.append(i);(i=u.readLine())!==null;)r.append(o),r.append(i);f=String(r.toString())}finally{u.close()}t(f)}),t});
;
/*!
    Head JS     The only script in your <HEAD>
    Copyright   Tero Piirainen (tipiirai)
    License     MIT / http://bit.ly/mit-license
    Version     0.96
    http://headjs.com
*/
(function(n){function r(n){o[o.length]=n}function h(n){var t=new RegExp("\\b"+n+"\\b");e.className=e.className.replace(t,"")}function c(n,t){for(var i=0,r=n.length;i<r;i++)t.call(n,n[i],i)}var e=n.documentElement,u={section:"-section",page:"-page",head:"head"},o=[],s,i,t,f;if(window.head_conf)for(s in head_conf)head_conf[s]!==undefined&&(u[s]=head_conf[s]);if(i=window[u.head]=function(){i.ready.apply(null,arguments)},i.feature=function(n,t,u){if(!n){e.className+=" "+o.join(" ");o=[];return}return Object.prototype.toString.call(t)=="[object Function]"&&(t=t.call()),r((t?"":"no-")+n),i[n]=!!t,u||(h("no-"+n),h(n),i.feature()),i},t=navigator.userAgent.toLowerCase(),t=/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version)?[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||!/compatible/.test(t)&&/(mozilla)(?:.*? rv:([\w.]+))?/.exec(t)||[],t[1]=="msie"&&(t[1]="ie",t[2]=document.documentMode||t[2]),r(t[1]),i.browser={version:t[2]},i.browser[t[1]]=!0,i.browser.ie){for(r("ie"+parseFloat(t[2])),f=3;f<11;f++)parseFloat(t[2])<f&&r("lt-ie"+f);c("abbr|article|aside|audio|canvas|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video".split("|"),function(t){n.createElement(t)})}c(location.pathname.split("/"),function(n,t){if(this.length>2&&this[t+1]!==undefined)t&&r(this.slice(1,t+1).join("-")+u.section);else{var i=n||"index",f=i.indexOf(".");f>0&&(i=i.substring(0,f));e.id=i+u.page;t||r("root"+u.section)}});i.feature("js",!0).feature()})(document);
/*!
    Head JS     The only script in your <HEAD>
    Copyright   Tero Piirainen (tipiirai)
    License     MIT / http://bit.ly/mit-license
    Version     0.96
    http://headjs.com
*/
(function(){function h(t){for(var i in t)if(n[t[i]]!==undefined)return!0}function t(n){var t=n.charAt(0).toUpperCase()+n.substr(1),i=(n+" "+o.join(t+" ")+t).split(" ");return!!h(i)}var u=document.createElement("i"),n=u.style,f=" -o- -moz- -ms- -webkit- -khtml- ".split(" "),o="Webkit Moz O ms Khtml".split(" "),s=window.head_conf&&head_conf.head||"head",e=window[s],i={gradient:function(){var t="background-image:";return n.cssText=(t+f.join("gradient(linear,left top,right bottom,from(#9f9),to(#fff));"+t)+f.join("linear-gradient(left top,#eee,#fff);"+t)).slice(0,-t.length),!!n.backgroundImage},rgba:function(){return n.cssText="background-color:rgba(0,0,0,0.5)",!!n.backgroundColor},opacity:function(){return u.style.opacity===""},textshadow:function(){return n.textShadow===""},multiplebgs:function(){return n.cssText="background:url(//:),url(//:),red url(//:)",new RegExp("(url\\s*\\(.*?){3}").test(n.background)},boxshadow:function(){return t("boxShadow")},borderimage:function(){return t("borderImage")},borderradius:function(){return t("borderRadius")},cssreflections:function(){return t("boxReflect")},csstransforms:function(){return t("transform")},csstransitions:function(){return t("transition")},fontface:function(){var t=navigator.userAgent,n,i;if(/*@cc_on!@*/0){i=!1;/*@if(@_jscript_version>=5)@*/i=!0;/*@end@*/if(i)return!0}return(n=t.match(/Chrome\/(\d+\.\d+\.\d+\.\d+)/))?n[1]>="4.0.249.4"||1*n[1].split(".")[0]>5:(n=t.match(/Safari\/(\d+\.\d+)/))&&!/iPhone/.test(t)?n[1]>="525.13":/Opera/.test({}.toString.call(window.opera))?opera.version()>="10.00":(n=t.match(/rv:(\d+\.\d+\.\d+)[^b].*Gecko\//))?n[1]>="1.9.1":!1}};for(var r in i)i[r]&&e.feature(r,i[r].call(),!0);e.feature()})();
;
/*!
 * jQuery Templates Plugin 1.0.0pre
 * http://github.com/jquery/jquery-tmpl
 * Requires jQuery 1.4.2
 *
 * Copyright Software Freedom Conservancy, Inc.
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 */
(function(n){function o(i,r,f,o){var s={data:o||o===0||o===!1?o:r?r.data:{},_wrap:r?r._wrap:null,tmpl:null,parent:r||null,nodes:[],calls:d,nest:g,wrap:nt,html:tt,update:it};return i&&n.extend(s,i,{nodes:[],parent:r}),f&&(s.tmpl=f,s._ctnt=s._ctnt||s.tmpl(n,s),s.key=++e,(c.length?u:t)[e]=s),s}function s(t,i,u){var f,e=u?n.map(u,function(n){return typeof n=="string"?t.key?n.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,"$1 "+r+'="'+t.key+'" $2'):n:s(n,t,n._ctnt)}):t;return i?e:(e=e.join(""),e.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,function(t,i,r,u){f=n(r).get();b(f);i&&(f=l(i).concat(f));u&&(f=f.concat(l(u)))}),f?f:l(e))}function l(t){var i=document.createElement("div");return i.innerHTML=t,n.makeArray(i.childNodes)}function p(t){return new Function("jQuery","$item","var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('"+n.trim(t).replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g," ").replace(/\$\{([^\}]*)\}/g,"{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,function(t,i,r,u,f,e,o){var c=n.tmpl.tag[r],l,s,a;if(!c)throw"Unknown template tag: "+r;return l=c._default||[],e&&!/\w$/.test(f)&&(f+=e,e=""),f?(f=h(f),o=o?","+h(o)+")":e?")":"",s=e?f.indexOf(".")>-1?f+h(e):"("+f+").call($item"+o:f,a=e?s:"(typeof("+f+")==='function'?("+f+").call($item):("+f+"))"):a=s=l.$1||"null",u=h(u),"');"+c[i?"close":"open"].split("$notnull_1").join(f?"typeof("+f+")!=='undefined' && ("+f+")!=null":"true").split("$1a").join(a).split("$1").join(s).split("$2").join(u||l.$2||"")+"__.push('"})+"');}return __;")}function w(t,i){t._wrap=s(t,!0,n.isArray(i)?i:[v.test(i)?i:n(i).html()]).join("")}function h(n){return n?n.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):null}function k(n){var t=document.createElement("div");return t.appendChild(n.cloneNode(!0)),t.innerHTML}function b(f){function p(f){function p(n){n=n+a;s=v[n]=v[n]||o(s,t[s.parent.key+a]||s.parent)}var y,h=f,c,s,l;if(l=f.getAttribute(r)){while(h.parentNode&&(h=h.parentNode).nodeType===1&&!(y=h.getAttribute(r)));y!==l&&(h=h.parentNode?h.nodeType===11?0:h.getAttribute(r)||0:0,(s=t[l])||(s=u[l],s=o(s,t[h]||u[h]),s.key=++e,t[e]=s),i&&p(l));f.removeAttribute(r)}else i&&(s=n.data(f,"tmplItem"))&&(p(s.key),t[s.key]=s,h=n.data(f.parentNode,"tmplItem"),h=h?h.key:0);if(s){for(c=s;c&&c.key!=h;)c.nodes.push(f),c=c.parent;delete s._ctnt;delete s._wrap;n.data(f,"tmplItem",s)}}for(var a="_"+i,c,l,v={},h,s=0,y=f.length;s<y;s++)if((c=f[s]).nodeType===1){for(l=c.getElementsByTagName("*"),h=l.length-1;h>=0;h--)p(l[h]);p(c)}}function d(n,t,i,r){if(!n)return c.pop();c.push({_:n,tmpl:t,item:this,data:i,options:r})}function g(t,i,r){return n.tmpl(n.template(t),i,r,this)}function nt(t,i){var r=t.options||{};return r.wrapped=i,n.tmpl(n.template(t.tmpl),t.data,r,t.item)}function tt(t,i){var r=this._wrap;return n.map(n(n.isArray(r)?r.join(""):r).filter(t||"*"),function(n){return i?n.innerText||n.textContent:n.outerHTML||k(n)})}function it(){var t=this.nodes;n.tmpl(null,null,null,this).insertBefore(t[0]);n(t).remove()}var a=n.fn.domManip,r="_tmplitem",v=/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,t={},u={},f,y={key:0,data:{}},e=0,i=0,c=[];n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(r,u){n.fn[r]=function(e){var o=[],h=n(e),c,s,a,v,l=this.length===1&&this[0].parentNode;if(f=t||{},l&&l.nodeType===11&&l.childNodes.length===1&&h.length===1)h[u](this[0]),o=this;else{for(s=0,a=h.length;s<a;s++)i=s,c=(s>0?this.clone(!0):this).get(),n(h[s])[u](c),o=o.concat(c);i=0;o=this.pushStack(o,r,h.selector)}return v=f,f=null,n.tmpl.complete(v),o}});n.fn.extend({tmpl:function(t,i,r){return n.tmpl(this[0],t,i,r)},tmplItem:function(){return n.tmplItem(this[0])},template:function(t){return n.template(t,this[0])},domManip:function(r,u,e){if(r[0]&&n.isArray(r[0])){for(var o=n.makeArray(arguments),s=r[0],l=s.length,h=0,c;h<l&&!(c=n.data(s[h++],"tmplItem")););c&&i&&(o[2]=function(t){n.tmpl.afterManip(this,t,e)});a.apply(this,o)}else a.apply(this,arguments);return i=0,f||n.tmpl.complete(t),this}});n.extend({tmpl:function(i,r,f,e){var h,c=!e;if(c)e=y,i=n.template[i]||n.template(null,i),u={};else if(!i)return i=e.tmpl,t[e.key]=e,e.nodes=[],e.wrapped&&w(e,e.wrapped),n(s(e,null,e.tmpl(n,e)));return i?(typeof r=="function"&&(r=r.call(e||{})),f&&f.wrapped&&w(f,f.wrapped),h=n.isArray(r)?n.map(r,function(n){return n?o(f,e,i,n):null}):[o(f,e,i,r)],c?n(s(e,null,h)):h):[]},tmplItem:function(t){var i;for(t instanceof n&&(t=t[0]);t&&t.nodeType===1&&!(i=n.data(t,"tmplItem"))&&(t=t.parentNode););return i||y},template:function(t,i){return i?(typeof i=="string"?i=p(i):i instanceof n&&(i=i[0]||{}),i.nodeType&&(i=n.data(i,"tmpl")||n.data(i,"tmpl",p(i.innerHTML))),typeof t=="string"?n.template[t]=i:i):t?typeof t!="string"?n.template(null,t):n.template[t]||n.template(null,v.test(t)?t:n(t)):null},encode:function(n){return(""+n).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}});n.extend(n.tmpl,{tag:{tmpl:{_default:{$2:"null"},open:"if($notnull_1){__=__.concat($item.nest($1,$2));}"},wrap:{_default:{$2:"null"},open:"$item.calls(__,$1,$2);__=[];",close:"call=$item.calls();__=call._.concat($item.wrap(call,__));"},each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},"if":{open:"if(($notnull_1) && $1a){",close:"}"},"else":{_default:{$1:"true"},open:"}else if(($notnull_1) && $1a){"},html:{open:"if($notnull_1){__.push($1a);}"},"=":{_default:{$1:"$data"},open:"if($notnull_1){__.push($.encode($1a));}"},"!":{open:""}},complete:function(){t={}},afterManip:function(t,r,u){var f=r.nodeType===11?n.makeArray(r.childNodes):r.nodeType===1?[r]:[];u.call(t,r);b(f);i++}})})(jQuery);
;
/*! Simple JavaScript Inheritance
 * By John Resig http://ejohn.org/
 * MIT Licensed.
 */
(function(){var n=!1,t=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;this.Class=function(){};Class.extend=function(i){function u(){!n&&this.init&&this.init.apply(this,arguments)}var e=this.prototype,f,r;n=!0;f=new this;n=!1;for(r in i)f[r]=typeof i[r]=="function"&&typeof e[r]=="function"&&t.test(i[r])?function(n,t){return function(){var r=this._super,i;return this._super=e[n],i=t.apply(this,arguments),this._super=r,i}}(r,i[r]):i[r];return u.prototype=f,u.prototype.constructor=u,u.extend=arguments.callee,u}})();
;
function newGuid(){var n=function(){return((1+Math.random())*65536|0).toString(16).substring(1)};return n()+n()+"-"+n()+"-"+n()+"-"+n()+"-"+n()+n()+n()}function namespace(n){for(var u=n.split("."),t=window,i="",r=0;r<u.length;r++)i=u[r],t[i]=t[i]||{},t=t[i];return t}Array.indexOf||(Array.prototype.indexOf=function(n){for(var t=0;t<this.length;t++)if(this[t]==n)return t;return-1});window.console||(console={log:function(){}});var StringUtil={format:function(n){var t,i;if(n==null||n=="")return"";for(t=[],i=1;i<arguments.length;i++)t.push(arguments[i]);return n.replace(/{(\d+)}/g,function(n,i){return typeof t[i]!="undefined"?t[i]:n})},isNullOrEmpty:function(n){return n==""||n==null},truncate:function(n,t,i){return n==null?"":(i=i==null?"...":i,n.length>t?n.slice(0,t-i.length)+i:n)},stripHtml:function(n){if(n==null)return"";var t=document.createElement("DIV");return t.innerHTML=n,t.textContent||t.innerText},trim:function(n){return n?n.replace(/^\s+|\s+$/g,""):n},toTitleCase:function(n){return n?n.replace(/\w\S*/g,function(n){return n.charAt(0).toUpperCase()+n.substr(1).toLowerCase()}):n}},ArrayUtils={intersection:function(n,t){for(var r=[],i=0;i<n.length;i++)t.indexOf(n[i])!=-1&&r.push(n[i]);return r},removeItems:function(n,t){for(var r=[],i=0;i<n.length;i++)t.indexOf(n[i])==-1&&r.push(n[i]);return r},clean:function(n){return ArrayUtils.filter(n,function(n){return n?!0:!1})},filter:function(n,t){var r=[],i;if(!n||n.length==0)return r;for(i=0;i<n.length;i++)t.apply(null,[n[i],i])&&r.push(n[i]);return r}};
;
var DomUtils={getNextHighestZindex:function(n){var t=0,i=0;return $("*:visible:not(.plupload)",n).each(function(){var r=$(this),n=r.css("z-index");isNaN(n)||(i=parseInt(n),i>t&&(t=i))}),t+1}};
;
(function(n){if(document.all&&!document.querySelector&&n.fn.validate){var i=n.fn.validate,t=Array.prototype.slice;n.fn.validate=function(){var n=t.call(arguments,0),r=this.attr;return this.attr=function(){var n=t.call(arguments,0);return n.length>1&&n[0]==="novalidate"?this:r.apply(this,n)},i.apply(this,n)}}})(jQuery);
;
(function(n){var t;n.validator&&n.validator.addMethod("glowdaterequired",function(i,r,u){var f=n(r);return f.data("glowdaterequired-jquery-validator")===t&&(f.data("glowdaterequired-jquery-validator",!0),f.bind("glowDateTimeSelectorChange",function(){f.valid()})),u!==!0&&(typeof u!="function"||u()!==!0)||!f.is(":disabled")&&f.glowDateTimeSelector("val")&&f.glowDateTimeSelector("val")!==""},"This field is required.")})(jQuery);
;
(function(n){jQuery.extend(jQuery.expr[":"],{focus:function(n){n==document.activeElement}});var t=Class.extend({init:function(){require(["text!Couto/AddOnFramework/Validation/ValidationFlag.htm"],n.proxy(function(t){this.isBound=!1;var i=n.fn.evolutionValidation;n.fn.evolutionValidation=function(){return n(document).trigger("evolutionValidationCalled"),i.apply(this,arguments)};n(document).bind("evolutionValidationCalled",n.proxy(function(){this.bindToValidator()},this));this.inviolableContainerCssClass=".content-fragment";this.amimationSpeed=500;this.templates={flag:t};this.bindToValidator()},this))},bindToValidator:function(){n("form").each(n.proxy(function(t,i){var r=n.data(i,"validator"),u=function(n){r.controller.onSubmitClick(r,n)},f=n("a, button, input",i);r&&!this.isBound?(f.click(u),this.decorateValidator(r),this.isBound=!0):r&&this.isBound&&(f.unbind("click",u),f.click(u))},this))},getElementSideOfPage:function(t){if(t.length==0)return"";var i=n(window),r=t.offset().left,u=i.width();return r>u/2?"alternate":""},hideFlag:function(t,i){i.stop(!0);i.parent.stop(!0);i.animate({opacity:0},{duration:this.amimationSpeed,complete:n.proxy(function(){this.css("display","none");this.parent.animate({paddingTop:this.parentMarginTop},{duration:this.amimationSpeed,complete:n.proxy(function(){this.controller.updateFlagPosition(t)},this),step:n.proxy(function(){this.controller.updateFlagPosition(t)},this)})},i)})},hideAllFlags:function(t,i){for(var f,u,r=0;r<t.currentForm.length;r++)i!==t.currentForm[r]&&(f=t.currentForm[r],u=n.data(f,"flag"),u&&this.hideFlag(t,u));t.errors().hide()},updateFlagPosition:function(n){n.currentFocusedElement&&this.positionFlag(n,n.currentFocusedElement);n.submitButton&&n.submitButton.length>0&&this.positionFlag(n,n.submitButton[0],250)},positionFlag:function(t,i,r){var o=n(window),f=n(i),u=n.data(i,"flag");if(u&&!f.is(":visible")){u.controller.hideFlag(t,u);t.currentFocusedElement=null;return}if(u&&r&&u.width(r),u&&u.css("display")=="block"){var s=o.scrollTop(),h=u.outerHeight(!0)-u.pointer.outerHeight(!0)+20,e=f.offset();u.hasClass("alternate")?u.css("left",e.left-u.width()+f.outerWidth()):u.css("left",e.left);u.css("top",e.top-s-h-2);return}},getFirstBlockParent:function(t){for(var r,t=n(t),u=t.parents(),i=0;i<u.length;i++){r=n(u[i]);switch(r.css("display")){case"block":case"inline-block":return n(r)}}return null},showFlagFor:function(t,i){var r=n.data(t,"flag"),e=n(t),u,f;r.width(e.outerWidth(!0));r.width()<250&&r.width(250);r&&e.is(":visible")&&(u=r.parentMarginTop,f=this.paddingRequired(r),f>0&&(u=f),r.css("z-index",DomUtils.getNextHighestZindex()),r.parent.stop(!0),r.stop(!0),r.parent.animate({paddingTop:u},{duration:this.amimationSpeed,complete:function(){r.css("display","block");r.animate({opacity:1},{complete:n.proxy(function(){this.controller.updateFlagPosition(i);n(this.element).is(":focus")||i.isFocusedOnError||setTimeout(n.proxy(function(){},n(this.element)),10)},r),step:n.proxy(function(){this.controller.updateFlagPosition(i)},r)})}}))},focusOnElement:function(t,i){if(!i.isFocusedOnError||!n(i.currentFocusedElement).hasClass(i.settings.errorClass)){!(i.currentFocusedElement==t[0])&&t.hasClass(i.settings.errorClass)&&i.errorsFor(t[0]).length>0&&(this.hideAllFlags(i,t[0]),this.showFlagFor(t[0],i),i.currentFocusedElement=t[0]);return}},isVisible:function(n){var t=n.offset();return n.is(":visible")&&t.left>-1&&t.top>-1},focusFirstError:function(t){for(var i,r=0;r<t.currentForm.length;r++)if(i=n(t.currentForm[r]),i.hasClass(t.settings.errorClass)&&this.isVisible(i)&&t.errorsFor(i[0]).length>0){this.focusOnElement(i,t);return}},getClosestInviolable:function(t){var i=t.parents();return n(i[i.length-1])},paddingRequired:function(t){for(var u,i,r=0;r<t.validator.currentForm.length;r++)(u=t.validator.currentForm[r],i=n.data(u,"flag"),i)&&(i.currentPadding=i.parent.css("padding-top"),i.parent.css("padding-top",i.parentMarginTop));var u=n(t.element),e=this.getClosestInviolable(u),o=t.outerHeight(!0)+t.pointer.outerHeight(!0),f=u.offset().top-e.offset().top;for(r=0;r<t.validator.currentForm.length;r++)(u=t.validator.currentForm[r],i=n.data(u,"flag"),i)&&i.parent.css("padding-top",i.currentPadding);return f<0?0:o-f},getFlag:function(t,i,r,u){var f=n.data(i,"flag",f),e;return f?(e=n(".error-message",f),e.html(r)):(f=n.tmpl(this.templates.flag,{errorMessage:r,cssClass:u}),n.data(i,"flag",f),f.inner=n(".validator-callout-inner",f),f.pointer=n(".validator-callout-pointer",f),f.parent=this.getFirstBlockParent(i),f.parentMarginTop=f.parent.css("padding-top"),f.controller=this,f.element=i,f.validator=t,f.css("position","fixed"),f.closeButton=n(".close-button",f),f.closeButton.click(n.proxy(function(){f.controller.hideFlag(t,f)},f)),n(i).after(f),f.hide()),this.updateFlagPosition(t),f},hasErrors:function(n,t){return n.errorsFor(t).length>0},moveNextFlag:function(n){n.currentFocusedElement=null;n.isFocusedOnError=!1;this.hideAllFlags(n);this.focusFirstError(n)},onSubmitClick:function(t,i){var e=n.data(i.currentTarget,"evolutionValidation"),u,o,s,f,r;if(e&&(t.submitButton=n(i.currentTarget),t.submitButton.sideOfPage=this.getElementSideOfPage(t.submitButton),t.settings.showErrors(t.errorMap,t.errorList),u=[],e)){for(o=e.internal.customValidations,r=0;r<o.length;r++)s=o[r],s.isValid||u.push(s.message);if(u.length>0){if(t.submitButton){for(f=[],r=0;r<u.length;r++)typeof u[r]=="function"?f.push("<span>"+u[r].apply(null)+"<\/span>"):f.push("<span>"+u[r]+"<\/span>");t.customFlag=this.getFlag(t,t.submitButton[0],f.join(""),"custom-validator "+t.submitButton.sideOfPage)}this.showFlagFor(t.submitButton[0],t)}else t.submitButton&&t.customFlag&&this.hideFlag(t,t.customFlag)}},decorateValidator:function(t){var u,r,i,f;for(jQuery.validator.addMethod("phoneUS",function(n,t){return n=n.replace(/\s+/g,""),this.optional(t)||n.length>9&&n.match(/^(1-?)?(\([2-9]\d{2}\)|[2-9]\d{2})-?[2-9]\d{2}-?\d{4}$/)},"Please specify a valid phone number"),t.controller=this,u=n(".field-item-validation"),u.bind("html",function(){t.controller.focusFirstError(t)}),r=0;r<t.currentForm.length;r++)i=n(t.currentForm[r]),i.focus({element:i,validator:t},n.proxy(function(n){this.hasErrors(t,n.data.element[0])&&(n.stopPropagation(),t.currentFocusedElement==n.data.element[0]||this.focusOnElement(n.data.element,n.data.validator),t.isFocusedOnError=!0)},this)),i.blur({element:i,validator:t},n.proxy(function(){t.controller.moveNextFlag(t)},this));n(window).scroll(n.proxy(function(){this.updateFlagPosition(t)},this));setInterval(n.proxy(function(){this.updateFlagPosition(t)},this),1e3);n(window).resize(n.proxy(function(){f||this.updateFlagPosition(t)},this));n(window).resize(t,n.proxy(function(n){this.focusFirstError(n.data)},this));n(t.currentForm).bind("invalid-form",function(){});t.settings.oldErrorPlacement=t.settings.errorPlacement;t.settings.errorPlacement=function(){t.settings.oldErrorPlacement.apply(null,arguments);t.controller.focusFirstError(t)};t.settings.oldhighlight=t.settings.highlight;t.settings.highlight=function(i,r,u){if(!n(i).hasClass("search")){n(i).removeClass(u).addClass(r);var f=t.controller.getFlag(t,i);t.settings.oldhighlight.apply(null,arguments);t.controller.focusFirstError(t)}};t.settings.oldunhighlight=t.settings.unhighlight;t.settings.unhighlight=function(i,r,u){if(!n(i).hasClass("search")){n(i).removeClass(r).addClass(u);var f=n.data(i,"flag");f&&f.controller.hideAllFlags(t);t.controller.moveNextFlag(t);t.settings.oldunhighlight.apply(null,arguments)}};t.settings.showErrors=n.proxy(function(i,r){var u,f,e,o,s;for(t.defaultShowErrors(),t.errors().hide(),setTimeout(function(){t.errors().hide()},1),u=0;u<r.length;u++)f=r[u],e=n(f.element),e.hasClass("search")||e.addClass(t.settings.errorClass),o=f.message,s=this.getFlag(t,f.element,o);n(document).trigger("showErrors",[t,i,r])},this)}});n(function(){new t})})(jQuery);
;
var CentralizedFileStorage={multiuploadFileStoreKey:"communityserver.components.multipleuploadfilemanager",getResizedImage:function(n,t,i){var u=(location.protocol+"//"+location.host).toUpperCase(),r,f,e,o;return n.substring(0,1)!="/"&&n.substring(0,1)!="~"&&n.toUpperCase().substring(0,u.length)!=u?n:(r=/([0-9a-zA-Z\.-]*\/([0-9a-z]{2}-?)*\/[^\/]*)$/,f=$.telligent.evolution.site.getBaseUrl()+"resized-image.ashx/__size/"+t+"x"+i+"/__key/",e=n.match(r),!e)?n:(o=n.match(r)[0],f+o)},getUploadedFile:function(n,t){return $.telligent.evolution.site.getBaseUrl()+"Couto/AddOnFramework/MultiuploadFileViewer.ashx?uploadContext="+n+"&FileName="+t}},CoutoUrlUtils={resolveUrl:function(n){return n.indexOf("~/")==0&&(n=$.telligent.evolution.site.getBaseUrl()+n.substring(2)),n}},DateUtils={parseUTC:function(n,t,i){t=t?t:"-";i=i?i:"T";var u=new RegExp("(\\d{4})"+t+"(\\d{2})"+t+"(\\d{2})"+i+"(\\d{2}):(\\d{2}):(\\d{2})"),r=n.match(u);return new Date(Date.UTC(parseInt(r[1]),parseInt(r[2],10)-1,parseInt(r[3],10),parseInt(r[4],10),parseInt(r[5],10),parseInt(r[6],10),0))}};namespace("couto.addonframework").CoutoPermissions=Class.extend({init:function(n,t,i,r,u){this.userId=n;this.application=t;this.id=i;this.successCallback=r;this.errorCallback=u;this.permissions;this._load(this.successCallback,this.errorCallback)},hasPermission:function(n){for(var r,i,u,t=0;t<this.permissions.Roles.length;t++)for(r=this.permissions.Roles[t],i=0;i<r.PermissionEntries.length;i++)if(u=r.PermissionEntries[i],u.PermissionId==n){if(u.IsAllowed)return!0;continue}return!1},hasRole:function(n){for(var t=0;t<this.permissions.Roles.length;t++)if(this.permissions.Roles[t].Name==n)return!0;return!1},_load:function(n,t){var i=this;$.telligent.evolution.get({url:"/api.ashx/v2/roles/permissions/user/"+this.userId+".json",data:{UserId:this.userId,Application:this.application,Id:this.id},success:function(t){i.permissions=t;n&&n.apply(null,arguments)},error:function(){t&&t.apply(null,arguments)}})}});
;
(function(n){var t=Class.extend({init:function(t,i){var r=this,f,u;i=i===null?{}:i;r.settings=n.extend(!0,{animationSpeed:500,cssClass:"",title:"",showCloseButton:!0,closeOnClickOutside:!0,hideOnClickItems:n(null),showEffect:"fadeIn",hideEffect:"fadeOut",hidePageScrollbar:!1,destroyOnClose:!1,open:!0,modalSkin:'<div><div class="modal-mask custom" style="display: none;"><\/div><div class="custom-modal-container" style="display: none;"><a href="javascript:void(0);" class="close-button"><\/a><div class="custom-modal-top"><div class="r1"><\/div><div class="r2"><\/div><div class="r3"><\/div><div class="r4"><\/div><\/div><div class="custom-modal-content"><div class="title"><h2><\/h2><\/div><div class="custom-modal-content-inner"><\/div><\/div><div class="custom-modal-bottom"><div class="r1"><\/div><div class="r2"><\/div><div class="r3"><\/div><div class="r4"><\/div><\/div><\/div><\/div>',resources:{Button_Close:"Close"},onPreShow:null,onShow:null,onHide:null,onComplete:null,onDestroy:null,onLeftClickOutside:null,onRightClickOutside:null,keepModalCentered:!0,autoCorrectCenteringBasedOnDialogSize:!0},i);r.content=null;r.target=t;r.window=n(window);r.lastHeight=0;r.modalView=n(r.settings.modalSkin);r.doVerticalCenterLogic=!0;r.settings.cssClass.length>0&&r.modalView.find(".custom-modal-container").addClass(r.settings.cssClass);r.settings.resources.Button_Close.length>0&&r.modalView.find(".close-button").html(r.settings.resources.Button_Close);r.closeButton=n(".close-button",r.modalView);r.title=n(".title h2",r.modalView);r.mask=n(".modal-mask",r.modalView);r.container=n(".custom-modal-container",r.modalView);r.contentContainer=n(".custom-modal-content-inner",r.modalView);r.settings.title!==""?r.title.html(r.settings.title):r.title.detach();f=n("form[id=aspnetForm]").length===0?n("body"):n("form[id=aspnetForm]");f.append(r.modalView);r.container.css("position","fixed");r.settings.showCloseButton?r.closeButton.show():r.closeButton.hide();r.closeButton.click(function(){r.settings.destroyOnClose?r.destroy():r.hide()});n(r.settings.hideOnClickItems).live("click",function(){r.hide()});r.mask.click(function(t){var i=t.offsetX<n(window).width()/2;r.settings.onLeftClickOutside&&i&&r.settings.onLeftClickOutside.apply(null,[t]);r.settings.onRightClickOutside&&!i&&r.settings.onRightClickOutside.apply(null,[t]);r.settings.closeOnClickOutside&&r.hide()});r.settings.keepModalCentered&&r.window.resize(function(){r.verticalCenterModal();r.horizontalCenterModal()}).scroll(function(){r.verticalCenterModal();r.horizontalCenterModal()});i.href?(u=n("<iframe src='"+i.href+"' frameborder='0' marginheight='0' marginwidth='0'><\/iframe>"),u.width(i.width),u.height(i.height),r.addContent(u)):(n.data(r.target,"coutomodal.placeholder")||(r.placeHolder=n('<div style="display:none;"><\/div>'),n(r.target).before(r.placeHolder),n.data(r.target,"coutomodal.placeholder",r.placeHolder)),r.placeHolder=n.data(r.target,"coutomodal.placeholder"),r.addContent(r.target));r.settings.open&&r.show()},destroy:function(){var t=this;t.animateOut(function(){n("iframe",t.contentContainer).attr("src","onpixel.gif");t.placeHolder&&(t.placeHolder.replaceWith(t.content),n.data(t.content,"coutomodal.placeholder",null));t.contentContainer.empty();t.modalView.detach();typeof t.settings.onDestroy=="function"&&t.settings.onDestroy.apply()})},hide:function(){var t=this;t.animateOut(function(){n("body").removeClass("hide-page-scrollbar");t.container.hide();t.mask.hide();typeof t.settings.onHide=="function"&&t.settings.onHide.apply()})},show:function(){var t=this,i,r,u;t.settings.hidePageScrollbar&&n("body").addClass("hide-page-scrollbar");typeof t.settings.onPreShow=="function"&&t.settings.onPreShow.apply();i=t.settings.animationSpeed;switch(t.settings.showEffect){case"none":t.container.show();t.mask.show();t.onShowPostEvent();break;case"slideDown":r=function(){return t.mask.slideDown(i),t.onShowPostEvent(),t.container.slideDown(i)};n.when(r()).done(function(){typeof t.settings.onShow=="function"&&t.settings.onShow.apply()});break;case"fadeIn":default:n("html").hasClass("ie7")&&t.mask.css("display","inline-block");u=function(){return t.mask.fadeIn(i),t.onShowPostEvent(),t.container.fadeIn(i)};n.when(u()).done(function(){t.settings.onShow&&t.settings.onShow.apply()})}},addInlineStyleEntries:function(n){var i=this;for(var t in n)i.container.css(t,n[t])},verticalCenterModal:function(n){var t=this,i;if(t.doVerticalCenterLogic&&(n||t.container.css("display")!=="none")){i=t.container.outerHeight(!1);t.previousModalHeight!==i&&(t.container.css("margin-top",-Math.round(i/2)+"px"),t.previousModalHeight=i);return}},horizontalCenterModal:function(n){var t=this,i;if(n||t.container.css("display")!=="none"){i=t.container.width();t.previousModalWidth!==i&&(t.container.css("margin-left",-Math.round(i/2)+"px"),t.previousModalWidth=i);return}},addContent:function(n){var t=this;t.content=n;t.contentContainer.html("");t.contentContainer.append(n);t.settings.onComplete&&t.settings.onComplete.apply()},onShowPostEvent:function(){var t=this,r=DomUtils.getNextHighestZindex(t.modalView.parent()[0]),i;t.mask.css("z-index",r);t.container.css("z-index",r);i=n("html").height();t.container.data("contentLargerThanViewport","");t.settings.keepModalCentered&&(t._resizeCheck&&clearInterval(t._resizeCheck),t._resizeCheck=setInterval(n.proxy(function(){var r=t.container.outerHeight(!1),u=r>n(window).height();t.lastHeight!=r&&(r>i?n("html").height(r):n("html").height(i),t.lastHeight=r,t.configureAutoVerticalCentering(u));t.configureAutoVerticalCentering(u);t.verticalCenterModal(!0);t.horizontalCenterModal(!0)},t),1e3/24));t.doVerticalCenterLogic||n(window).scrollTop(0)},configureAutoVerticalCentering:function(t){var i=this;i.settings.autoCorrectCenteringBasedOnDialogSize&&i.container.data("contentLargerThanViewport")!==t&&(t?(i.container.css("position","").css("top","0").css("margin-top","0"),n(window).scrollTop(0),i.doVerticalCenterLogic=!1):(i.doVerticalCenterLogic=!0,i.container.css("position","fixed").css("top","50%").css("margin-top",-Math.round(i.container.outerHeight(!1)/2)+"px")),i.container.data("contentLargerThanViewport",t))},animateOut:function(t){var i=this,r=i.settings.animationSpeed;switch(i.settings.hideEffect){case"none":t.apply(i);break;case"slideUp":i.container.slideUp(r,n.proxy(function(){i.mask.slideUp(r)},i));i.mask.promise().done(n.proxy(function(){t.apply(i)},i));break;case"fadeOut":default:i.container.fadeOut(r,n.proxy(function(){i.mask.fadeOut(r)},i));i.mask.promise().done(n.proxy(function(){t.apply(i)},i))}i.settings.keepModalCentered&&clearInterval(i._resizeCheck)}});n.fn.coutoModal=function(i,r){var u=this;return u.each(function(){var f=n.data(u,"modal"),e,o;switch(i){case"destroy":f&&f.destroy();break;case"hide":f&&f.hide();break;case"show":f&&f.show();break;case"addInlineStyleEntries":f&&f.addInlineStyleEntries(r);break;case"center":f&&(f.verticalCenterModal(!0),f.horizontalCenterModal(!0));break;default:e=i==null?{}:i;f&&f.destroy();o=n(u);o.attr("href")&&!e.href&&(e.href=o.attr("href"));o.attr("title")&&!e.title&&e.title!=""&&(e.title=o.attr("title"));f=new t(u,e);n.data(u,"modal",f)}}),u}})(jQuery);
;
var ns=namespace("couto.addOnFramework.modals");ns.startPageProcessing=function(n){jQuery(document).trigger("couto.addOnFramework.modals.startPageProcessing",n)};ns.endPageProcessing=function(){jQuery(document).trigger("couto.addOnFramework.modals.endPageProcessing")};$(function(){var t=$("<div/>",{style:"display:none;"}).appendTo("body"),n=$("<div/>",{"class":"message-content",id:"ProcessingDialogMessage","data-default-message":"Processing"}).appendTo(t);n.coutoModal({closeOnClickOutside:!1,showCloseButton:!1,open:!1,cssClass:"processing-message"});jQuery(document).bind("couto.addOnFramework.modals.startPageProcessing",function(t,i){i!=null&&i.length>0?n.html(i):n.html(n.data("default-message"));n.coutoModal("show")});jQuery(document).bind("couto.addOnFramework.modals.endPageProcessing",function(){n.coutoModal("hide")})});
;
DateUtils.formatAsTimeAgo=function(n,t){var s=t==null?new Date:t,h=s-n,r=Math.floor(h/1e3),u=Math.floor(r/60),f=Math.floor(u/60),i=Math.floor(f/24),e=Math.floor(i/30),o=Math.floor(i/365);return o>=1?o+" year"+(o>1?"s":"")+" ago":e>=1?e+" month"+(e>1?"s":"")+" ago":i>=1?i+" day"+(i>1?"s":"")+" ago":f>=1?f+" hour"+(f>1?"s":"")+" ago":u>=1?u+" minute"+(u>1?"s":"")+" ago":r>=1?r+" second"+(r>1?"s":"")+" ago":"moments ago"};StringUtil.toTitleCase=function(n){var t=/^(a|an|and|as|at|but|by|en|for|if|in|of|on|or|the|to|vs?\.?|via)$/i;return n.replace(/([^\W_]+[^\s-]*) */g,function(n,i,r,u){return r>0&&r+i.length!==u.length&&i.search(t)>-1&&u.charAt(r-2)!==":"&&u.charAt(r-1).search(/[^\s-]/)<0?n.toLowerCase():i.substr(1).search(/[A-Z]|\../)>-1?n:n.charAt(0).toUpperCase()+n.substr(1)})};
;
(function(n){return n.fn.watermark=function(){this.each(function(){n(this).focus(function(){var t=n(this);t.val()==this.title&&(t.val(""),t.removeClass("watermark"))}).blur(function(){var t=n(this);n.trim(t.val())==""&&(t.val(this.title),t.addClass("watermark"))})})},n(function(){n(".watermark").watermark()}),null})(jQuery);
;
/*! Knockout JavaScript library v2.1.0
 * (c) Steven Sanderson - http://knockoutjs.com/
 * License: MIT (http://www.opensource.org/licenses/mit-license.php)
 */
(function(n,t,i,r){var u=!0;!function(t){n.ko===r&&t(n.ko={})}(function(f){function y(n){var t=this,i,r;if(n)for(i in n)r=e.extenders[i],typeof r=="function"&&(t=r(t,n[i]));return t}function v(n,t,i){i&&t!==e.selectExtensions.readValue(n)&&e.selectExtensions.writeValue(n,t);t!==e.selectExtensions.readValue(n)&&e.utils.triggerEvent(n,"change")}var e=typeof f!="undefined"?f:{},s,l,o,h,a,c;e.exportSymbol=function(n,t){for(var i=n.split("."),r=e,u=0;u<i.length-1;u++)r=r[i[u]];r[i[i.length-1]]=t};e.exportProperty=function(n,t,i){n[t]=i};e.version="2.1.0";e.exportSymbol("version",e.version);e.utils=new function(){function c(n,t){if(e.utils.tagNameLower(n)!=="input"||!n.type||t.toLowerCase()!="click")return!1;var i=n.type;return i=="checkbox"||i=="radio"}var v=/^(\s|\u00A0)+|(\s|\u00A0)+$/g,f={},l={},y=/Firefox\/2/i.test(i.userAgent)?"KeyboardEvent":"UIEvents",h,o,s,a;f[y]=["keyup","keydown","keypress"];f.MouseEvents=["click","dblclick","mousedown","mouseup","mousemove","mouseover","mouseout","mouseenter","mouseleave"];for(h in f)if(o=f[h],o.length)for(s=0,a=o.length;s<a;s++)l[o[s]]=h;var p={propertychange:!0},u=function(){for(var n=3,i=t.createElement("div"),u=i.getElementsByTagName("i");i.innerHTML="<!--[if gt IE "+ ++n+"]><i><\/i><![endif]-->",u[0];);return n>4?n:r}(),w=u===6,b=u===7;return{fieldsIncludedWithJsonPost:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],arrayForEach:function(n,t){for(var i=0,r=n.length;i<r;i++)t(n[i])},arrayIndexOf:function(n,t){if(typeof Array.prototype.indexOf=="function")return Array.prototype.indexOf.call(n,t);for(var i=0,r=n.length;i<r;i++)if(n[i]===t)return i;return-1},arrayFirst:function(n,t,i){for(var r=0,u=n.length;r<u;r++)if(t.call(i,n[r]))return n[r];return null},arrayRemoveItem:function(n,t){var i=e.utils.arrayIndexOf(n,t);i>=0&&n.splice(i,1)},arrayGetDistinctValues:function(n){var i,t,r;for(n=n||[],i=[],t=0,r=n.length;t<r;t++)e.utils.arrayIndexOf(i,n[t])<0&&i.push(n[t]);return i},arrayMap:function(n,t){var r,i,u;for(n=n||[],r=[],i=0,u=n.length;i<u;i++)r.push(t(n[i]));return r},arrayFilter:function(n,t){var r,i,u;for(n=n||[],r=[],i=0,u=n.length;i<u;i++)t(n[i])&&r.push(n[i]);return r},arrayPushAll:function(n,t){if(t instanceof Array)n.push.apply(n,t);else for(var i=0,r=t.length;i<r;i++)n.push(t[i]);return n},extend:function(n,t){if(t)for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n},emptyDomNode:function(n){while(n.firstChild)e.removeNode(n.firstChild)},moveCleanedNodesToContainerElement:function(n){for(var r=e.utils.makeArray(n),u=t.createElement("div"),i=0,f=r.length;i<f;i++)e.cleanNode(r[i]),u.appendChild(r[i]);return u},setDomNodeChildren:function(n,t){if(e.utils.emptyDomNode(n),t)for(var i=0,r=t.length;i<r;i++)n.appendChild(t[i])},replaceDomNodes:function(n,t){var r=n.nodeType?[n]:n,f,o,i,u;if(r.length>0){for(f=r[0],o=f.parentNode,i=0,u=t.length;i<u;i++)o.insertBefore(t[i],f);for(i=0,u=r.length;i<u;i++)e.removeNode(r[i])}},setOptionNodeSelectionState:function(n,t){i.userAgent.indexOf("MSIE 6")>=0?n.setAttribute("selected",t):n.selected=t},stringTrim:function(n){return(n||"").replace(v,"")},stringTokenize:function(n,t){for(var r,u=[],f=(n||"").split(t),i=0,o=f.length;i<o;i++)r=e.utils.stringTrim(f[i]),r!==""&&u.push(r);return u},stringStartsWith:function(n,t){return(n=n||"",t.length>n.length)?!1:n.substring(0,t.length)===t},buildEvalWithinScopeFunction:function(n,t){for(var i="return ("+n+")",r=0;r<t;r++)i="with(sc["+r+"]) { "+i+" } ";return new Function("sc",i)},domNodeIsContainedBy:function(n,t){if(t.compareDocumentPosition)return(t.compareDocumentPosition(n)&16)==16;while(n!=null){if(n==t)return!0;n=n.parentNode}return!1},domNodeIsAttachedToDocument:function(n){return e.utils.domNodeIsContainedBy(n,n.ownerDocument)},tagNameLower:function(n){return n&&n.tagName&&n.tagName.toLowerCase()},registerEventHandler:function(n,t,i){var r=u&&p[t],f;if(r||typeof jQuery=="undefined")if(r||typeof n.addEventListener!="function")if(typeof n.attachEvent!="undefined")n.attachEvent("on"+t,function(t){i.call(n,t)});else throw new Error("Browser doesn't support addEventListener or attachEvent");else n.addEventListener(t,i,!1);else c(n,t)&&(f=i,i=function(n,t){var i=this.checked;t&&(this.checked=t.checkedStateBeforeEvent!==!0);f.call(this,n);this.checked=i}),jQuery(n).bind(t,i)},triggerEvent:function(i,r){var u,e,f;if(!(i&&i.nodeType))throw new Error("element must be a DOM node when calling triggerEvent");if(typeof jQuery!="undefined")u=[],c(i,r)&&u.push({checkedStateBeforeEvent:i.checked}),jQuery(i).trigger(r,u);else if(typeof t.createEvent=="function")if(typeof i.dispatchEvent=="function")e=l[r]||"HTMLEvents",f=t.createEvent(e),f.initEvent(r,!0,!0,n,0,0,0,0,0,!1,!1,!1,!1,0,i),i.dispatchEvent(f);else throw new Error("The supplied element doesn't support dispatchEvent");else if(typeof i.fireEvent!="undefined")c(i,r)&&(i.checked=i.checked!==!0),i.fireEvent("on"+r);else throw new Error("Browser doesn't support triggering events");},unwrapObservable:function(n){return e.isObservable(n)?n():n},toggleDomNodeCssClass:function(n,t,i){var r=(n.className||"").split(/\s+/),o=e.utils.arrayIndexOf(r,t)>=0,f,u;if(i&&!o)n.className+=(r[0]?" ":"")+t;else if(o&&!i){for(f="",u=0;u<r.length;u++)r[u]!=t&&(f+=r[u]+" ");n.className=e.utils.stringTrim(f)}},setTextContent:function(n,t){var i=e.utils.unwrapObservable(t);(i===null||i===r)&&(i="");"innerText"in n?n.innerText=i:n.textContent=i;u>=9&&(n.style.display=n.style.display)},ensureSelectElementIsRenderedCorrectly:function(n){if(u>=9){var t=n.style.width;n.style.width=0;n.style.width=t}},range:function(n,t){var r,i;for(n=e.utils.unwrapObservable(n),t=e.utils.unwrapObservable(t),r=[],i=n;i<=t;i++)r.push(i);return r},makeArray:function(n){for(var i=[],t=0,r=n.length;t<r;t++)i.push(n[t]);return i},isIe6:w,isIe7:b,ieVersion:u,getFormFields:function(n,t){for(var r=e.utils.makeArray(n.getElementsByTagName("input")).concat(e.utils.makeArray(n.getElementsByTagName("textarea"))),f=typeof t=="string"?function(n){return n.name===t}:function(n){return t.test(n.name)},u=[],i=r.length-1;i>=0;i--)f(r[i])&&u.push(r[i]);return u},parseJson:function(t){return typeof t=="string"&&(t=e.utils.stringTrim(t),t)?n.JSON&&n.JSON.parse?n.JSON.parse(t):new Function("return "+t)():null},stringifyJson:function(n,t,i){if(typeof JSON=="undefined"||typeof JSON.stringify=="undefined")throw new Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return JSON.stringify(e.utils.unwrapObservable(n),t,i)},postJson:function(n,i,r){var a,h,c,s,u,o,f;r=r||{};var l=r.params||{},v=r.includeFields||this.fieldsIncludedWithJsonPost,y=n;if(typeof n=="object"&&e.utils.tagNameLower(n)==="form")for(a=n,y=a.action,h=v.length-1;h>=0;h--)for(c=e.utils.getFormFields(a,v[h]),s=c.length-1;s>=0;s--)l[c[s].name]=c[s].value;i=e.utils.unwrapObservable(i);u=t.createElement("form");u.style.display="none";u.action=y;u.method="post";for(o in i)f=t.createElement("input"),f.name=o,f.value=e.utils.stringifyJson(e.utils.unwrapObservable(i[o])),u.appendChild(f);for(o in l)f=t.createElement("input"),f.name=o,f.value=l[o],u.appendChild(f);t.body.appendChild(u);r.submitter?r.submitter(u):u.submit();setTimeout(function(){u.parentNode.removeChild(u)},0)}}};e.exportSymbol("utils",e.utils);e.exportSymbol("utils.arrayForEach",e.utils.arrayForEach);e.exportSymbol("utils.arrayFirst",e.utils.arrayFirst);e.exportSymbol("utils.arrayFilter",e.utils.arrayFilter);e.exportSymbol("utils.arrayGetDistinctValues",e.utils.arrayGetDistinctValues);e.exportSymbol("utils.arrayIndexOf",e.utils.arrayIndexOf);e.exportSymbol("utils.arrayMap",e.utils.arrayMap);e.exportSymbol("utils.arrayPushAll",e.utils.arrayPushAll);e.exportSymbol("utils.arrayRemoveItem",e.utils.arrayRemoveItem);e.exportSymbol("utils.extend",e.utils.extend);e.exportSymbol("utils.fieldsIncludedWithJsonPost",e.utils.fieldsIncludedWithJsonPost);e.exportSymbol("utils.getFormFields",e.utils.getFormFields);e.exportSymbol("utils.postJson",e.utils.postJson);e.exportSymbol("utils.parseJson",e.utils.parseJson);e.exportSymbol("utils.registerEventHandler",e.utils.registerEventHandler);e.exportSymbol("utils.stringifyJson",e.utils.stringifyJson);e.exportSymbol("utils.range",e.utils.range);e.exportSymbol("utils.toggleDomNodeCssClass",e.utils.toggleDomNodeCssClass);e.exportSymbol("utils.triggerEvent",e.utils.triggerEvent);e.exportSymbol("utils.unwrapObservable",e.utils.unwrapObservable);Function.prototype.bind||(Function.prototype.bind=function(n){var i=this,t=Array.prototype.slice.call(arguments),n=t.shift();return function(){return i.apply(n,t.concat(Array.prototype.slice.call(arguments)))}});e.utils.domData=new function(){var i=0,n="__ko__"+(new Date).getTime(),t={};return{get:function(n,t){var i=e.utils.domData.getAll(n,!1);return i===r?r:i[t]},set:function(n,t,i){if(i!==r||e.utils.domData.getAll(n,!1)!==r){var u=e.utils.domData.getAll(n,!0);u[t]=i}},getAll:function(u,f){var e=u[n],o=e&&e!=="null";if(!o){if(!f)return r;e=u[n]="ko"+i++;t[e]={}}return t[e]},clear:function(i){var r=i[n];r&&(delete t[r],i[n]=null)}}};e.exportSymbol("utils.domData",e.utils.domData);e.exportSymbol("utils.domData.clear",e.utils.domData.clear);e.utils.domNodeDisposal=new function(){function t(t,i){var u=e.utils.domData.get(t,n);return u===r&&i&&(u=[],e.utils.domData.set(t,n,u)),u}function o(t){e.utils.domData.set(t,n,r)}function i(n){var i=t(n,!1),r;if(i)for(i=i.slice(0),r=0;r<i.length;r++)i[r](n);e.utils.domData.clear(n);typeof jQuery=="function"&&typeof jQuery.cleanData=="function"&&jQuery.cleanData([n]);u[n.nodeType]&&s(n)}function s(n){for(var t,r=n.firstChild;t=r;)r=t.nextSibling,t.nodeType===8&&i(t)}var n="__ko_domNodeDisposal__"+(new Date).getTime(),f={1:!0,8:!0,9:!0},u={1:!0,9:!0};return{addDisposeCallback:function(n,i){if(typeof i!="function")throw new Error("Callback must be a function");t(n,!0).push(i)},removeDisposeCallback:function(n,i){var r=t(n,!1);r&&(e.utils.arrayRemoveItem(r,i),r.length==0&&o(n))},cleanNode:function(n){var t,r,o;if(f[n.nodeType]&&(i(n),u[n.nodeType]))for(t=[],e.utils.arrayPushAll(t,n.getElementsByTagName("*")),r=0,o=t.length;r<o;r++)i(t[r])},removeNode:function(n){e.cleanNode(n);n.parentNode&&n.parentNode.removeChild(n)}}};e.cleanNode=e.utils.domNodeDisposal.cleanNode;e.removeNode=e.utils.domNodeDisposal.removeNode;e.exportSymbol("cleanNode",e.cleanNode);e.exportSymbol("removeNode",e.removeNode);e.exportSymbol("utils.domNodeDisposal",e.utils.domNodeDisposal);e.exportSymbol("utils.domNodeDisposal.addDisposeCallback",e.utils.domNodeDisposal.addDisposeCallback);e.exportSymbol("utils.domNodeDisposal.removeDisposeCallback",e.utils.domNodeDisposal.removeDisposeCallback),function(){function i(i){var u=e.utils.stringTrim(i).toLowerCase(),r=t.createElement("div"),f=u.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","<\/table>"]||!u.indexOf("<tr")&&[2,"<table><tbody>","<\/tbody><\/table>"]||(!u.indexOf("<td")||!u.indexOf("<th"))&&[3,"<table><tbody><tr>","<\/tr><\/tbody><\/table>"]||[0,"",""],o="ignored<div>"+f[1]+i+f[2]+"<\/div>";for(typeof n.innerShiv=="function"?r.appendChild(n.innerShiv(o)):r.innerHTML=o;f[0]--;)r=r.lastChild;return e.utils.makeArray(r.lastChild.childNodes)}function u(n){var i=jQuery.clean([n]),t;if(i&&i[0]){for(t=i[0];t.parentNode&&t.parentNode.nodeType!==11;)t=t.parentNode;t.parentNode&&t.parentNode.removeChild(t)}return i}e.utils.parseHtmlFragment=function(n){return typeof jQuery!="undefined"?u(n):i(n)};e.utils.setHtml=function(n,t){var u,i;if(e.utils.emptyDomNode(n),t!==null&&t!==r)if(typeof t!="string"&&(t=t.toString()),typeof jQuery!="undefined")jQuery(n).html(t);else for(u=e.utils.parseHtmlFragment(t),i=0;i<u.length;i++)n.appendChild(u[i])}}();e.exportSymbol("utils.parseHtmlFragment",e.utils.parseHtmlFragment);e.exportSymbol("utils.setHtml",e.utils.setHtml);e.memoization=function(){function t(){return((1+Math.random())*4294967296|0).toString(16).substring(1)}function u(){return t()+t()}function i(n,t){var r;if(n)if(n.nodeType==8)r=e.memoization.parseMemoText(n.nodeValue),r!=null&&t.push({domNode:n,memoId:r});else if(n.nodeType==1)for(var u=0,f=n.childNodes,o=f.length;u<o;u++)i(f[u],t)}var n={};return{memoize:function(t){if(typeof t!="function")throw new Error("You can only pass a function to ko.memoization.memoize()");var i=u();return n[i]=t,"<!--[ko_memo:"+i+"]-->"},unmemoize:function(t,i){var u=n[t];if(u===r)throw new Error("Couldn't find any memo with ID "+t+". Perhaps it's already been unmemoized.");try{return u.apply(null,i||[]),!0}finally{delete n[t]}},unmemoizeDomNodeAndDescendants:function(n,t){var f=[],u,s,r,o;for(i(n,f),u=0,s=f.length;u<s;u++)r=f[u].domNode,o=[r],t&&e.utils.arrayPushAll(o,t),e.memoization.unmemoize(f[u].memoId,o),r.nodeValue="",r.parentNode&&r.parentNode.removeChild(r)},parseMemoText:function(n){var t=n.match(/^\[ko_memo\:(.*?)\]$/);return t?t[1]:null}}}();e.exportSymbol("memoization",e.memoization);e.exportSymbol("memoization.memoize",e.memoization.memoize);e.exportSymbol("memoization.unmemoize",e.memoization.unmemoize);e.exportSymbol("memoization.parseMemoText",e.memoization.parseMemoText);e.exportSymbol("memoization.unmemoizeDomNodeAndDescendants",e.memoization.unmemoizeDomNodeAndDescendants);e.extenders={throttle:function(n,t){n.throttleEvaluation=t;var i=null;return e.dependentObservable({read:n,write:function(r){clearTimeout(i);i=setTimeout(function(){n(r)},t)}})},notify:function(n,t){return n.equalityComparer=t=="always"?function(){return!1}:e.observable.fn.equalityComparer,n}};e.exportSymbol("extenders",e.extenders);e.subscription=function(n,t,i){this.target=n;this.callback=t;this.disposeCallback=i;e.exportProperty(this,"dispose",this.dispose)};e.subscription.prototype.dispose=function(){this.isDisposed=!0;this.disposeCallback()};e.subscribable=function(){this._subscriptions={};e.utils.extend(this,e.subscribable.fn);e.exportProperty(this,"subscribe",this.subscribe);e.exportProperty(this,"extend",this.extend);e.exportProperty(this,"getSubscriptionsCount",this.getSubscriptionsCount)};s="change";e.subscribable.fn={subscribe:function(n,t,i){i=i||s;var u=t?n.bind(t):n,r=new e.subscription(this,u,function(){e.utils.arrayRemoveItem(this._subscriptions[i],r)}.bind(this));return this._subscriptions[i]||(this._subscriptions[i]=[]),this._subscriptions[i].push(r),r},notifySubscribers:function(n,t){t=t||s;this._subscriptions[t]&&e.utils.arrayForEach(this._subscriptions[t].slice(0),function(t){t&&t.isDisposed!==!0&&t.callback(n)})},getSubscriptionsCount:function(){var n=0;for(var t in this._subscriptions)this._subscriptions.hasOwnProperty(t)&&(n+=this._subscriptions[t].length);return n},extend:y};e.isSubscribable=function(n){return typeof n.subscribe=="function"&&typeof n.notifySubscribers=="function"};e.exportSymbol("subscribable",e.subscribable);e.exportSymbol("isSubscribable",e.isSubscribable);e.dependencyDetection=function(){var n=[];return{begin:function(t){n.push({callback:t,distinctDependencies:[]})},end:function(){n.pop()},registerDependency:function(t){if(!e.isSubscribable(t))throw new Error("Only subscribable things can act as dependencies");if(n.length>0){var i=n[n.length-1];if(e.utils.arrayIndexOf(i.distinctDependencies,t)>=0)return;i.distinctDependencies.push(t);i.callback(t)}}}}();l={undefined:!0,boolean:!0,number:!0,string:!0};e.observable=function(n){function t(){return arguments.length>0?(t.equalityComparer&&t.equalityComparer(i,arguments[0])||(t.valueWillMutate(),i=arguments[0],u&&(t._latestValue=i),t.valueHasMutated()),this):(e.dependencyDetection.registerDependency(t),i)}var i=n;return u&&(t._latestValue=i),e.subscribable.call(t),t.valueHasMutated=function(){t.notifySubscribers(i)},t.valueWillMutate=function(){t.notifySubscribers(i,"beforeChange")},e.utils.extend(t,e.observable.fn),e.exportProperty(t,"valueHasMutated",t.valueHasMutated),e.exportProperty(t,"valueWillMutate",t.valueWillMutate),t};e.observable.fn={equalityComparer:function(n,t){var i=n===null||typeof n in l;return i?n===t:!1}};o=e.observable.protoProperty="__ko_proto__";e.observable.fn[o]=e.observable;e.hasPrototype=function(n,t){return n===null||n===r||n[o]===r?!1:n[o]===t?!0:e.hasPrototype(n[o],t)};e.isObservable=function(n){return e.hasPrototype(n,e.observable)};e.isWriteableObservable=function(n){return typeof n=="function"&&n[o]===e.observable?!0:typeof n=="function"&&n[o]===e.dependentObservable&&n.hasWriteFunction?!0:!1};e.exportSymbol("observable",e.observable);e.exportSymbol("isObservable",e.isObservable);e.exportSymbol("isWriteableObservable",e.isWriteableObservable);e.observableArray=function(n){if(arguments.length==0&&(n=[]),n!==null&&n!==r&&!("length"in n))throw new Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");var t=e.observable(n);return e.utils.extend(t,e.observableArray.fn),t};e.observableArray.fn={remove:function(n){for(var u,r=this(),i=[],f=typeof n=="function"?n:function(t){return t===n},t=0;t<r.length;t++)u=r[t],f(u)&&(i.length===0&&this.valueWillMutate(),i.push(u),r.splice(t,1),t--);return i.length&&this.valueHasMutated(),i},removeAll:function(n){if(n===r){var t=this(),i=t.slice(0);return this.valueWillMutate(),t.splice(0,t.length),this.valueHasMutated(),i}return n?this.remove(function(t){return e.utils.arrayIndexOf(n,t)>=0}):[]},destroy:function(n){var i=this(),u=typeof n=="function"?n:function(t){return t===n},t,r;for(this.valueWillMutate(),t=i.length-1;t>=0;t--)r=i[t],u(r)&&(i[t]._destroy=!0);this.valueHasMutated()},destroyAll:function(n){return n===r?this.destroy(function(){return!0}):n?this.destroy(function(t){return e.utils.arrayIndexOf(n,t)>=0}):[]},indexOf:function(n){var t=this();return e.utils.arrayIndexOf(t,n)},replace:function(n,t){var i=this.indexOf(n);i>=0&&(this.valueWillMutate(),this()[i]=t,this.valueHasMutated())}};e.utils.arrayForEach(["pop","push","reverse","shift","sort","splice","unshift"],function(n){e.observableArray.fn[n]=function(){var t=this(),i;return this.valueWillMutate(),i=t[n].apply(t,arguments),this.valueHasMutated(),i}});e.utils.arrayForEach(["slice"],function(n){e.observableArray.fn[n]=function(){var t=this();return t[n].apply(t,arguments)}});e.exportSymbol("observableArray",e.observableArray);e.dependentObservable=function(n,t,i){function k(){e.utils.arrayForEach(s,function(n){n.dispose()});s=[]}function g(){var n=f.throttleEvaluation;n&&n>=0?(clearTimeout(b),b=setTimeout(a,n)):a()}function a(){var n,l,i;if(!y){if(v&&w()){c();return}y=!0;try{for(n=e.utils.arrayMap(s,function(n){return n.target}),e.dependencyDetection.begin(function(t){var i;(i=e.utils.arrayIndexOf(n,t))>=0?n[i]=r:s.push(t.subscribe(g))}),l=o.call(t),i=n.length-1;i>=0;i--)n[i]&&s.splice(i,1)[0].dispose();v=!0;f.notifySubscribers(h,"beforeChange");h=l;u&&(f._latestValue=h)}finally{e.dependencyDetection.end()}f.notifySubscribers(h);y=!1}}function f(){if(arguments.length>0)nt.apply(f,arguments);else return tt()}function nt(){if(typeof p=="function")p.apply(t,arguments);else throw new Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");}function tt(){return v||a(),e.dependencyDetection.registerDependency(f),h}var h,v=!1,y=!1,o=n,p,s,d,b;if(o&&typeof o=="object"?(i=o,o=i.read):(i=i||{},o||(o=i.read)),typeof o!="function")throw new Error("Pass a function that returns the value of the ko.computed");p=i.write;t||(t=i.owner);s=[];var c=k,l=typeof i.disposeWhenNodeIsRemoved=="object"?i.disposeWhenNodeIsRemoved:null,w=i.disposeWhen||function(){return!1};return l&&(c=function(){e.utils.domNodeDisposal.removeDisposeCallback(l,arguments.callee);k()},e.utils.domNodeDisposal.addDisposeCallback(l,c),d=w,w=function(){return!e.utils.domNodeIsAttachedToDocument(l)||d()}),b=null,f.getDependenciesCount=function(){return s.length},f.hasWriteFunction=typeof i.write=="function",f.dispose=function(){c()},e.subscribable.call(f),e.utils.extend(f,e.dependentObservable.fn),i.deferEvaluation!==!0&&a(),e.exportProperty(f,"dispose",f.dispose),e.exportProperty(f,"getDependenciesCount",f.getDependenciesCount),f};e.isComputed=function(n){return e.hasPrototype(n,e.dependentObservable)};h=e.observable.protoProperty;e.dependentObservable[h]=e.observable;e.dependentObservable.fn={};e.dependentObservable.fn[h]=e.dependentObservable;e.exportSymbol("dependentObservable",e.dependentObservable);e.exportSymbol("computed",e.dependentObservable);e.exportSymbol("isComputed",e.isComputed),function(){function n(t,f,e){var s,o;return(e=e||new u,t=f(t),s=typeof t=="object"&&t!==null&&t!==r&&!(t instanceof Date),!s)?t:(o=t instanceof Array?[]:{},e.save(t,o),i(t,function(i){var u=f(t[i]),s;switch(typeof u){case"boolean":case"number":case"string":case"function":o[i]=u;break;case"object":case"undefined":s=e.get(u);o[i]=s!==r?s:n(u,f,e)}}),o)}function i(n,t){var i,r;if(n instanceof Array){for(i=0;i<n.length;i++)t(i);typeof n.toJSON=="function"&&t("toJSON")}else for(r in n)t(r)}function u(){var n=[],t=[];this.save=function(i,r){var u=e.utils.arrayIndexOf(n,i);u>=0?t[u]=r:(n.push(i),t.push(r))};this.get=function(i){var u=e.utils.arrayIndexOf(n,i);return u>=0?t[u]:r}}var t=10;e.toJS=function(i){if(arguments.length==0)throw new Error("When calling ko.toJS, pass the object you want to convert.");return n(i,function(n){for(var i=0;e.isObservable(n)&&i<t;i++)n=n();return n})};e.toJSON=function(n,t,i){var r=e.toJS(n);return e.utils.stringifyJson(r,t,i)}}();e.exportSymbol("toJS",e.toJS);e.exportSymbol("toJSON",e.toJSON),function(){var n="__ko__hasDomDataOptionValue__";e.selectExtensions={readValue:function(t){switch(e.utils.tagNameLower(t)){case"option":return t[n]===!0?e.utils.domData.get(t,e.bindingHandlers.options.optionValueDomDataKey):t.getAttribute("value");case"select":return t.selectedIndex>=0?e.selectExtensions.readValue(t.options[t.selectedIndex]):r;default:return t.value}},writeValue:function(t,i){switch(e.utils.tagNameLower(t)){case"option":switch(typeof i){case"string":e.utils.domData.set(t,e.bindingHandlers.options.optionValueDomDataKey,r);n in t&&delete t[n];t.value=i;break;default:e.utils.domData.set(t,e.bindingHandlers.options.optionValueDomDataKey,i);t[n]=!0;t.value=typeof i=="number"?i:""}break;case"select":for(var u=t.options.length-1;u>=0;u--)if(e.selectExtensions.readValue(t.options[u])==i){t.selectedIndex=u;break}break;default:(i===null||i===r)&&(i="");t.value=i}}}}();e.exportSymbol("selectExtensions",e.selectExtensions);e.exportSymbol("selectExtensions.readValue",e.selectExtensions.readValue);e.exportSymbol("selectExtensions.writeValue",e.selectExtensions.writeValue);e.jsonExpressionRewriting=function(){function n(n,i){for(var r=null;n!=r;)r=n,n=n.replace(t,function(n,t){return i[t]});return n}function u(n){return e.utils.arrayIndexOf(r,e.utils.stringTrim(n).toLowerCase())>=0?!1:n.match(i)!==null}function f(n){var t=e.utils.stringTrim(n);switch(t.length&&t.charAt(0)){case"'":case'"':return n;default:return"'"+t+"'"}}var t=/\@ko_token_(\d+)\@/g,i=/^[\_$a-z][\_$a-z0-9]*(\[.*?\])*(\.[\_$a-z][\_$a-z0-9]*(\[.*?\])*)*$/i,r=["true","false"];return{bindingRewriteValidators:[],parseObjectLiteral:function(t){var i=e.utils.stringTrim(t),o,u,s,y,a,r,f,h,c,p,b,w,k,l,v,d,g;if(i.length<3)return[];for(i.charAt(0)==="{"&&(i=i.substring(1,i.length-1)),o=[],u=null,r=0;r<i.length;r++)if(f=i.charAt(r),u===null)switch(f){case'"':case"'":case"/":u=r;s=f}else f==s&&i.charAt(r-1)!=="\\"&&(h=i.substring(u,r+1),o.push(h),c="@ko_token_"+(o.length-1)+"@",i=i.substring(0,u)+c+i.substring(r+1),r-=h.length-c.length,u=null);for(u=null,s=null,y=0,a=null,r=0;r<i.length;r++){if(f=i.charAt(r),u===null)switch(f){case"{":u=r;a=f;s="}";break;case"(":u=r;a=f;s=")";break;case"[":u=r;a=f;s="]"}f===a?y++:f===s&&(y--,y===0&&(h=i.substring(u,r+1),o.push(h),c="@ko_token_"+(o.length-1)+"@",i=i.substring(0,u)+c+i.substring(r+1),r-=h.length-c.length,u=null))}for(p=[],b=i.split(","),w=0,k=b.length;w<k;w++)l=b[w],v=l.indexOf(":"),v>0&&v<l.length-1?(d=l.substring(0,v),g=l.substring(v+1),p.push({key:n(d,o),value:n(g,o)})):p.push({unknown:n(l,o)});return p},insertPropertyAccessorsIntoJson:function(n){for(var h,o,s,l,a=typeof n=="string"?e.jsonExpressionRewriting.parseObjectLiteral(n):n,t=[],r=[],i,c=0;i=a[c];c++)t.length>0&&t.push(","),i.key?(h=f(i.key),o=i.value,t.push(h),t.push(":"),t.push(o),u(e.utils.stringTrim(o))&&(r.length>0&&r.push(", "),r.push(h+" : function(__ko_value) { "+o+" = __ko_value; }"))):i.unknown&&t.push(i.unknown);return s=t.join(""),r.length>0&&(l=r.join(""),s=s+", '_ko_property_writers' : { "+l+" } "),s},keyValueArrayContainsKey:function(n,t){for(var i=0;i<n.length;i++)if(e.utils.stringTrim(n[i].key)==t)return!0;return!1},writeValueToProperty:function(n,t,i,r,u){if(n&&e.isWriteableObservable(n))u&&n()===r||n(r);else{var f=t()._ko_property_writers;f&&f[i]&&f[i](r)}}}}();e.exportSymbol("jsonExpressionRewriting",e.jsonExpressionRewriting);e.exportSymbol("jsonExpressionRewriting.bindingRewriteValidators",e.jsonExpressionRewriting.bindingRewriteValidators);e.exportSymbol("jsonExpressionRewriting.parseObjectLiteral",e.jsonExpressionRewriting.parseObjectLiteral);e.exportSymbol("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",e.jsonExpressionRewriting.insertPropertyAccessorsIntoJson),function(){function n(n){return n.nodeType==8&&(i?n.text:n.nodeValue).match(o)}function r(n){return n.nodeType==8&&(i?n.text:n.nodeValue).match(s)}function u(t,i){for(var u=t,f=1,e=[];u=u.nextSibling;){if(r(u)&&(f--,f===0))return e;e.push(u);n(u)&&f++}if(!i)throw new Error("Cannot find closing comment tag to match: "+t.nodeValue);return null}function f(n,t){var i=u(n,t);return i?i.length>0?i[i.length-1].nextSibling:n.nextSibling:null}function c(t){var i=t.firstChild,u=null,e;if(i)do u?u.push(i):n(i)?(e=f(i,!0),e?i=e:u=[i]):r(i)&&(u=[i]);while(i=i.nextSibling);return u}var i=t.createComment("test").text==="<!--test-->",o=i?/^<!--\s*ko\s+(.*\:.*)\s*-->$/:/^\s*ko\s+(.*\:.*)\s*$/,s=i?/^<!--\s*\/ko\s*-->$/:/^\s*\/ko\s*$/,h={ul:!0,ol:!0};e.virtualElements={allowedBindings:{},childNodes:function(t){return n(t)?u(t):t.childNodes},emptyNode:function(t){var r,i,u;if(n(t))for(r=e.virtualElements.childNodes(t),i=0,u=r.length;i<u;i++)e.removeNode(r[i]);else e.utils.emptyDomNode(t)},setDomNodeChildren:function(t,i){var u,r,f;if(n(t))for(e.virtualElements.emptyNode(t),u=t.nextSibling,r=0,f=i.length;r<f;r++)u.parentNode.insertBefore(i[r],u);else e.utils.setDomNodeChildren(t,i)},prepend:function(t,i){n(t)?t.parentNode.insertBefore(i,t.nextSibling):t.firstChild?t.insertBefore(i,t.firstChild):t.appendChild(i)},insertAfter:function(t,i,r){n(t)?t.parentNode.insertBefore(i,r.nextSibling):r.nextSibling?t.insertBefore(i,r.nextSibling):t.appendChild(i)},firstChild:function(t){return n(t)?!t.nextSibling||r(t.nextSibling)?null:t.nextSibling:t.firstChild},nextSibling:function(t){return(n(t)&&(t=f(t)),t.nextSibling&&r(t.nextSibling))?null:t.nextSibling},virtualNodeBindingValue:function(t){var i=n(t);return i?i[1]:null},normaliseVirtualElementDomStructure:function(n){var t,i,u,r;if(h[e.utils.tagNameLower(n)]&&(t=n.firstChild,t))do if(t.nodeType===1&&(i=c(t),i))for(u=t.nextSibling,r=0;r<i.length;r++)u?n.insertBefore(i[r],u):n.appendChild(i[r]);while(t=t.nextSibling)}}}();e.exportSymbol("virtualElements",e.virtualElements);e.exportSymbol("virtualElements.allowedBindings",e.virtualElements.allowedBindings);e.exportSymbol("virtualElements.emptyNode",e.virtualElements.emptyNode);e.exportSymbol("virtualElements.insertAfter",e.virtualElements.insertAfter);e.exportSymbol("virtualElements.prepend",e.virtualElements.prepend);e.exportSymbol("virtualElements.setDomNodeChildren",e.virtualElements.setDomNodeChildren),function(){function t(n,t,r){var u=t+"_"+n;return r[u]||(r[u]=i(n,t))}function i(n,t){var i=" { "+e.jsonExpressionRewriting.insertPropertyAccessorsIntoJson(n)+" } ";return e.utils.buildEvalWithinScopeFunction(i,t)}var n="data-bind";e.bindingProvider=function(){this.bindingCache={}};e.utils.extend(e.bindingProvider.prototype,{nodeHasBindings:function(t){switch(t.nodeType){case 1:return t.getAttribute(n)!=null;case 8:return e.virtualElements.virtualNodeBindingValue(t)!=null;default:return!1}},getBindings:function(n,t){var i=this.getBindingsString(n,t);return i?this.parseBindingsString(i,t):null},getBindingsString:function(t){switch(t.nodeType){case 1:return t.getAttribute(n);case 8:return e.virtualElements.virtualNodeBindingValue(t);default:return null}},parseBindingsString:function(n,i){try{var r=i.$data,u=typeof r=="object"&&r!=null?[r,i]:[i],f=t(n,u.length,this.bindingCache);return f(u)}catch(e){throw new Error("Unable to parse bindings.\nMessage: "+e+";\nBindings value: "+n);}}});e.bindingProvider.instance=new e.bindingProvider}();e.exportSymbol("bindingProvider",e.bindingProvider),function(){function o(n){var t=e.virtualElements.allowedBindings[n];if(!t)throw new Error("The binding '"+n+"' cannot be used with virtual elements");}function t(n,t,r){for(var u,f=e.virtualElements.firstChild(t);u=f;)f=e.virtualElements.nextSibling(u),i(n,u,r)}function i(n,i,r){var o=!0,f=i.nodeType===1,s;f&&e.virtualElements.normaliseVirtualElementDomStructure(i);s=f&&r||e.bindingProvider.instance.nodeHasBindings(i);s&&(o=u(i,null,n,r).shouldBindDescendants);o&&t(n,i,!f)}function u(n,t,i,u){function c(n){return function(){return f[n]}}function l(){return f}var s=0,f,h;return e.dependentObservable(function(){var y=i&&i instanceof e.bindingContext?i:new e.bindingContext(e.utils.unwrapObservable(i)),w=y.$data,b,k,p,a,v,d;if(u&&e.storedBindingContextForNode(n,y),b=typeof t=="function"?t():t,f=b||e.bindingProvider.instance.getBindings(n,y),f){if(s===0){s=1;for(a in f)if(v=e.bindingHandlers[a],v&&n.nodeType===8&&o(a),v&&typeof v.init=="function"&&(k=v.init,p=k(n,c(a),l,w,y),p&&p.controlsDescendantBindings)){if(h!==r)throw new Error("Multiple bindings ("+h+" and "+a+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");h=a}s=2}if(s===2)for(a in f)v=e.bindingHandlers[a],v&&typeof v.update=="function"&&(d=v.update,d(n,c(a),l,w,y))}},null,{disposeWhenNodeIsRemoved:n}),{shouldBindDescendants:h===r}}e.bindingHandlers={};e.bindingContext=function(n,t){t?(e.utils.extend(this,t),this.$parentContext=t,this.$parent=t.$data,this.$parents=(t.$parents||[]).slice(0),this.$parents.unshift(this.$parent)):(this.$parents=[],this.$root=n);this.$data=n};e.bindingContext.prototype.createChildContext=function(n){return new e.bindingContext(n,this)};e.bindingContext.prototype.extend=function(n){var t=e.utils.extend(new e.bindingContext,this);return e.utils.extend(t,n)};var f="__ko_bindingContext__";e.storedBindingContextForNode=function(n,t){if(arguments.length==2)e.utils.domData.set(n,f,t);else return e.utils.domData.get(n,f)};e.applyBindingsToNode=function(n,t,i){return n.nodeType===1&&e.virtualElements.normaliseVirtualElementDomStructure(n),u(n,t,i,!0)};e.applyBindingsToDescendants=function(n,i){(i.nodeType===1||i.nodeType===8)&&t(n,i,!0)};e.applyBindings=function(t,r){if(r&&r.nodeType!==1&&r.nodeType!==8)throw new Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");r=r||n.document.body;i(t,r,!0)};e.contextFor=function(n){switch(n.nodeType){case 1:case 8:var t=e.storedBindingContextForNode(n);if(t)return t;if(n.parentNode)return e.contextFor(n.parentNode)}return r};e.dataFor=function(n){var t=e.contextFor(n);return t?t.$data:r};e.exportSymbol("bindingHandlers",e.bindingHandlers);e.exportSymbol("applyBindings",e.applyBindings);e.exportSymbol("applyBindingsToDescendants",e.applyBindingsToDescendants);e.exportSymbol("applyBindingsToNode",e.applyBindingsToNode);e.exportSymbol("contextFor",e.contextFor);e.exportSymbol("dataFor",e.dataFor)}();a=["click"];e.utils.arrayForEach(a,function(n){e.bindingHandlers[n]={init:function(t,i,r,u){var f=function(){var t={};return t[n]=i(),t};return e.bindingHandlers.event.init.call(this,t,f,r,u)}}});e.bindingHandlers.event={init:function(n,t,i,r){var u=t()||{};for(var f in u)(function(){var u=f;typeof u=="string"&&e.utils.registerEventHandler(n,u,function(n){var o,s=t()[u],h,f,c;if(s){h=i();try{f=e.utils.makeArray(arguments);f.unshift(r);o=s.apply(r,f)}finally{o!==!0&&(n.preventDefault?n.preventDefault():n.returnValue=!1)}c=h[u+"Bubble"]!==!1;c||(n.cancelBubble=!0,n.stopPropagation&&n.stopPropagation())}})})()}};e.bindingHandlers.submit={init:function(n,t,i,r){if(typeof t()!="function")throw new Error("The value for a submit binding must be a function");e.utils.registerEventHandler(n,"submit",function(i){var u,f=t();try{u=f.call(r,n)}finally{u!==!0&&(i.preventDefault?i.preventDefault():i.returnValue=!1)}})}};e.bindingHandlers.visible={update:function(n,t){var i=e.utils.unwrapObservable(t()),r=!(n.style.display=="none");i&&!r?n.style.display="":!i&&r&&(n.style.display="none")}};e.bindingHandlers.enable={update:function(n,t){var i=e.utils.unwrapObservable(t());i&&n.disabled?n.removeAttribute("disabled"):i||n.disabled||(n.disabled=!0)}};e.bindingHandlers.disable={update:function(n,t){e.bindingHandlers.enable.update(n,function(){return!e.utils.unwrapObservable(t())})}};e.bindingHandlers.value={init:function(n,t,i){var r=["change"],u=i().valueUpdate,f,s,o;u&&(typeof u=="string"&&(u=[u]),e.utils.arrayPushAll(r,u),r=e.utils.arrayGetDistinctValues(r));f=function(){var r=t(),u=e.selectExtensions.readValue(n);e.jsonExpressionRewriting.writeValueToProperty(r,i,"value",u,!0)};s=e.utils.ieVersion&&n.tagName.toLowerCase()=="input"&&n.type=="text"&&n.autocomplete!="off"&&(!n.form||n.form.autocomplete!="off");s&&e.utils.arrayIndexOf(r,"propertychange")==-1&&(o=!1,e.utils.registerEventHandler(n,"propertychange",function(){o=!0}),e.utils.registerEventHandler(n,"blur",function(){o&&(o=!1,f())}));e.utils.arrayForEach(r,function(t){var i=f;e.utils.stringStartsWith(t,"after")&&(i=function(){setTimeout(f,0)},t=t.substring(5));e.utils.registerEventHandler(n,t,i)})},update:function(n,t){var f=e.utils.tagNameLower(n)==="select",i=e.utils.unwrapObservable(t()),r=e.selectExtensions.readValue(n),o=i!=r,u,s;i===0&&r!==0&&r!=="0"&&(o=!0);o&&(u=function(){e.selectExtensions.writeValue(n,i)},u(),s=f,s&&setTimeout(u,0));f&&n.length>0&&v(n,i,!1)}};e.bindingHandlers.options={update:function(n,i,u){var s,h,c,l,a,p,w,f,y;if(e.utils.tagNameLower(n)!=="select")throw new Error("options binding applies only to SELECT elements");for(var b=n.length==0,k=e.utils.arrayMap(e.utils.arrayFilter(n.childNodes,function(n){return n.tagName&&e.utils.tagNameLower(n)==="option"&&n.selected}),function(n){return e.selectExtensions.readValue(n)||n.innerText||n.textContent}),d=n.scrollTop,o=e.utils.unwrapObservable(i()),g=n.value;n.length>0;)e.cleanNode(n.options[0]),n.remove(0);if(o){for(s=u(),typeof o.length!="number"&&(o=[o]),s.optionsCaption&&(h=t.createElement("option"),e.utils.setHtml(h,s.optionsCaption),e.selectExtensions.writeValue(h,r),n.appendChild(h)),f=0,y=o.length;f<y;f++)h=t.createElement("option"),c=typeof s.optionsValue=="string"?o[f][s.optionsValue]:o[f],c=e.utils.unwrapObservable(c),e.selectExtensions.writeValue(h,c),l=s.optionsText,a=typeof l=="function"?l(o[f]):typeof l=="string"?o[f][l]:c,(a===null||a===r)&&(a=""),e.utils.setTextContent(h,a),n.appendChild(h);for(p=n.getElementsByTagName("option"),w=0,f=0,y=p.length;f<y;f++)e.utils.arrayIndexOf(k,e.selectExtensions.readValue(p[f]))>=0&&(e.utils.setOptionNodeSelectionState(p[f],!0),w++);n.scrollTop=d;b&&"value"in s&&v(n,e.utils.unwrapObservable(s.value),!0);e.utils.ensureSelectElementIsRenderedCorrectly(n)}}};e.bindingHandlers.options.optionValueDomDataKey="__ko.optionValueDomData__";e.bindingHandlers.selectedOptions={getSelectedValuesFromSelectNode:function(n){for(var t,u,o,i=[],f=n.childNodes,r=0,s=f.length;r<s;r++)t=f[r],u=e.utils.tagNameLower(t),u=="option"&&t.selected?i.push(e.selectExtensions.readValue(t)):u=="optgroup"&&(o=e.bindingHandlers.selectedOptions.getSelectedValuesFromSelectNode(t),Array.prototype.splice.apply(i,[i.length,0].concat(o)));return i},init:function(n,t,i){e.utils.registerEventHandler(n,"change",function(){var n=t(),r=e.bindingHandlers.selectedOptions.getSelectedValuesFromSelectNode(this);e.jsonExpressionRewriting.writeValueToProperty(n,i,"value",r)})},update:function(n,t){var i,f,r,o,u;if(e.utils.tagNameLower(n)!="select")throw new Error("values binding applies only to SELECT elements");if(i=e.utils.unwrapObservable(t()),i&&typeof i.length=="number")for(f=n.childNodes,r=0,o=f.length;r<o;r++)u=f[r],e.utils.tagNameLower(u)==="option"&&e.utils.setOptionNodeSelectionState(u,e.utils.arrayIndexOf(i,e.selectExtensions.readValue(u))>=0)}};e.bindingHandlers.text={update:function(n,t){e.utils.setTextContent(n,t())}};e.bindingHandlers.html={init:function(){return{controlsDescendantBindings:!0}},update:function(n,t){var i=e.utils.unwrapObservable(t());e.utils.setHtml(n,i)}};e.bindingHandlers.css={update:function(n,t){var r=e.utils.unwrapObservable(t()||{}),i,u;for(i in r)typeof i=="string"&&(u=e.utils.unwrapObservable(r[i]),e.utils.toggleDomNodeCssClass(n,i,u))}};e.bindingHandlers.style={update:function(n,t){var r=e.utils.unwrapObservable(t()||{}),i,u;for(i in r)typeof i=="string"&&(u=e.utils.unwrapObservable(r[i]),n.style[i]=u||"")}};e.bindingHandlers.uniqueName={init:function(n,i){i()&&(n.name="ko_unique_"+ ++e.bindingHandlers.uniqueName.currentIndex,(e.utils.isIe6||e.utils.isIe7)&&n.mergeAttributes(t.createElement("<input name='"+n.name+"'/>"),!1))}};e.bindingHandlers.uniqueName.currentIndex=0;e.bindingHandlers.checked={init:function(n,t,i){var r=function(){var f,r,u;if(n.type=="checkbox")f=n.checked;else if(n.type=="radio"&&n.checked)f=n.value;else return;r=t();n.type=="checkbox"&&e.utils.unwrapObservable(r)instanceof Array?(u=e.utils.arrayIndexOf(e.utils.unwrapObservable(r),n.value),n.checked&&u<0?r.push(n.value):!n.checked&&u>=0&&r.splice(u,1)):e.jsonExpressionRewriting.writeValueToProperty(r,i,"checked",f,!0)};e.utils.registerEventHandler(n,"click",r);n.type!="radio"||n.name||e.bindingHandlers.uniqueName.init(n,function(){return!0})},update:function(n,t){var i=e.utils.unwrapObservable(t());n.type=="checkbox"?n.checked=i instanceof Array?e.utils.arrayIndexOf(i,n.value)>=0:i:n.type=="radio"&&(n.checked=n.value==i)}};c={"class":"className","for":"htmlFor"};e.bindingHandlers.attr={update:function(n,t){var o=e.utils.unwrapObservable(t())||{},i,u,f;for(i in o)typeof i=="string"&&(u=e.utils.unwrapObservable(o[i]),f=u===!1||u===null||u===r,f&&n.removeAttribute(i),e.utils.ieVersion<=8&&i in c?(i=c[i],f?n.removeAttribute(i):n[i]=u):f||n.setAttribute(i,u.toString()))}};e.bindingHandlers.hasfocus={init:function(n,t,i){var r=function(n){var r=t();e.jsonExpressionRewriting.writeValueToProperty(r,i,"hasfocus",n,!0)};e.utils.registerEventHandler(n,"focus",function(){r(!0)});e.utils.registerEventHandler(n,"focusin",function(){r(!0)});e.utils.registerEventHandler(n,"blur",function(){r(!1)});e.utils.registerEventHandler(n,"focusout",function(){r(!1)})},update:function(n,t){var i=e.utils.unwrapObservable(t());i?n.focus():n.blur();e.utils.triggerEvent(n,i?"focusin":"focusout")}};e.bindingHandlers["with"]={makeTemplateValueAccessor:function(n){return function(){var t=n();return{"if":t,data:t,templateEngine:e.nativeTemplateEngine.instance}}},init:function(n,t){return e.bindingHandlers.template.init(n,e.bindingHandlers["with"].makeTemplateValueAccessor(t))},update:function(n,t,i,r,u){return e.bindingHandlers.template.update(n,e.bindingHandlers["with"].makeTemplateValueAccessor(t),i,r,u)}};e.jsonExpressionRewriting.bindingRewriteValidators["with"]=!1;e.virtualElements.allowedBindings["with"]=!0;e.bindingHandlers["if"]={makeTemplateValueAccessor:function(n){return function(){return{"if":n(),templateEngine:e.nativeTemplateEngine.instance}}},init:function(n,t){return e.bindingHandlers.template.init(n,e.bindingHandlers["if"].makeTemplateValueAccessor(t))},update:function(n,t,i,r,u){return e.bindingHandlers.template.update(n,e.bindingHandlers["if"].makeTemplateValueAccessor(t),i,r,u)}};e.jsonExpressionRewriting.bindingRewriteValidators["if"]=!1;e.virtualElements.allowedBindings["if"]=!0;e.bindingHandlers.ifnot={makeTemplateValueAccessor:function(n){return function(){return{ifnot:n(),templateEngine:e.nativeTemplateEngine.instance}}},init:function(n,t){return e.bindingHandlers.template.init(n,e.bindingHandlers.ifnot.makeTemplateValueAccessor(t))},update:function(n,t,i,r,u){return e.bindingHandlers.template.update(n,e.bindingHandlers.ifnot.makeTemplateValueAccessor(t),i,r,u)}};e.jsonExpressionRewriting.bindingRewriteValidators.ifnot=!1;e.virtualElements.allowedBindings.ifnot=!0;e.bindingHandlers.foreach={makeTemplateValueAccessor:function(n){return function(){var t=e.utils.unwrapObservable(n());return!t||typeof t.length=="number"?{foreach:t,templateEngine:e.nativeTemplateEngine.instance}:{foreach:t.data,includeDestroyed:t.includeDestroyed,afterAdd:t.afterAdd,beforeRemove:t.beforeRemove,afterRender:t.afterRender,templateEngine:e.nativeTemplateEngine.instance}}},init:function(n,t){return e.bindingHandlers.template.init(n,e.bindingHandlers.foreach.makeTemplateValueAccessor(t))},update:function(n,t,i,r,u){return e.bindingHandlers.template.update(n,e.bindingHandlers.foreach.makeTemplateValueAccessor(t),i,r,u)}};e.jsonExpressionRewriting.bindingRewriteValidators.foreach=!1;e.virtualElements.allowedBindings.foreach=!0;e.templateEngine=function(){};e.templateEngine.prototype.renderTemplateSource=function(){throw new Error("Override renderTemplateSource");};e.templateEngine.prototype.createJavaScriptEvaluatorBlock=function(){throw new Error("Override createJavaScriptEvaluatorBlock");};e.templateEngine.prototype.makeTemplateSource=function(n,i){if(typeof n=="string"){i=i||t;var r=i.getElementById(n);if(!r)throw new Error("Cannot find template with ID "+n);return new e.templateSources.domElement(r)}if(n.nodeType==1||n.nodeType==8)return new e.templateSources.anonymousTemplate(n);throw new Error("Unknown template type: "+n);};e.templateEngine.prototype.renderTemplate=function(n,t,i,r){var u=this.makeTemplateSource(n,r);return this.renderTemplateSource(u,t,i)};e.templateEngine.prototype.isTemplateRewritten=function(n,i){if(this.allowTemplateRewriting===!1)return!0;var r=i&&i!=t;return!r&&this.knownRewrittenTemplates&&this.knownRewrittenTemplates[n]?!0:this.makeTemplateSource(n,i).data("isRewritten")};e.templateEngine.prototype.rewriteTemplate=function(n,i,r){var u=this.makeTemplateSource(n,r),e=i(u.text()),f;u.text(e);u.data("isRewritten",!0);f=r&&r!=t;f||typeof n!="string"||(this.knownRewrittenTemplates=this.knownRewrittenTemplates||{},this.knownRewrittenTemplates[n]=!0)};e.exportSymbol("templateEngine",e.templateEngine);e.templateRewriting=function(){function r(n){for(var i,r,u,f=e.jsonExpressionRewriting.bindingRewriteValidators,t=0;t<n.length;t++)if(i=n[t].key,f.hasOwnProperty(i))if(r=f[i],typeof r=="function"){if(u=r(n[t].value),u)throw new Error(u);}else if(!r)throw new Error("This template engine does not support the '"+i+"' binding within its templates");}function n(n,t,i){var u=e.jsonExpressionRewriting.parseObjectLiteral(n),f,o;return r(u),f=e.jsonExpressionRewriting.insertPropertyAccessorsIntoJson(u),o="ko.templateRewriting.applyMemoizedBindingsToNextSibling(function() {             return (function() { return { "+f+" } })()         })",i.createJavaScriptEvaluatorBlock(o)+t}var t=/(<[a-z]+\d*(\s+(?!data-bind=)[a-z0-9\-]+(=(\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind=(["'])([\s\S]*?)\5/gi,i=/<!--\s*ko\b\s*([\s\S]*?)\s*-->/g;return{ensureTemplateIsRewritten:function(n,t,i){t.isTemplateRewritten(n,i)||t.rewriteTemplate(n,function(n){return e.templateRewriting.memoizeBindingAttributeSyntax(n,t)},i)},memoizeBindingAttributeSyntax:function(r,u){return r.replace(t,function(){return n(arguments[6],arguments[1],u)}).replace(i,function(){return n(arguments[1],"<!-- ko -->",u)})},applyMemoizedBindingsToNextSibling:function(n){return e.memoization.memoize(function(t,i){t.nextSibling&&e.applyBindingsToNode(t.nextSibling,n,i)})}}}();e.exportSymbol("templateRewriting",e.templateRewriting);e.exportSymbol("templateRewriting.applyMemoizedBindingsToNextSibling",e.templateRewriting.applyMemoizedBindingsToNextSibling),function(){e.templateSources={};e.templateSources.domElement=function(n){this.domElement=n};e.templateSources.domElement.prototype.text=function(){var i=e.utils.tagNameLower(this.domElement),n=i==="script"?"text":i==="textarea"?"value":"innerHTML",t;if(arguments.length==0)return this.domElement[n];t=arguments[0];n==="innerHTML"?e.utils.setHtml(this.domElement,t):this.domElement[n]=t};e.templateSources.domElement.prototype.data=function(n){if(arguments.length===1)return e.utils.domData.get(this.domElement,"templateSourceData_"+n);e.utils.domData.set(this.domElement,"templateSourceData_"+n,arguments[1])};var n="__ko_anon_template__";e.templateSources.anonymousTemplate=function(n){this.domElement=n};e.templateSources.anonymousTemplate.prototype=new e.templateSources.domElement;e.templateSources.anonymousTemplate.prototype.text=function(){var t,i;if(arguments.length==0)return t=e.utils.domData.get(this.domElement,n)||{},t.textData===r&&t.containerData&&(t.textData=t.containerData.innerHTML),t.textData;i=arguments[0];e.utils.domData.set(this.domElement,n,{textData:i})};e.templateSources.domElement.prototype.nodes=function(){var t,i;if(arguments.length==0)return t=e.utils.domData.get(this.domElement,n)||{},t.containerData;i=arguments[0];e.utils.domData.set(this.domElement,n,{containerData:i})};e.exportSymbol("templateSources",e.templateSources);e.exportSymbol("templateSources.domElement",e.templateSources.domElement);e.exportSymbol("templateSources.anonymousTemplate",e.templateSources.anonymousTemplate)}(),function(){function u(n,t,i){for(var r,u=n,f=e.virtualElements.nextSibling(t);u&&(r=u)!==f;)u=e.virtualElements.nextSibling(r),(r.nodeType===1||r.nodeType===8)&&i(r)}function f(n,t){if(n.length){var i=n[0],r=n[n.length-1];u(i,r,function(n){e.applyBindings(t,n)});u(i,r,function(n){e.memoization.unmemoizeDomNodeAndDescendants(n,[t])})}}function t(n){return n.nodeType?n:n.length>0?n[0]:null}function o(i,r,u,o,s){var h,c;s=s||{};var l=i&&t(i),a=l&&l.ownerDocument,v=s.templateEngine||n;if(e.templateRewriting.ensureTemplateIsRewritten(u,v,a),h=v.renderTemplate(u,o,s,a),typeof h.length!="number"||h.length>0&&typeof h[0].nodeType!="number")throw new Error("Template engine must return an array of DOM nodes");c=!1;switch(r){case"replaceChildren":e.virtualElements.setDomNodeChildren(i,h);c=!0;break;case"replaceNode":e.utils.replaceDomNodes(i,h);c=!0;break;case"ignoreTargetNode":break;default:throw new Error("Unknown renderMode: "+r);}return c&&(f(h,o),s.afterRender&&s.afterRender(h,o.$data)),h}function s(n,t){var r=e.utils.domData.get(n,i);r&&typeof r.dispose=="function"&&r.dispose();e.utils.domData.set(n,i,t)}var n,i;e.setTemplateEngine=function(t){if(t!=r&&!(t instanceof e.templateEngine))throw new Error("templateEngine must inherit from ko.templateEngine");n=t};e.renderTemplate=function(i,u,f,s,h){if(f=f||{},(f.templateEngine||n)==r)throw new Error("Set a template engine before calling renderTemplate");if(h=h||"replaceChildren",s){var c=t(s),l=function(){return!c||!e.utils.domNodeIsAttachedToDocument(c)},a=c&&h=="replaceNode"?c.parentNode:c;return e.dependentObservable(function(){var n=u&&u instanceof e.bindingContext?u:new e.bindingContext(e.utils.unwrapObservable(u)),r=typeof i=="function"?i(n.$data):i,l=o(s,h,r,n,f);h=="replaceNode"&&(s=l,c=t(s))},null,{disposeWhen:l,disposeWhenNodeIsRemoved:a})}return e.memoization.memoize(function(n){e.renderTemplate(i,u,f,n,"replaceNode")})};e.renderTemplateForEach=function(n,t,i,u,s){var h,c=function(t,r){var u=typeof n=="function"?n(t):n;return h=s.createChildContext(e.utils.unwrapObservable(t)),h.$index=r,o(null,"ignoreTargetNode",u,h,i)},l=function(n,t){f(t,h);i.afterRender&&i.afterRender(t,n)};return e.dependentObservable(function(){var n=e.utils.unwrapObservable(t)||[],f;typeof n.length=="undefined"&&(n=[n]);f=e.utils.arrayFilter(n,function(n){return i.includeDestroyed||n===r||n===null||!e.utils.unwrapObservable(n._destroy)});e.utils.setDomNodeChildrenFromArrayMapping(u,f,c,i,l)},null,{disposeWhenNodeIsRemoved:u})};i="__ko__templateSubscriptionDomDataKey__";e.bindingHandlers.template={init:function(n,t){var i=e.utils.unwrapObservable(t()),r,u;return typeof i=="string"||i.name||n.nodeType!=1&&n.nodeType!=8||(r=n.nodeType==1?n.childNodes:e.virtualElements.childNodes(n),u=e.utils.moveCleanedNodesToContainerElement(r),new e.templateSources.anonymousTemplate(n).nodes(u)),{controlsDescendantBindings:!0}},update:function(n,t,i,r,u){var f=e.utils.unwrapObservable(t()),h,o=!0,c,l,a;typeof f=="string"?h=f:(h=f.name,"if"in f&&(o=o&&e.utils.unwrapObservable(f["if"])),"ifnot"in f&&(o=o&&!e.utils.unwrapObservable(f.ifnot)));c=null;typeof f=="object"&&"foreach"in f?(l=o&&f.foreach||[],c=e.renderTemplateForEach(h||n,l,f,n,u)):o?(a=typeof f=="object"&&"data"in f?u.createChildContext(e.utils.unwrapObservable(f.data)):u,c=e.renderTemplate(h||n,a,f,n)):e.virtualElements.emptyNode(n);s(n,c)}};e.jsonExpressionRewriting.bindingRewriteValidators.template=function(n){var t=e.jsonExpressionRewriting.parseObjectLiteral(n);return t.length==1&&t[0].unknown?null:e.jsonExpressionRewriting.keyValueArrayContainsKey(t,"name")?null:"This template engine does not support anonymous templates nested within its templates"};e.virtualElements.allowedBindings.template=!0}();e.exportSymbol("setTemplateEngine",e.setTemplateEngine);e.exportSymbol("renderTemplate",e.renderTemplate),function(){function n(n,t,i){for(var s,f,h,o,c,l,a,v,y,e=[],u=0;u<=t.length;u++)e[u]=[];for(u=0,s=Math.min(n.length,i);u<=s;u++)e[0][u]=u;for(u=1,s=Math.min(t.length,i);u<=s;u++)e[u][0]=u;for(h=n.length,c=t.length,f=1;f<=h;f++)for(l=Math.max(1,f-i),a=Math.min(c,f+i),o=l;o<=a;o++)n[f-1]===t[o-1]?e[o][f]=e[o-1][f-1]:(v=e[o-1][f]===r?Number.MAX_VALUE:e[o-1][f]+1,y=e[o][f-1]===r?Number.MAX_VALUE:e[o][f-1]+1,e[o][f]=Math.min(v,y));return e}function t(n,t,i){var u=t.length,f=i.length,h=[],e=n[f][u];if(e===r)return null;while(u>0||f>0){var l=n[f][u],o=f>0?n[f-1][u]:e+1,s=u>0?n[f][u-1]:e+1,c=f>0&&u>0?n[f-1][u-1]:e+1;(o===r||o<l-1)&&(o=e+1);(s===r||s<l-1)&&(s=e+1);c<l-1&&(c=e+1);o<=s&&o<c?(h.push({status:"added",value:i[f-1]}),f--):s<o&&s<c?(h.push({status:"deleted",value:t[u-1]}),u--):(h.push({status:"retained",value:t[u-1]}),f--,u--)}return h.reverse()}e.utils.compareArrays=function(i,u,f){if(f===r)return e.utils.compareArrays(i,u,1)||e.utils.compareArrays(i,u,10)||e.utils.compareArrays(i,u,Number.MAX_VALUE);i=i||[];u=u||[];var o=n(i,u,f);return t(o,i,u)}}();e.exportSymbol("utils.compareArrays",e.utils.compareArrays),function(){function t(n){if(n.length>2){for(var t=n[0],r=n[n.length-1],i=[t];t!==r;){if(t=t.nextSibling,!t)return;i.push(t)}Array.prototype.splice.apply(n,[0,n.length].concat(i))}}function i(n,i,r,u,f){var o=[],s=e.dependentObservable(function(){var n=i(r,f)||[];o.length>0&&(t(o),e.utils.replaceDomNodes(o,n),u&&u(r,n));o.splice(0,o.length);e.utils.arrayPushAll(o,n)},null,{disposeWhenNodeIsRemoved:n,disposeWhen:function(){return o.length==0||!e.utils.domNodeIsAttachedToDocument(o[0])}});return{mappedNodes:o,dependentObservable:s}}var n="setDomNodeChildrenFromArrayMapping_lastMappingResult";e.utils.setDomNodeChildrenFromArrayMapping=function(u,f,o,s,h){var ft,y,nt,st,k,ut,c,tt;f=f||[];s=s||{};var ht=e.utils.domData.get(u,n)===r,p=e.utils.domData.get(u,n)||[],ct=e.utils.arrayMap(p,function(n){return n.arrayEntry}),a=e.utils.compareArrays(ct,f),it=[],v=0,l=[],d=0,w=[],b=null;for(c=0,ft=a.length;c<ft;c++)switch(a[c].status){case"retained":y=p[v];y.indexObservable(d);d=it.push(y);y.domNodes.length>0&&(b=y.domNodes[y.domNodes.length-1]);v++;break;case"deleted":p[v].dependentObservable.dispose();t(p[v].domNodes);e.utils.arrayForEach(p[v].domNodes,function(n){l.push({element:n,index:c,value:a[c].value});b=n});v++;break;case"added":var et=a[c].value,rt=e.observable(d),ot=i(u,o,et,h,rt),g=ot.mappedNodes;for(d=it.push({arrayEntry:a[c].value,domNodes:g,dependentObservable:ot.dependentObservable,indexObservable:rt}),nt=0,st=g.length;nt<st;nt++)k=g[nt],w.push({element:k,index:c,value:a[c].value}),b==null?e.virtualElements.prepend(u,k):e.virtualElements.insertAfter(u,k,b),b=k;h&&h(et,g,rt)}if(e.utils.arrayForEach(l,function(n){e.cleanNode(n.element)}),ut=!1,!ht){if(s.afterAdd)for(c=0;c<w.length;c++)s.afterAdd(w[c].element,w[c].index,w[c].value);if(s.beforeRemove){for(c=0;c<l.length;c++)s.beforeRemove(l[c].element,l[c].index,l[c].value);ut=!0}}if(!ut&&l.length)for(c=0;c<l.length;c++)tt=l[c].element,tt.parentNode&&tt.parentNode.removeChild(tt);e.utils.domData.set(u,n,it)}}();e.exportSymbol("utils.setDomNodeChildrenFromArrayMapping",e.utils.setDomNodeChildrenFromArrayMapping);e.nativeTemplateEngine=function(){this.allowTemplateRewriting=!1};e.nativeTemplateEngine.prototype=new e.templateEngine;e.nativeTemplateEngine.prototype.renderTemplateSource=function(n){var r=!(e.utils.ieVersion<9),u=r?n.nodes:null,t=u?n.nodes():null,i;return t?e.utils.makeArray(t.cloneNode(!0).childNodes):(i=n.text(),e.utils.parseHtmlFragment(i))};e.nativeTemplateEngine.instance=new e.nativeTemplateEngine;e.setTemplateEngine(e.nativeTemplateEngine.instance);e.exportSymbol("nativeTemplateEngine",e.nativeTemplateEngine),function(){e.jqueryTmplTemplateEngine=function(){function i(){if(n<2)throw new Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");}function r(n,t,i){return jQuery.tmpl(n,t,i)}var n=this.jQueryTmplVersion=function(){if(typeof jQuery=="undefined"||!jQuery.tmpl)return 0;try{if(jQuery.tmpl.tag.tmpl.open.toString().indexOf("__")>=0)return 2}catch(n){}return 1}();this.renderTemplateSource=function(n,u,f){var e,o;f=f||{};i();e=n.data("precompiled");e||(o=n.text()||"",o="{{ko_with $item.koBindingContext}}"+o+"{{/ko_with}}",e=jQuery.template(null,o),n.data("precompiled",e));var h=[u.$data],c=jQuery.extend({koBindingContext:u},f.templateOptions),s=r(e,h,c);return s.appendTo(t.createElement("div")),jQuery.fragments={},s};this.createJavaScriptEvaluatorBlock=function(n){return"{{ko_code ((function() { return "+n+" })()) }}"};this.addTemplate=function(n,i){t.write("<script type='text/html' id='"+n+"'>"+i+"<\/script>")};n>0&&(jQuery.tmpl.tag.ko_code={open:"__.push($1 || '');"},jQuery.tmpl.tag.ko_with={open:"with($1) {",close:"} "})};e.jqueryTmplTemplateEngine.prototype=new e.templateEngine;var n=new e.jqueryTmplTemplateEngine;n.jQueryTmplVersion>0&&e.setTemplateEngine(n);e.exportSymbol("jqueryTmplTemplateEngine",e.jqueryTmplTemplateEngine)}()})})(window,document,navigator);
;
/*!
* Date Format 1.2.3
* (c) 2007-2009 Steven Levithan <stevenlevithan.com>
* MIT license
*
* Includes enhancements by Scott Trenda <scott.trenda.net>
* and Kris Kowal <cixar.com/~kris.kowal/>
*
* Accepts a date, a mask, or a date and a mask.
* Returns a formatted version of the given date.
* The date defaults to the current date/time.
* The mask defaults to dateFormat.masks.default.
*/
var dateFormat=function(){var t=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,i=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,r=/[^-+\dA-Z]/g,n=function(n,t){for(n=String(n),t=t||2;n.length<t;)n="0"+n;return n};return function(u,f,e){var h=dateFormat;arguments.length!=1||Object.prototype.toString.call(u)!="[object String]"||/\d/.test(u)||(f=u,u=undefined);u=u?new Date(u):new Date;f=String(h.masks[f]||f||h.masks["default"]);f.slice(0,4)=="UTC:"&&(f=f.slice(4),e=!0);var o=e?"getUTC":"get",c=u[o+"Date"](),y=u[o+"Day"](),l=u[o+"Month"](),p=u[o+"FullYear"](),s=u[o+"Hours"](),w=u[o+"Minutes"](),b=u[o+"Seconds"](),a=u[o+"Milliseconds"](),v=e?0:u.getTimezoneOffset(),k={d:c,dd:n(c),ddd:h.i18n.dayNames[y],dddd:h.i18n.dayNames[y+7],m:l+1,mm:n(l+1),mmm:h.i18n.monthNames[l],mmmm:h.i18n.monthNames[l+12],yy:String(p).slice(2),yyyy:p,h:s%12||12,hh:n(s%12||12),H:s,HH:n(s),M:w,MM:n(w),s:b,ss:n(b),l:n(a,3),L:n(a>99?Math.round(a/10):a),t:s<12?"a":"p",tt:s<12?"am":"pm",T:s<12?"A":"P",TT:s<12?"AM":"PM",Z:e?"UTC":(String(u).match(i)||[""]).pop().replace(r,""),o:(v>0?"-":"+")+n(Math.floor(Math.abs(v)/60)*100+Math.abs(v)%60,4),S:["th","st","nd","rd"][c%10>3?0:(c%100-c%10!=10)*c%10]};return f.replace(t,function(n){return n in k?k[n]:n.slice(1,n.length-1)})}}();dateFormat.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};dateFormat.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]};Date.prototype.format=function(n,t){return dateFormat(this,n,t)};
;
/*!
jquery scroll - a custom stylable scrollbar
Version 0.4
https://github.com/thomd/jquery-scroll
Copyright (c) 2011 Thomas Duerr (me-at-thomd-dot-net)
Licensed under the MIT license (https://raw.github.com/thomd/jquery-scroll/master/MIT-LICENSE)
*/
(function(n,t){var i={init:function(t,i){var r=n.extend({},n.fn.scrollbar.defaults,i);return this.each(function(){var i=n(this),u={arrows:r.arrows};if(r.containerHeight!="auto"&&i.height(r.containerHeight),u.containerHeight=i.height(),u.contentHeight=n.fn.scrollbar.contentHeight(i),u.contentHeight<=u.containerHeight)return!0;this.scrollbar=new n.fn.scrollbar.Scrollbar(i,u,r);this.scrollbar.buildHtml().setHandle().appendEvents();typeof t=="function"&&t(i.find(".scrollbar-pane"),this.scrollbar)})},repaint:function(){return this.each(function(){this.scrollbar&&this.scrollbar.repaint()})},scrollto:function(n){return this.each(function(){this.scrollbar.scrollto(n)})},unscrollbar:function(){return this.each(function(){this.scrollbar&&this.scrollbar.unscrollbar()})}};n.fn.scrollbar=function(t){if(i[t])return i[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t=="function"||t===undefined)return i.init.apply(this,arguments);if(typeof t=="object")return i.init.apply(this,[null,t]);n.error("method '"+t+"' does not exist for $.fn.scrollbar")};n.fn.scrollbar.defaults={containerHeight:"auto",arrows:!0,handleHeight:"auto",handleMinHeight:30,scrollTimeout:50,scrollStep:20,scrollTimeoutArrows:40,scrollStepArrows:3};n.fn.scrollbar.Scrollbar=function(n,t,i){this.container=n;this.props=t;this.opts=i;this.mouse={};this.props.arrows=this.container.hasClass("no-arrows")?!1:this.props.arrows};n.fn.scrollbar.Scrollbar.prototype={buildHtml:function(){this.container.wrapInner('<div class="scrollbar-pane"/>');this.container.append('<div class="scrollbar-handle-container"><div class="scrollbar-handle"><div/><\/div><\/div>');this.props.arrows&&this.container.append('<div class="scrollbar-handle-up"/>').append('<div class="scrollbar-handle-down"/>');var n=this.container.height();return this.pane=this.container.find(".scrollbar-pane"),this.handle=this.container.find(".scrollbar-handle"),this.handleContainer=this.container.find(".scrollbar-handle-container"),this.handleArrows=this.container.find(".scrollbar-handle-up, .scrollbar-handle-down"),this.handleArrowUp=this.container.find(".scrollbar-handle-up"),this.handleArrowDown=this.container.find(".scrollbar-handle-down"),this.pane.defaultCss({top:0,left:0}),this.handleContainer.defaultCss({right:0}),this.handle.defaultCss({top:0,right:0}),this.handleArrows.defaultCss({right:0}),this.handleArrowUp.defaultCss({top:0}),this.handleArrowDown.defaultCss({bottom:0}),this.container.css({position:this.container.css("position")==="absolute"?"absolute":"relative",overflow:"hidden",height:n}),this.pane.css({position:"absolute",overflow:"visible",height:"auto"}),this.handleContainer.css({position:"absolute",top:this.handleArrowUp.outerHeight(!0),height:this.props.containerHeight-this.handleArrowUp.outerHeight(!0)-this.handleArrowDown.outerHeight(!0)+"px"}),this.handle.css({position:"absolute",cursor:"pointer"}),this.handleArrows.css({position:"absolute",cursor:"pointer"}),this.pane.top=0,this},setHandle:function(){return this.props.handleContainerHeight=this.handleContainer.height(),this.props.contentHeight=this.pane.height(),this.props.handleHeight=this.opts.handleHeight=="auto"?Math.max(Math.ceil(this.props.containerHeight*this.props.handleContainerHeight/this.props.contentHeight),this.opts.handleMinHeight):this.opts.handleHeight,this.handle.height(this.props.handleHeight),this.handle.height(2*this.handle.height()-this.handle.outerHeight(!0)),this.props.handlePosition={min:0,max:this.props.handleContainerHeight-this.props.handleHeight},this.props.handleContentRatio=(this.props.contentHeight-this.props.containerHeight)/(this.props.handleContainerHeight-this.props.handleHeight),this.handle.top=this.handle.top==undefined?0:-1*this.pane.top/this.props.handleContentRatio,this},appendEvents:function(){var t,i;return this.handle.bind("mousedown.handle",n.proxy(this,"startOfHandleMove")),this.handleContainer.bind("mousedown.handle",n.proxy(this,"onHandleContainerMousedown")),this.handleContainer.bind("mouseenter.container mouseleave.container",n.proxy(this,"onHandleContainerHover")),this.handleArrows.bind("mousedown.arrows",n.proxy(this,"onArrowsMousedown")),this.container.bind("mousewheel.container",n.proxy(this,"onMouseWheel")),this.container.bind("mouseenter.container mouseleave.container",n.proxy(this,"onContentHover")),this.handle.bind("click.scrollbar",this.preventClickBubbling),this.handleContainer.bind("click.scrollbar",this.preventClickBubbling),this.handleArrows.bind("click.scrollbar",this.preventClickBubbling),t=this,t.pointer={},t.pointer.down=!1,(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&typeof MSGesture=="function"?(window.gesture=window.gesture||window.MSGesture,t.gesture=new MSGesture,t.gesture.target=this.container[0],i="pointerdown",window.navigator.msPointerEnabled&&(i="MSPointerDown"),this.container[0].addEventListener(i,function(n){t.gesture.addPointer(n.pointerId)},!1),n(this.container[0]).css("-ms-user-select","none").css("touch-action","none"),this.container[0].addEventListener("MSGestureChange",function(n){n.preventDefault();t.onMSGestureChange(n)},!1)):this.container[0].addEventListener&&(this.container[0].addEventListener("touchstart",function(n){t.onTouchStart(n)},!1),this.container[0].addEventListener("touchmove",function(n){n.preventDefault();t.onTouchMove(n)},!1)),this},mousePosition:function(n){return n.pageY||n.clientY+(t.documentElement.scrollTop||t.body.scrollTop)||0},repaint:function(){this.setHandle();this.setHandlePosition()},scrollto:function(t){var i=0;typeof t=="number"?i=(t<0?0:t)/this.props.handleContentRatio:typeof t=="string"?(t=="bottom"&&(i=this.props.handlePosition.max),t=="middle"&&(i=Math.ceil(this.props.handlePosition.max/2))):typeof t!="object"||n.isPlainObject(t)||(i=Math.ceil(t.position().top/this.props.handleContentRatio));this.handle.top=i;this.setHandlePosition();this.setContentPosition()},unscrollbar:function(){var n=this.container.find(".scrollbar-pane").find("*");this.container.empty();this.container.append(n);this.container.attr("style","")},startOfHandleMove:function(i){i.preventDefault();i.stopPropagation();this.mouse.start=this.mousePosition(i);this.handle.start=this.handle.top;n(t).bind("mousemove.handle",n.proxy(this,"onHandleMove")).bind("mouseup.handle",n.proxy(this,"endOfHandleMove"));this.handle.addClass("move");this.handleContainer.addClass("move")},onHandleMove:function(n){n.preventDefault();var t=this.mousePosition(n)-this.mouse.start;this.handle.top=this.handle.start+t;this.setHandlePosition();this.setContentPosition()},endOfHandleMove:function(){n(t).unbind(".handle");this.handle.removeClass("move");this.handleContainer.removeClass("move")},setHandlePosition:function(){this.handle.top=this.handle.top>this.props.handlePosition.max?this.props.handlePosition.max:this.handle.top;this.handle.top=this.handle.top<this.props.handlePosition.min?this.props.handlePosition.min:this.handle.top;this.handle[0].style.top=this.handle.top+"px"},setContentPosition:function(){this.pane.top=-1*this.props.handleContentRatio*this.handle.top;this.pane[0].style.top=this.pane.top+"px"},onTouchStart:function(n){this.touch={start:{y:n.touches[0].pageY,handleTop:this.handle.top}}},onTouchMove:function(n){var t=n.touches[0].pageY-this.touch.start.y;this.handle.top=this.touch.start.handleTop-t*.25;this.setHandlePosition();this.setContentPosition();this.handle.top>this.props.handlePosition.min&&this.handle.top<this.props.handlePosition.max&&n.preventDefault()},onMSGestureChange:function(n){this.handle.top-=n.velocityY*5;this.setHandlePosition();this.setContentPosition()},onMouseWheel:function(n,t){this.handle.top-=t;this.setHandlePosition();this.setContentPosition();this.handle.top>this.props.handlePosition.min&&this.handle.top<this.props.handlePosition.max&&n.preventDefault()},onHandleContainerMousedown:function(i){var u,r;if(i.preventDefault(),!n(i.target).hasClass("scrollbar-handle-container"))return!1;this.handle.direction=this.handle.offset().top<this.mousePosition(i)?1:-1;this.handle.step=this.opts.scrollStep;u=this;n(t).bind("mouseup.handlecontainer",function(){clearInterval(r);u.handle.unbind("mouseenter.handlecontainer");n(t).unbind("mouseup.handlecontainer")});this.handle.bind("mouseenter.handlecontainer",function(){clearInterval(r)});r=setInterval(n.proxy(this.moveHandle,this),this.opts.scrollTimeout)},onArrowsMousedown:function(i){i.preventDefault();this.handle.direction=n(i.target).hasClass("scrollbar-handle-up")?-1:1;this.handle.step=this.opts.scrollStepArrows;n(i.target).addClass("move");var r=setInterval(n.proxy(this.moveHandle,this),this.opts.scrollTimeoutArrows);n(t).one("mouseup.arrows",function(){clearInterval(r);n(i.target).removeClass("move")})},moveHandle:function(){this.handle.top=this.handle.direction===1?Math.min(this.handle.top+this.handle.step,this.props.handlePosition.max):Math.max(this.handle.top-this.handle.step,this.props.handlePosition.min);this.handle[0].style.top=this.handle.top+"px";this.setContentPosition()},onContentHover:function(n){n.type==="mouseenter"?(this.container.addClass("hover"),this.handleContainer.addClass("hover")):(this.container.removeClass("hover"),this.handleContainer.removeClass("hover"))},onHandleContainerHover:function(n){n.type==="mouseenter"?this.handleArrows.addClass("hover"):this.handleArrows.removeClass("hover")},preventClickBubbling:function(n){n.stopPropagation()}};n.fn.scrollbar.contentHeight=function(n){var t=n.wrapInner("<div/>").find(":first"),i=t.css({overflow:"hidden"}).height();return t.replaceWith(t.contents()),i};n.fn.defaultCss=function(t){var i={right:"auto",left:"auto",top:"auto",bottom:"auto",position:"static"};return this.each(function(){var u=n(this);for(var r in t)u.css(r)===i[r]&&u.css(r,t[r])})};n.event.special.mousewheel={setup:function(){this.addEventListener?(this.addEventListener("mousewheel",n.fn.scrollbar.mouseWheelHandler,!1),this.addEventListener("DOMMouseScroll",n.fn.scrollbar.mouseWheelHandler,!1),this.addEventListener("MozMousePixelScroll",n.fn.scrollbar.mouseWheelHandler,!1)):this.onmousewheel=n.fn.scrollbar.mouseWheelHandler},teardown:function(){this.removeEventListener?(this.removeEventListener("mousewheel",n.fn.scrollbar.mouseWheelHandler,!1),this.removeEventListener("DOMMouseScroll",n.fn.scrollbar.mouseWheelHandler,!1),this.removeEventListener("MozMousePixelScroll",n.fn.scrollbar.mouseWheelHandler,!1)):this.onmousewheel=null}};n.fn.extend({mousewheel:function(n){return n?this.bind("mousewheel",n):this.trigger("mousewheel")},unmousewheel:function(n){return this.unbind("mousewheel",n)}});n.fn.scrollbar.mouseWheelHandler=function(t){var u=10,i=t||window.event,s=[].slice.call(arguments,1),r=0,o=0,f=0,e;return t=n.event.fix(i),t.type="mousewheel",i.wheelDelta&&(r=i.wheelDelta/u),i.detail&&(r=-i.detail/u),f=r,i.axis!==undefined&&i.axis===i.HORIZONTAL_AXIS&&(f=0,o=-1*r),e=1,(jQuery.browser.msie||jQuery.browser.webkit&&!jQuery.browser.chrome)&&(e=40),i.wheelDeltaY!==undefined&&(f=i.wheelDeltaY/u/e),i.wheelDeltaX!==undefined&&(o=-1*i.wheelDeltaX/u/e),s.unshift(t,r,o,f),(n.event.dispatch||n.event.handle).apply(this,s)}})(jQuery,document);
;
/*!
CoutoScrollbar
This is a wrapper to JQueryScroll that (can) set(s) sitewide defaults and 
adds fadein fadeout on hover functionality 
*/
(function(n,t){n.fn.scrollbar.contentHeight=function(n){var t=n.wrapInner("<div/>").find(":first"),i=t.css({overflow:"hidden",zoom:"1"}).height();return t.replaceWith(t.contents()),i};n.fn.scrollbar.Scrollbar.prototype.checkEvents=function(){this.handle.top>=this.props.handlePosition.max-50?this.container.trigger("coutoscrollbar.scrollend"):this.handle.top<=this.props.handlePosition.min+50&&this.container.trigger("coutoscrollbar.scrolltop")};n.fn.scrollbar.Scrollbar.prototype.endOfHandleMove=function(){n(t).unbind(".handle");this.handle.removeClass("move");this.handleContainer.removeClass("move");this.checkEvents()};n.fn.scrollbar.Scrollbar.prototype.onMouseWheel=function(n,t){this.handle.top-=t;this.setHandlePosition();this.setContentPosition();this.checkEvents();this.handle.top>this.props.handlePosition.min&&this.handle.top<this.props.handlePosition.max&&n.preventDefault()};n.fn.scrollbar.Scrollbar.prototype.moveHandle=function(){this.handle.top=this.handle.direction===1?Math.min(this.handle.top+this.handle.step,this.props.handlePosition.max):Math.max(this.handle.top-this.handle.step,this.props.handlePosition.min);this.handle[0].style.top=this.handle.top+"px";this.setContentPosition();this.checkEvents()};n.fn.scrollbar.Scrollbar.prototype.setHandlePosition=function(){isNaN(this.handle.top)&&(this.handle.top=0);this.handle.top=this.handle.top>this.props.handlePosition.max?this.props.handlePosition.max:this.handle.top;this.handle.top=this.handle.top<this.props.handlePosition.min?this.props.handlePosition.min:this.handle.top;this.handle[0].style.top=this.handle.top+"px"};n.fn.scrollbar.Scrollbar.prototype.unscrollbar=function(){var t=this.container.find(".scrollbar-pane"),n;t.length>0&&(n=this.container.find(".scrollbar-pane").children().detach(),this.container.empty(),this.container.append(n),this.container.attr("style",""))};var i={mouseenter:function(){var t=n(".scrollbar-handle",this);t.stop(!0).fadeIn(1e3,function(){n(this).css("opacity",.6)})},mouseleave:function(){var t=n(".scrollbar-handle",this);t.stop(!0).fadeOut(1e3,function(){n(this).css("opacity",.6)})}};n.fn.coutoscrollbar=function(t,r){r?n.fn.scrollbar.call(this,[t],r):n.fn.scrollbar.call(this,[t]);(typeof t=="function"||t===undefined||typeof t=="object")&&(this.unbind("mouseenter",i.mouseenter),this.unbind("mouseleave",i.mouseleave),this.hover(n.proxy(i.mouseenter,this),n.proxy(i.mouseleave,this)),n(".scrollbar-handle",this).delay(1e3).fadeOut())}})(jQuery,document);
;
var JSON;JSON||(JSON={}),function(){"use strict";function i(n){return n<10?"0"+n:n}function o(n){return e.lastIndex=0,e.test(n)?'"'+n.replace(e,function(n){var t=s[n];return typeof t=="string"?t:"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+n+'"'}function u(i,f){var s,l,h,a,v=n,c,e=f[i];e&&typeof e=="object"&&typeof e.toJSON=="function"&&(e=e.toJSON(i));typeof t=="function"&&(e=t.call(f,i,e));switch(typeof e){case"string":return o(e);case"number":return isFinite(e)?String(e):"null";case"boolean":case"null":return String(e);case"object":if(!e)return"null";if(n+=r,c=[],Object.prototype.toString.apply(e)==="[object Array]"){for(a=e.length,s=0;s<a;s+=1)c[s]=u(s,e)||"null";return h=c.length===0?"[]":n?"[\n"+n+c.join(",\n"+n)+"\n"+v+"]":"["+c.join(",")+"]",n=v,h}if(t&&typeof t=="object")for(a=t.length,s=0;s<a;s+=1)typeof t[s]=="string"&&(l=t[s],h=u(l,e),h&&c.push(o(l)+(n?": ":":")+h));else for(l in e)Object.prototype.hasOwnProperty.call(e,l)&&(h=u(l,e),h&&c.push(o(l)+(n?": ":":")+h));return h=c.length===0?"{}":n?"{\n"+n+c.join(",\n"+n)+"\n"+v+"}":"{"+c.join(",")+"}",n=v,h}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+i(this.getUTCMonth()+1)+"-"+i(this.getUTCDate())+"T"+i(this.getUTCHours())+":"+i(this.getUTCMinutes())+":"+i(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var f=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n,r,s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},t;typeof JSON.stringify!="function"&&(JSON.stringify=function(i,f,e){var o;if(n="",r="",typeof e=="number")for(o=0;o<e;o+=1)r+=" ";else typeof e=="string"&&(r=e);if(t=f,f&&typeof f!="function"&&(typeof f!="object"||typeof f.length!="number"))throw new Error("JSON.stringify");return u("",{"":i})});typeof JSON.parse!="function"&&(JSON.parse=function(n,t){function r(n,i){var f,e,u=n[i];if(u&&typeof u=="object")for(f in u)Object.prototype.hasOwnProperty.call(u,f)&&(e=r(u,f),e!==undefined?u[f]=e:delete u[f]);return t.call(n,i,u)}var i;if(n=String(n),f.lastIndex=0,f.test(n)&&(n=n.replace(f,function(n){return"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(n.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return i=eval("("+n+")"),typeof t=="function"?r({"":i},""):i;throw new SyntaxError("JSON.parse");})}();
;
/*!
* hoverFlow - A Solution to Animation Queue Buildup in jQuery
* Version 1.00
*
* Copyright (c) 2009 Ralf Stoltze, http://www.2meter3.de/code/hoverFlow/
* Dual-licensed under the MIT and GPL licenses.
* http://www.opensource.org/licenses/mit-license.php
* http://www.gnu.org/licenses/gpl.html
*/
(function(n){n.fn.hoverFlow=function(t,i,r,u,f){var e,o;return n.inArray(t,["mouseover","mouseenter","mouseout","mouseleave"])==-1?this:(e=typeof r=="object"?r:{complete:f||!f&&u||n.isFunction(r)&&r,duration:r,easing:f&&u||u&&!n.isFunction(u)&&u},e.queue=!1,o=e.complete,e.complete=function(){n(this).dequeue();n.isFunction(o)&&o.call(this)},this.each(function(){var r=n(this);t=="mouseover"||t=="mouseenter"?r.data("jQuery.hoverFlow",!0):r.removeData("jQuery.hoverFlow");r.queue(function(){var n=t=="mouseover"||t=="mouseenter"?r.data("jQuery.hoverFlow")!==undefined:r.data("jQuery.hoverFlow")===undefined;n?r.animate(i,e):r.queue([])})}))}})(jQuery);
;
(function(n){var t=null,i=1050,r=function(r,u){var e,o,s,f,h;if(t===null&&(t=n('<div class="site-tabs"><\/div>'),t.data("tabTotal",0),n("body > form").append(t),n(window).width()<i?t.animate({width:"hide",opacity:"0"},"fast"):t.animate({width:"show",opacity:"1"},"fast")),r.data("sortOrder",u),e=t.data("tabTotal")+1,t.data("tabTotal",e).addClass("has-"+n(r).data("siteTabFor")).attr("data-tabs",e),o=t.children(),s=o.length,s===0)t.append(r);else{for(f=0;f<s;f++)if(h=n(o[f]),h.data("sortOrder")>=u){h.before(r);return}t.append(r)}};n(window).resize(function(){t!==null&&(n(window).width()<i?t.animate({width:"hide",opacity:"0"},"fast"):t.animate({width:"show",opacity:"1"},"fast"))});n("body").bind("overrideSiteTabWidthCheck.couto.addOnFramework",function(n,t){i=t});n("body").bind("addSiteLinkTab.couto.addOnFramework",function(n,t){r(t.element,t.sortOrder)})})(jQuery,document);
;
(function(n){if(n.evolutionTheater){var t=n.evolutionTheater.show;n.evolutionTheater.show=function(i){var r=i.loaded;i.loaded=function(t){var f,u,o,i,s,e,h;r(t);f=t.parent();n(".theater-mask").bind("click",function(){t.parents(".theater-container").click()});n('[data-container-for="CreateComment"]',t).remove();u=n(".post-attachment-viewer",t);u.length>0&&(u.find(">:first-child").length<=0||u.find(">:first-child").prop("tagName").toLowerCase()!=="span")&&(u.prepend(n("<span/>")),u.find("> img").length>0?u.addClass("is-image"):u.removeClass("is-image"));o=n(".post-actions.activity ul.navigation-list li.navigation-item",t);o.length===1&&o.find("a.view-post").length>0&&n("a.internal-link.download",t).length<=0?f.addClass("no-actions"):f.removeClass("no-actions");i=n('[data-container-for="ScrollableContent"]',t);i.length<=0&&(s=n(".activity-story",t),s.detach(),i=n("<div/>",{"class":"fff","data-container-for":"ScrollableContent"}),i.append(s),t.append(i));e=n(".content-item.comment.comment-form",t);e.length>0?(f.addClass("can-comment"),e.detach(),h=n("<div/>",{"class":"content-item comment comment-form","data-container-for":"CreateComment"}),t.append(h),e.children().each(function(){n(this).detach();h.append(n(this))})):f.removeClass("can-comment");i.children(".scrollbar-pane").length>0?i.coutoscrollbar("repaint"):(i.coutoscrollbar("unscrollbar"),setTimeout(function(){i.coutoscrollbar()},200))};t(i)}}})(jQuery);
;
/*!
 * jQuery UI Effects 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/
 */
jQuery.effects||function(n,t){function u(t){var i;return t&&t.constructor==Array&&t.length==3?t:(i=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(t))?[parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10)]:(i=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(t))?[parseFloat(i[1])*2.55,parseFloat(i[2])*2.55,parseFloat(i[3])*2.55]:(i=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(t))?[parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16)]:(i=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(t))?[parseInt(i[1]+i[1],16),parseInt(i[2]+i[2],16),parseInt(i[3]+i[3],16)]:(i=/rgba\(0, 0, 0, 0\)/.exec(t))?o.transparent:o[n.trim(t).toLowerCase()]}function h(t,i){var r;do{if(r=n.curCSS(t,i),r!=""&&r!="transparent"||n.nodeName(t,"body"))break;i="backgroundColor"}while(t=t.parentNode);return u(r)}function f(){var n=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,i={},t,u,r;if(n&&n.length&&n[0]&&n[n[0]])for(r=n.length;r--;)t=n[r],typeof n[t]=="string"&&(u=t.replace(/\-(\w)/g,function(n,t){return t.toUpperCase()}),i[u]=n[t]);else for(t in n)typeof n[t]=="string"&&(i[t]=n[t]);return i}function e(t){var i,r;for(i in t)r=t[i],(r==null||n.isFunction(r)||i in l||/scrollbar/.test(i)||!/color/i.test(i)&&isNaN(parseFloat(r)))&&delete t[i];return t}function c(n,t){var r={_:0};for(var i in t)n[i]!=t[i]&&(r[i]=t[i]);return r}function i(t,i,r,u){return typeof t=="object"&&(u=i,r=null,i=t,t=i.effect),n.isFunction(i)&&(u=i,r=null,i={}),(typeof i=="number"||n.fx.speeds[i])&&(u=r,r=i,i={}),n.isFunction(r)&&(u=r,r=null),i=i||{},r=r||i.duration,r=n.fx.off?0:typeof r=="number"?r:r in n.fx.speeds?n.fx.speeds[r]:n.fx.speeds._default,u=u||i.complete,[t,i,r,u]}function r(t){return!t||typeof t=="number"||n.fx.speeds[t]?!0:typeof t=="string"&&!n.effects[t]?!0:!1}n.effects={};n.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderColor","color","outlineColor"],function(t,i){n.fx.step[i]=function(n){n.colorInit||(n.start=h(n.elem,i),n.end=u(n.end),n.colorInit=!0);n.elem.style[i]="rgb("+Math.max(Math.min(parseInt(n.pos*(n.end[0]-n.start[0])+n.start[0],10),255),0)+","+Math.max(Math.min(parseInt(n.pos*(n.end[1]-n.start[1])+n.start[1],10),255),0)+","+Math.max(Math.min(parseInt(n.pos*(n.end[2]-n.start[2])+n.start[2],10),255),0)+")"}});var o={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},s=["add","remove","toggle"],l={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};n.effects.animateClass=function(t,i,r,u){return n.isFunction(r)&&(u=r,r=null),this.queue(function(){var o=n(this),h=o.attr("style")||" ",a=e(f.call(this)),l,v=o.attr("class");n.each(s,function(n,i){t[i]&&o[i+"Class"](t[i])});l=e(f.call(this));o.attr("class",v);o.animate(c(a,l),{queue:!1,duration:i,easing:r,complete:function(){n.each(s,function(n,i){t[i]&&o[i+"Class"](t[i])});typeof o.attr("style")=="object"?(o.attr("style").cssText="",o.attr("style").cssText=h):o.attr("style",h);u&&u.apply(this,arguments);n.dequeue(this)}})})};n.fn.extend({_addClass:n.fn.addClass,addClass:function(t,i,r,u){return i?n.effects.animateClass.apply(this,[{add:t},i,r,u]):this._addClass(t)},_removeClass:n.fn.removeClass,removeClass:function(t,i,r,u){return i?n.effects.animateClass.apply(this,[{remove:t},i,r,u]):this._removeClass(t)},_toggleClass:n.fn.toggleClass,toggleClass:function(i,r,u,f,e){return typeof r=="boolean"||r===t?u?n.effects.animateClass.apply(this,[r?{add:i}:{remove:i},u,f,e]):this._toggleClass(i,r):n.effects.animateClass.apply(this,[{toggle:i},r,u,f])},switchClass:function(t,i,r,u,f){return n.effects.animateClass.apply(this,[{add:i,remove:t},r,u,f])}});n.extend(n.effects,{version:"1.8.18",save:function(n,t){for(var i=0;i<t.length;i++)t[i]!==null&&n.data("ec.storage."+t[i],n[0].style[t[i]])},restore:function(n,t){for(var i=0;i<t.length;i++)t[i]!==null&&n.css(t[i],n.data("ec.storage."+t[i]))},setMode:function(n,t){return t=="toggle"&&(t=n.is(":hidden")?"show":"hide"),t},getBaseline:function(n,t){var i,r;switch(n[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=n[0]/t.height}switch(n[1]){case"left":r=0;break;case"center":r=.5;break;case"right":r=1;break;default:r=n[1]/t.width}return{x:r,y:i}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},r=n("<div><\/div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),u=document.activeElement;return t.wrap(r),(t[0]===u||n.contains(t[0],u))&&n(u).focus(),r=t.parent(),t.css("position")=="static"?(r.css({position:"relative"}),t.css({position:"relative"})):(n.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),n.each(["top","left","bottom","right"],function(n,r){i[r]=t.css(r);isNaN(parseInt(i[r],10))&&(i[r]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),r.css(i).show()},removeWrapper:function(t){var r,i=document.activeElement;return t.parent().is(".ui-effects-wrapper")?(r=t.parent().replaceWith(t),(t[0]===i||n.contains(t[0],i))&&n(i).focus(),r):t},setTransition:function(t,i,r,u){return u=u||{},n.each(i,function(n,i){unit=t.cssUnit(i);unit[0]>0&&(u[i]=unit[0]*r+unit[1])}),u}});n.fn.extend({effect:function(t){var u=i.apply(this,arguments),r={options:u[1],duration:u[2],callback:u[3]},f=r.options.mode,e=n.effects[t];return n.fx.off||!e?f?this[f](r.duration,r.callback):this.each(function(){r.callback&&r.callback.call(this)}):e.call(this,r)},_show:n.fn.show,show:function(n){if(r(n))return this._show.apply(this,arguments);var t=i.apply(this,arguments);return t[1].mode="show",this.effect.apply(this,t)},_hide:n.fn.hide,hide:function(n){if(r(n))return this._hide.apply(this,arguments);var t=i.apply(this,arguments);return t[1].mode="hide",this.effect.apply(this,t)},__toggle:n.fn.toggle,toggle:function(t){if(r(t)||typeof t=="boolean"||n.isFunction(t))return this.__toggle.apply(this,arguments);var u=i.apply(this,arguments);return u[1].mode="toggle",this.effect.apply(this,u)},cssUnit:function(t){var i=this.css(t),r=[];return n.each(["em","px","%","pt"],function(n,t){i.indexOf(t)>0&&(r=[parseFloat(i),t])}),r}});n.easing.jswing=n.easing.swing;n.extend(n.easing,{def:"easeOutQuad",swing:function(t,i,r,u,f){return n.easing[n.easing.def](t,i,r,u,f)},easeInQuad:function(n,t,i,r,u){return r*(t/=u)*t+i},easeOutQuad:function(n,t,i,r,u){return-r*(t/=u)*(t-2)+i},easeInOutQuad:function(n,t,i,r,u){return(t/=u/2)<1?r/2*t*t+i:-r/2*(--t*(t-2)-1)+i},easeInCubic:function(n,t,i,r,u){return r*(t/=u)*t*t+i},easeOutCubic:function(n,t,i,r,u){return r*((t=t/u-1)*t*t+1)+i},easeInOutCubic:function(n,t,i,r,u){return(t/=u/2)<1?r/2*t*t*t+i:r/2*((t-=2)*t*t+2)+i},easeInQuart:function(n,t,i,r,u){return r*(t/=u)*t*t*t+i},easeOutQuart:function(n,t,i,r,u){return-r*((t=t/u-1)*t*t*t-1)+i},easeInOutQuart:function(n,t,i,r,u){return(t/=u/2)<1?r/2*t*t*t*t+i:-r/2*((t-=2)*t*t*t-2)+i},easeInQuint:function(n,t,i,r,u){return r*(t/=u)*t*t*t*t+i},easeOutQuint:function(n,t,i,r,u){return r*((t=t/u-1)*t*t*t*t+1)+i},easeInOutQuint:function(n,t,i,r,u){return(t/=u/2)<1?r/2*t*t*t*t*t+i:r/2*((t-=2)*t*t*t*t+2)+i},easeInSine:function(n,t,i,r,u){return-r*Math.cos(t/u*(Math.PI/2))+r+i},easeOutSine:function(n,t,i,r,u){return r*Math.sin(t/u*(Math.PI/2))+i},easeInOutSine:function(n,t,i,r,u){return-r/2*(Math.cos(Math.PI*t/u)-1)+i},easeInExpo:function(n,t,i,r,u){return t==0?i:r*Math.pow(2,10*(t/u-1))+i},easeOutExpo:function(n,t,i,r,u){return t==u?i+r:r*(-Math.pow(2,-10*t/u)+1)+i},easeInOutExpo:function(n,t,i,r,u){return t==0?i:t==u?i+r:(t/=u/2)<1?r/2*Math.pow(2,10*(t-1))+i:r/2*(-Math.pow(2,-10*--t)+2)+i},easeInCirc:function(n,t,i,r,u){return-r*(Math.sqrt(1-(t/=u)*t)-1)+i},easeOutCirc:function(n,t,i,r,u){return r*Math.sqrt(1-(t=t/u-1)*t)+i},easeInOutCirc:function(n,t,i,r,u){return(t/=u/2)<1?-r/2*(Math.sqrt(1-t*t)-1)+i:r/2*(Math.sqrt(1-(t-=2)*t)+1)+i},easeInElastic:function(n,t,i,r,u){var o=1.70158,f=0,e=r;return t==0?i:(t/=u)==1?i+r:(f||(f=u*.3),e<Math.abs(r)?(e=r,o=f/4):o=f/(2*Math.PI)*Math.asin(r/e),-(e*Math.pow(2,10*(t-=1))*Math.sin((t*u-o)*2*Math.PI/f))+i)},easeOutElastic:function(n,t,i,r,u){var o=1.70158,f=0,e=r;return t==0?i:(t/=u)==1?i+r:(f||(f=u*.3),e<Math.abs(r)?(e=r,o=f/4):o=f/(2*Math.PI)*Math.asin(r/e),e*Math.pow(2,-10*t)*Math.sin((t*u-o)*2*Math.PI/f)+r+i)},easeInOutElastic:function(n,t,i,r,u){var o=1.70158,f=0,e=r;return t==0?i:(t/=u/2)==2?i+r:(f||(f=u*.3*1.5),e<Math.abs(r)?(e=r,o=f/4):o=f/(2*Math.PI)*Math.asin(r/e),t<1)?-.5*e*Math.pow(2,10*(t-=1))*Math.sin((t*u-o)*2*Math.PI/f)+i:e*Math.pow(2,-10*(t-=1))*Math.sin((t*u-o)*2*Math.PI/f)*.5+r+i},easeInBack:function(n,i,r,u,f,e){return e==t&&(e=1.70158),u*(i/=f)*i*((e+1)*i-e)+r},easeOutBack:function(n,i,r,u,f,e){return e==t&&(e=1.70158),u*((i=i/f-1)*i*((e+1)*i+e)+1)+r},easeInOutBack:function(n,i,r,u,f,e){return(e==t&&(e=1.70158),(i/=f/2)<1)?u/2*i*i*(((e*=1.525)+1)*i-e)+r:u/2*((i-=2)*i*(((e*=1.525)+1)*i+e)+2)+r},easeInBounce:function(t,i,r,u,f){return u-n.easing.easeOutBounce(t,f-i,0,u,f)+r},easeOutBounce:function(n,t,i,r,u){return(t/=u)<1/2.75?r*7.5625*t*t+i:t<2/2.75?r*(7.5625*(t-=1.5/2.75)*t+.75)+i:t<2.5/2.75?r*(7.5625*(t-=2.25/2.75)*t+.9375)+i:r*(7.5625*(t-=2.625/2.75)*t+.984375)+i},easeInOutBounce:function(t,i,r,u,f){return i<f/2?n.easing.easeInBounce(t,i*2,0,u,f)*.5+r:n.easing.easeOutBounce(t,i*2-f,0,u,f)*.5+u*.5+r}})}(jQuery);
;
jQuery(function(){window.location.pathname.indexOf("coutocontrolpanel/")!=-1&&$('a[href^="http://telligent.com/communities/r.ashx"]').attr("href","http://telligent.com/communities/r.ashx?Z")});
;
(function(n){namespace("$.couto.directoryconnect.widgets");var t=function(t){var r=n("#"+t.onlineCountContainerId),i=setInterval(function(){n.telligent.evolution.get({url:t.onlineCountUrl,success:function(n){r.html("("+n.totalCount+")")}})},3e4);n("body").delegate("","directoryconnect.updateonlinecount",function(n,t){i&&clearInterval(i),r.html("("+t+")")})};n.couto.directoryconnect.widgets.memberdirectorybutton={register:function(i){t(i),n("body").trigger("addSiteLinkTab.couto.addOnFramework",{element:n(i.findFriendsLinkId),sortOrder:0})}}})(jQuery,window);
;
(function(n){n.expr[":"].mediaPostUrl=function(n,t,i){return/^(https?:\/\/([\da-z\.-]+)(\.([a-z\.]{2,6}))?(:\d+)?)?([\/\w \.-]*)\/m\/([\/\w \.-]*)\/\d+\.aspx/ig.test(jQuery(n).attr(i[3]))};n.expr[":"].mediaMagnificentUrl=function(n,t,i){return/\/.*\#!\d+_[Video|Audio|File|Photo]/ig.test(jQuery(n).attr(i[3]))};n("body").on("click","a:mediaPostUrl(href):not([data-experience]):not([data-galleryid])",function(){var t=n(this).attr("href").match(/.*\/([^/]+)\.([^?]+)/i)[1];if(t)return n("body").trigger("lookupMediaInfoByFileId.couto.mediaMagnificent",[t]),!1});n("body").delegate("a:mediaMagnificentUrl(href):not([data-experience]):not([data-galleryid])","click",function(){var t=n(this).attr("href").match(/#!([\d+]+)/gi)[0].replace("#!","");if(t)return n("body").trigger("lookupMediaInfoByFileId.couto.mediaMagnificent",[t]),!1});n("body").on("lookupMediaInfoByFileId.couto.mediaMagnificent",function(t,i){return n.telligent.evolution.get({url:n.telligent.evolution.site.getBaseUrl()+"api.ashx/v2/couto/mediamagnificent/files/{FileId}.json",data:{FileId:i},async:!1,cache:!1,success:function(t){var i=t.Media,f=i.Experience,r={mediaId:i.Id,galleryId:i.MediaGalleryId,groupId:i.GroupId},u;switch(t.Media.Experience.toLowerCase()){case"photo":case"file":case"video":u=StringUtil.format("couto.mediaMagnificent.mediaPostModalFor{0}.launchMediaPostModal",f);n("body").trigger(u,[r]);break;case"audio":n("body").trigger("launchAudioPlayer.couto.mediaMagnificent",[r]);break;case"pagepin":window.open(i.Url)}}}),!0});if(n.telligent){var t=n.telligent.evolution.ui.components.theater.add;n.telligent.evolution.ui.components.theater.add=function(i,r){return n.data(n("body").get(0),"events").lookupMediaInfoByFileId&&r.theaterurl.indexOf("__type=Telligent.Evolution.Api.Plugins.ActivityStories.MediaStoryType")>=0?!1:t(i,r)}}})(jQuery);
;
(function(n){var u=function(t,i){return function(r,u,f){var e={SelectedFileId:r,FrontCount:u,BackCount:f,Experience:t.experience,SortBy:t.sortBy,SortOrder:"Ascending",FileIdsToExclude:""},o;return t.previewWidth&&(e.PreviewWidth=t.previewWidth),t.previewHeight&&(e.PreviewHeight=t.previewHeight),t.viewWidth&&(e.ViewWidth=t.viewWidth),t.viewHeight&&(e.ViewHeight=t.viewHeight),t.includeSubGroups!=null&&(e.IncludeSubGroups=t.includeSubGroups),t.sortBy==="Random"&&(o=[],n.each(i.mediaPosts,function(n,t){o.push(t.Id)}),e.FileIdsToExclude=o.join(",")),e}},t=function(t,i,r){n.telligent.evolution.get({url:n.telligent.evolution.site.getBaseUrl()+"api.ashx/v2/couto/mediamagnificent/"+i+"/files.json",data:t,dataType:"json",success:r})},i=function(n){for(var t,r,i,f=Array(),u=0;u<n.length;u++){for(t=n[u],t.Rating=t.RatingSum/t.RatingCount,t.Rating=isNaN(t.Rating)?0:t.Rating,r=0;r<t.ExtendedAttributes.length;r++)i=t.ExtendedAttributes[r],i.Key!="Title"||StringUtil.isNullOrEmpty(i.Value)?i.Key!="PostID"||StringUtil.isNullOrEmpty(i.Value)||(t.Id=i.Value):t.Title=i.Value;f.push(t)}return f},r=function(n,t){for(var i=0;i<t.length;i++)if(t[i].Id===n)return i;return-1},f=function(n,t,i){var u=r(n,t);return u>=0&&u<i},e=function(n,t,i){var u=r(n,t);return u>=0&&u>t.length-i},o=function(n,r){var s=function(t){var f,u;if(t.MediaPosts.length===0){if(typeof r.onNoDataReceived=="function")r.onNoDataReceived(n.mediaPosts,r.currentMediaPostId);return}for(n.totalCountForGallery=t.TotalCount,f=i(t.MediaPosts),u=0;u<f.length;u++)n.mediaPosts[u]=f[u];if(typeof r.onInitialDataReceived=="function")r.onInitialDataReceived(n.mediaPosts,r.currentMediaPostId)},h=function(t){var u,f;if(n.totalCountForGallery=t.TotalCount,u=[],t.MediaPosts.length>0)for(u=i(t.MediaPosts),u=u.reverse(),f=0;f<u.length;f++)n.mediaPosts.unshift(u[f]);if(typeof r.onDataLoadedToFront=="function")r.onDataLoadedToFront(u)},c=function(t){var u,f;if(n.totalCountForGallery=t.TotalCount,u=[],t.MediaPosts.length>0)for(u=i(t.MediaPosts),f=0;f<u.length;f++)n.mediaPosts.push(u[f]);if(typeof r.onDataLoadedToEnd=="function")r.onDataLoadedToEnd(u)},o=u(r,n);return{initialLoad:function(i,u,f,e){var h,c;r.currentMediaPostId=i;r.galleryId=u;n.mediaPosts=[];h=f>=0?f:r.loadBuffer;e?(r.makeRandom=!0,r.sortBy="Random",h=0,n.randomListLoaded=!0):(r.makeRandom=!1,r.sortBy="SortOrder",n.randomListLoaded=!1);c=o(r.currentMediaPostId,h,h);t(c,r.galleryId,s)},loadMoreAtEnd:function(i){if(e(i,n.mediaPosts,r.loadBuffer)){var u=o(n.mediaPosts[n.mediaPosts.length-1].Id,-1,r.loadBuffer);t(u,r.galleryId,c)}},loadMoreAtFront:function(i){if(!r.makeRandom&&f(i,n.mediaPosts,r.loadBuffer)){var u=o(n.mediaPosts[0].Id,r.loadBuffer,-1);t(u,r.galleryId,h)}},getMediaPosts:function(){return n.mediaPosts},updateMediaPostProperty:function(t,i,r){for(var u=0;u<n.mediaPosts.length;u++)n.mediaPosts[u].Id===t&&(n.mediaPosts[u][i]=r)},randomIsEnabled:function(){return r.makeRandom},randomListWasLoaded:function(){return n.randomListLoaded}}};namespace("$.couto.mediamagnificent").mediaPostListLoader=function(t){t=n.extend({currentMediaPostId:0,galleryId:0,experience:"File",countPerViewport:5,loadBufferMultiplier:5,loadOnCreate:!1,previewWidth:null,previewHeight:null,viewWidth:null,viewHeight:null,sortBy:"SortOrder",makeRandom:!1},t);t.loadBuffer=t.countPerViewport*t.loadBufferMultiplier;return o({mediaPosts:[],totalCountForGallery:0,randomListLoaded:!1},t)}})($);
;
(function(){var n=function(n){var t=function(t){return n.galleries["_"+t]},i=function(t){var i=t.Gallery;n.galleries["_"+i.Id]=i};return{getGalleryById:function(n){if(!n||n<0)return null;var r=t(n);return r!=null?r:($.telligent.evolution.get({url:$.telligent.evolution.site.getBaseUrl()+"api.ashx/v2/galleries/{MediaGalleryId}.json",data:{MediaGalleryId:n},async:!1,success:i}),t(n))}}};namespace("$.couto.mediamagnificent").galleryListLoader=function(){return n({galleries:[]})}})();
;
(function(){var n=0,t=function(n,t){var r=function(n,t){return StringUtil.format("{0}_{1}",n,t)},u=function(){return $(window.location).attr("hash").replace("#"+t.hashValuePrefix,"")},f=function(n){return u()===n},i=function(){t.ignoreOnHashChangeInternally&&(n.internalChangeRunning=!0)},e=function(){t.ignoreOnHashChangeInternally&&n.internalChangeRunning||typeof t.onHashChangeComplete=="function"&&t.onHashChangeComplete();n.internalChangeRunning=!1};return $(window).unbind(n.hashChangeEventKey),$(window).bind(n.hashChangeEventKey,e),{urlHashTrackerSetWatcher:function(t){$(window).unbind(n.urlHashTrackerWatcherKey);$(window).bind(n.urlHashTrackerWatcherKey,t)},clearUrlHash:function(){return window.location.replace("#"+t.hashValuePrefix),i(),!1},clearUrlHashWithHistorySupport:function(){return $(window.location).attr("hash",t.hashValuePrefix),i(),!1},updateUrlHash:function(n,u){if(!n||n==""||n<=0)return!1;var e=r(n,u);return f(e)?!1:(window.location.replace("#"+t.hashValuePrefix+e),i(),!1)},updateUrlHashWithHistorySupport:function(n,u){if(!n||n==""||n<=0)return!1;var e=r(n,u);return f(e)?!1:($(window.location).attr("hash","#"+t.hashValuePrefix+e),i(),!1)},getHashValue:u,destroy:function(){return $(window).unbind(n.hashChangeEventKey),!1}}};namespace("$.couto.mediamagnificent").urlHashTracker=function(i){i=$.extend({uniqueId:++n,hashValuePrefix:"",onHashChangeComplete:null,ignoreOnHashChangeInternally:!0},i);var r={internalChangeRunning:!1,urlHashTrackerWatcherKey:"hashchange.couto.addOnFramework.urlHashTracker",hashChangeEventKey:"hashchange.couto.addOnFramework.urlHashTracker"+i.uniqueId};return t(r,i)}})();
;
(function(){namespace("$.couto.mediamagnificent").urlBuilder=function(n){return n=$.extend({avatarImageWidth:32,avatarImageHeight:32},n),{buildImageResizedUrl:function(t,i,r){var u,f,e;return(i||(i=n.avatarImageWidth),r||(r=n.avatarImageHeight),t.indexOf("/utility/anonymous.gif")!==-1)?t:(u="__key/",f=t.indexOf(u),f==-1)?t:(t=t.substring(f+u.length),e=jQuery.telligent.evolution.site.getBaseUrl()+"resized-image.ashx/__size/{0}x{1}x2/__key/{2}",StringUtil.format(e,i,r,t))}}}})();
;
(function(){var n=function(n){return{launchShareAction:function(t,i){t&&t.length>0?(i||(i=""),window.parent.Telligent_Modal.GetWindowOpenerOriginal=window.parent.Telligent_Modal.GetWindowOpener,n.shareModal=$("<div/>"),n.shareModal.coutoModal({cssClass:"share-media-dialog",href:t,width:600,height:440,title:i,onShow:function(){var i=n.shareModal,t=$(".share-media-dialog iframe");t.bind("load",null,function(){window.parent.Telligent_Modal.GetWindowOpener=function(){return{location:{reload:function(){}}}};t.contents().find("a.submit-form").click(function(){setTimeout(function(){$(".share-media-dialog iframe")[0].contentWindow.$("a.submit-form").hasClass("disabled")||i.coutoModal("destroy")},500)})})},onHide:function(){n.shareModal.coutoModal("destroy")},onDestroy:function(){$(".share-media-dialog").parent().remove();window.parent.Telligent_Modal.GetWindowOpener=window.parent.Telligent_Modal.GetWindowOpenerOriginal;window.parent.Telligent_Modal.GetWindowOpenerOriginal=null}})):location.href=$(this).attr("href")}}};namespace("$.couto.mediamagnificent").shareMediaPostUi=function(){return n({shareModal:null})}})();
;
(function(){var n=$.couto.mediamagnificent.urlBuilder,t=function(t,i){var u=n(),r=function(n){for(var r,i=0;i<n.length;i++){n[i].Author.AvatarUrlResized=u.buildImageResizedUrl(n[i].Author.AvatarUrl,t.avatarWidth,t.avatarHeight);r=DateUtils.parseUTC(n[i].Date);r=new Date(r.getTime()+r.getTimezoneOffset()*6e4);switch(t.commentDateFormat){case"datetimeat":n[i].DateFormatted=r.format("ddd, mmm d yyyy")+" at "+r.format("h:MM TT");break;case"ago":n[i].DateFormatted=DateUtils.formatAsTimeAgo(r,t.serverDate);break;default:n[i].DateFormatted=r.format(t.commentDateFormat)}}};return{getCommentsByMediaId:function(n,u){$.telligent.evolution.get({url:jQuery.telligent.evolution.site.getBaseUrl()+"api.ashx/v2/media/{MediaGalleryId}/files/{FileId}/comments.json",data:{MediaGalleryId:u,FileId:n},cache:!1,success:function(n){if(i.comments=n.Comments,r(i.comments),typeof t.onGetCommentsComplete=="function")t.onGetCommentsComplete(i.comments)}})},addComment:function(n,u,f){$.telligent.evolution.post({url:jQuery.telligent.evolution.site.getBaseUrl()+"api.ashx/v2/media/{MediaGalleryId}/files/{FileId}/comments.json",data:{MediaGalleryId:u,FileId:n,Body:f},success:function(n){if(i.comments.push(n.Comment),r(i.comments),typeof t.onAddSuccess=="function")t.onAddSuccess(i.comments[i.comments.length-1])},error:function(){typeof t.onAddFailure=="function"&&t.onAddFailure()}})},deleteById:function(n,i,r){$.telligent.evolution.del({url:jQuery.telligent.evolution.site.getBaseUrl()+"api.ashx/v2/media/{MediaGalleryId}/files/{FileId}/comments/{CommentId}.json",data:{MediaGalleryId:i,FileId:n,CommentId:r},success:function(){if(typeof t.onDeleteSuccess=="function")t.onDeleteSuccess(r)},error:function(){typeof t.onDeleteFailure=="function"&&t.onDeleteFailure()}})}}};namespace("$.couto.mediamagnificent").mediaPostCommentsLoader=function(n){n=$.extend({avatarWidth:32,avatarHeight:32,serverDate:new Date,commentDateFormat:"datetime",onGetCommentsComplete:null,onAddSuccess:null,onAddFailure:null,onDeleteSuccess:null,onDeleteFailure:null},n);return t(n,{comments:[]})}})();
;
(function(n){function ut(n,t,i){return i.transition=="transition"&&t=="swing"&&(t="ease"),{anims:[],duration:n,orgDuration:n,easing:t,startTime:p()}}function k(n,t){for(var i,r=0,u=n.anims.length;r<u;r++)(i=n.anims[r],i)&&i[0][t.transition](i[1],n.duration,n.easing,i[2])}function ft(n,t){var r,f,i;for(u(t)||(t=!0),s(n.pre)&&ft(n.pre,t),r=0,f=n.anims.length;r<f;r++)i=n.anims[r],i[0].stop(!0),t&&(i[0].css(i[1]),e(i[2])&&i[2]());s(n.post)&&ft(n.post,t)}function ui(n,t,i){t&&t.remove();switch(i.fx){case"fade":case"crossfade":case"cover-fade":case"uncover-fade":n.css("filter","");n.css("opacity",1)}}function et(n,t,i,r,u){if(t[i]&&t[i].call(n,r),u[i].length)for(var f=0,e=u[i].length;f<e;f++)u[i][f].call(n,r);return[]}function fi(n,i,r){return i.length&&(n.trigger(t(i[0][0],r),i[0][1]),i.shift()),i}function ei(t){t.each(function(){var t=n(this);t.data("_cfs_isHidden",t.is(":hidden")).hide()})}function oi(t){t&&t.each(function(){var t=n(this);t.data("_cfs_isHidden")||t.show()})}function d(n){return n.auto&&clearTimeout(n.auto),n.progress&&clearInterval(n.progress),n}function si(n,t,i,r,u,f,e){return{width:e.width,height:e.height,items:{old:n,skipped:t,visible:i},scroll:{items:r,direction:u,duration:f}}}function hi(n,t,i,r){var u=n.duration;return n.fx=="none"?0:(u=="auto"?u=t.scroll.duration/t.scroll.items*i:u<10&&(u=r/u),u<1)?0:(n.fx=="fade"&&(u=u/2),Math.round(u))}function vt(n,t,u){var s=i(n.items.minimum)?n.items.minimum:n.items.visible+1,f,e,o;t=="show"||t=="hide"?f=t:s>t?(r(u,"Not enough items ("+t+" total, "+s+" needed): Hiding navigation."),f="hide"):f="show";e=f=="show"?"removeClass":"addClass";o=l("hidden",u);n.auto.button&&n.auto.button[f]()[e](o);n.prev.button&&n.prev.button[f]()[e](o);n.next.button&&n.next.button[f]()[e](o);n.pagination.container&&n.pagination.container[f]()[e](o)}function g(n,t,i){var r,u,f;n.circular||n.infinite||(r=t=="removeClass"||t=="addClass"?t:!1,u=l("disabled",i),n.auto.button&&r&&n.auto.button[r](u),n.prev.button&&(f=r||t==0?"addClass":"removeClass",n.prev.button[f](u)),n.next.button&&(f=r||t==n.items.visible?"addClass":"removeClass",n.next.button[f](u)))}function ot(n,t){return e(t)?t=t.call(n):o(t)&&(t={}),t}function or(n,t){return t=ot(n,t),i(t)?t={visible:t}:t=="variable"?t={visible:t,width:t,height:t}:s(t)||(t={}),t}function sr(n,t){return t=ot(n,t),i(t)?t=t<=50?{items:t}:{duration:t}:f(t)?t={easing:t}:s(t)||(t={}),t}function yt(t,i){if(i=ot(t,i),f(i)){var r=ir(i);i=r==-1?n(i):r}return i}function hr(n,t){return t=yt(n,t),c(t)?t={button:t}:u(t)?t={play:t}:i(t)&&(t={timeoutDuration:t}),t.progress&&(f(t.progress)||c(t.progress))&&(t.progress={bar:t.progress}),t}function cr(t,r){return e(r.button)&&(r.button=r.button.call(t)),f(r.button)&&(r.button=n(r.button)),u(r.play)||(r.play=!0),i(r.delay)||(r.delay=0),o(r.pauseOnEvent)&&(r.pauseOnEvent=!0),u(r.pauseOnResize)||(r.pauseOnResize=!0),i(r.timeoutDuration)||(r.timeoutDuration=r.duration<10?2500:r.duration*5),r.progress&&(e(r.progress.bar)&&(r.progress.bar=r.progress.bar.call(t)),f(r.progress.bar)&&(r.progress.bar=n(r.progress.bar)),r.progress.bar?(e(r.progress.updater)||(r.progress.updater=n.fn.carouFredSel.progressbarUpdater),i(r.progress.interval)||(r.progress.interval=50)):r.progress=!1),r}function ci(n,t){return t=yt(n,t),c(t)?t={button:t}:i(t)&&(t={key:t}),t}function li(t,i){return e(i.button)&&(i.button=i.button.call(t)),f(i.button)&&(i.button=n(i.button)),f(i.key)&&(i.key=ir(i.key)),i}function lr(n,t){return t=yt(n,t),c(t)?t={container:t}:u(t)&&(t={keys:t}),t}function ar(t,r){return e(r.container)&&(r.container=r.container.call(t)),f(r.container)&&(r.container=n(r.container)),i(r.items)||(r.items=!1),u(r.keys)||(r.keys=!1),e(r.anchorBuilder)||ri(r.anchorBuilder)||(r.anchorBuilder=n.fn.carouFredSel.pageAnchorBuilder),i(r.deviation)||(r.deviation=0),r}function vr(n,t){return e(t)&&(t=t.call(n)),o(t)&&(t={onTouch:!1}),rt(t)?t={onTouch:t}:i(t)&&(t={items:t}),t}function yr(n,t){return u(t.onTouch)||(t.onTouch=!0),u(t.onMouse)||(t.onMouse=!1),s(t.options)||(t.options={}),u(t.options.triggerOnTouchEnd)||(t.options.triggerOnTouchEnd=!1),t}function pr(n,t){return e(t)&&(t=t.call(n)),rt(t)?t={}:i(t)?t={items:t}:o(t)&&(t=!1),t}function wr(n,t){return t}function nt(t,r,e,o,h){if(f(t)&&(t=n(t,h)),s(t)&&(t=n(t,h)),c(t)?(t=h.children().index(t),u(e)||(e=!1)):u(e)||(e=!0),i(t)||(t=0),i(r)||(r=0),e&&(t+=o.first),t+=r,o.total>0){while(t>=o.total)t-=o.total;while(t<0)t+=o.total}return t}function pt(n,t,i){for(var f=0,e=0,u,r=i;r>=0;r--){if(u=n.eq(r),f+=u.is(":visible")?u[t.d.outerWidth](!0):0,f>t.maxDimension)return e;r==0&&(r=n.length);e++}}function br(n,t,i){return ai(n,t.items.filter,t.items.visibleConf.org,i)}function kr(n,t,i,r){return ai(n,t.items.filter,r,i)}function ai(n,t,i,r){for(var e=0,f=0,o,u=r,s=n.length;u>=0;u--){if((f++,f==s)||(o=n.eq(u),o.is(t)&&(e++,e==i)))return f;u==0&&(u=s)}}function vi(n,t){return t.items.visibleConf.org||n.children().slice(0,t.items.visible).filter(t.items.filter).length}function w(n,t,i){for(var o=0,u=0,f,r=i,e=n.length-1;r<=e;r++){if((f=n.eq(r),o+=f.is(":visible")?f[t.d.outerWidth](!0):0,o>t.maxDimension)||(u++,u==e+1))return u;r==e&&(r=-1)}}function yi(n,t,i,r){var u=w(n,t,i);return t.circular||i+u>r&&(u=r-i),u}function st(n,t,i){return pi(n,t.items.filter,t.items.visibleConf.org,i,t.circular)}function dr(n,t,i,r){return pi(n,t.items.filter,r+1,i,t.circular)-1}function pi(n,t,i,r){for(var o=0,f=0,s,u=r,e=n.length-1;u<=e;u++){if((f++,f>=e)||(s=n.eq(u),s.is(t)&&(o++,o==i)))return f;u==e&&(u=-1)}}function tt(n,t){return n.slice(0,t.items.visible)}function gr(n,t,i){return n.slice(i,t.items.visibleConf.old+i)}function nu(n,t){return n.slice(0,t.items.visible)}function tu(n,t){return n.slice(0,t.items.visibleConf.old)}function iu(n,t,i){return n.slice(i,t.items.visible+i)}function wt(t,r,u){r.usePadding&&(f(u)||(u="_cfs_origCssMargin"),t.each(function(){var f=n(this),t=parseInt(f.css(r.d.marginRight),10);i(t)||(t=0);f.data(u,t)}))}function h(t,r,f){if(r.usePadding){var e=u(f)?f:!1;i(f)||(f=0);wt(t,r,"_cfs_tempCssMargin");t.each(function(){var t=n(this);t.css(r.d.marginRight,e?t.data("_cfs_tempCssMargin"):f+t.data("_cfs_origCssMargin"))})}}function ht(t){t.each(function(){var t=n(this);t.data("_cfs_origCss",t.attr("style")||"")})}function bt(t){t.each(function(){var t=n(this);t.attr("style",t.data("_cfs_origCss")||"")})}function wi(t,i){var e=t.items.visible,u=t.items[t.d.width],r=t[t.d.height],f=lt(r);i.each(function(){var i=n(this),e=u-ru(i,t,"Width");i[t.d.width](e);f&&i[t.d.height](gt(e,r))})}function kt(n,t){var s=n.parent(),u=n.children(),o=tt(u,t),f=ni(dt(o,t,!0),t,!1),i,r,e;return s.css(f),t.usePadding&&(i=t.padding,r=i[t.d[1]],t.align&&r<0&&(r=0),e=o.last(),e.css(t.d.marginRight,e.data("_cfs_origCssMargin")+r),n.css(t.d.top,i[t.d[0]]),n.css(t.d.left,i[t.d[3]])),n.css(t.d.width,f[t.d.width]+v(u,t,"width")*2),n.css(t.d.height,bi(u,t,"height")),f}function dt(n,t,i){return[v(n,t,"width",i),bi(n,t,"height",i)]}function bi(n,t,r,f){return(u(f)||(f=!1),i(t[t.d[r]])&&f)?t[t.d[r]]:i(t.items[t.d[r]])?t.items[t.d[r]]:(r=r.toLowerCase().indexOf("width")>-1?"outerWidth":"outerHeight",ct(n,t,r))}function ct(n,t,i){for(var r=0,u,f,e=0,o=n.length;e<o;e++)u=n.eq(e),f=u.is(":visible")?u[t.d[i]](!0):0,r<f&&(r=f);return r}function v(n,t,r,f){var h,o,e,c,s;if(u(f)||(f=!1),i(t[t.d[r]])&&f)return t[t.d[r]];if(i(t.items[t.d[r]]))return t.items[t.d[r]]*n.length;for(h=r.toLowerCase().indexOf("width")>-1?"outerWidth":"outerHeight",o=0,e=0,c=n.length;e<c;e++)s=n.eq(e),o+=s.is(":visible")?s[t.d[h]](!0):0;return o}function ki(n,t,i){var r=n.is(":visible"),u;return r&&n.hide(),u=n.parent()[t.d[i]](),r&&n.show(),u}function di(n,t){return i(n[n.d.width])?n[n.d.width]:t}function gi(n,t,i){for(var r=!1,u=!1,f,e,o=0,s=n.length;o<s;o++)f=n.eq(o),e=f.is(":visible")?f[t.d[i]](!0):0,r===!1?r=e:r!=e&&(u=!0),r==0&&(u=!0);return u}function ru(n,t,i){return n[t.d["outer"+i]](!0)-n[t.d[i.toLowerCase()]]()}function gt(n,t){if(lt(t)){if(t=parseInt(t.slice(0,-1),10),!i(t))return n;n*=t/100}return n}function t(n,t,i,r,f){return u(i)||(i=!0),u(r)||(r=!0),u(f)||(f=!1),i&&(n=t.events.prefix+n),r&&(n=n+"."+t.events.namespace),r&&f&&(n+=t.serialNumber),n}function l(n,t){return f(t.classnames[n])?t.classnames[n]:n}function ni(n,t,i){u(i)||(i=!0);var r=t.usePadding&&i?t.padding:[0,0,0,0],f={};return f[t.d.width]=n[0]+r[1]+r[3],f[t.d.height]=n[1]+r[0]+r[2],f}function b(n,t){for(var u=[],i,f,r=0,e=n.length;r<e;r++)for(i=0,f=t.length;i<f;i++)if(t[i].indexOf(typeof n[r])>-1&&o(u[i])){u[i]=n[r];break}return u}function uu(n){if(o(n))return[0,0,0,0];if(i(n))return[n,n,n,n];if(f(n)&&(n=n.split("px").join("").split("em").join("").split(" ")),!y(n))return[0,0,0,0];for(var t=0;t<4;t++)n[t]=parseInt(n[t],10);switch(n.length){case 0:return[0,0,0,0];case 1:return[n[0],n[0],n[0],n[0]];case 2:return[n[0],n[1],n[0],n[1]];case 3:return[n[0],n[1],n[2],n[1]];default:return[n[0],n[1],n[2],n[3]]}}function ti(n,t){var r=i(t[t.d.width])?Math.ceil(t[t.d.width]-v(n,t,"width")):0;switch(t.align){case"left":return[0,r];case"right":return[r,0];case"center":default:return[Math.ceil(r/2),Math.floor(r/2)]}}function fu(n){for(var i=[["width","innerWidth","outerWidth","height","innerHeight","outerHeight","left","top","marginRight",0,1,2,3],["height","innerHeight","outerHeight","width","innerWidth","outerWidth","top","left","marginBottom",3,2,1,0]],u=i[0].length,f=n.direction=="right"||n.direction=="left"?0:1,r={},t=0;t<u;t++)r[i[0][t]]=i[f][t];return r}function ii(n,t,r,u){var o=n,h,c;if(e(r))o=r.call(u,o);else if(f(r)){if(h=r.split("+"),c=r.split("-"),c.length>h.length)var l=!0,a=c[0],s=c[1];else var l=!1,a=h[0],s=h[1];switch(a){case"even":o=n%2==1?n-1:n;break;case"odd":o=n%2==0?n-1:n;break;default:o=n}s=parseInt(s,10);i(s)&&(l&&(s=-s),o+=s)}return(!i(o)||o<1)&&(o=1),o}function a(n,t,i,r){return nr(ii(n,t,i,r),t.items.visibleConf)}function nr(n,t){return i(t.min)&&n<t.min&&(n=t.min),i(t.max)&&n>t.max&&(n=t.max),n<1&&(n=1),n}function tr(t){y(t)||(t=[[t]]);y(t[0])||(t=[t]);for(var r=0,e=t.length;r<e;r++)f(t[r][0])&&(t[r][0]=n(t[r][0])),u(t[r][1])||(t[r][1]=!0),u(t[r][2])||(t[r][2]=!0),i(t[r][3])||(t[r][3]=0);return t}function ir(n){return n=="right"?39:n=="left"?37:n=="up"?38:n=="down"?40:-1}function rr(i,r,u){if(i){var f=r.triggerHandler(t("currentPosition",u));n.fn.carouFredSel.cookie.set(i,f)}}function eu(t){var i=n.fn.carouFredSel.cookie.get(t);return i==""?0:i}function ou(n,t){for(var r={},i=0,u=t.length;i<u;i++)r[t[i]]=n.css(t[i]);return r}function su(n,t,u,o){return s(n.visibleConf)||(n.visibleConf={}),s(n.sizesConf)||(n.sizesConf={}),n.start==0&&i(o)&&(n.start=o),s(n.visible)?(n.visibleConf.min=n.visible.min,n.visibleConf.max=n.visible.max,n.visible=!1):f(n.visible)?(n.visible=="variable"?n.visibleConf.variable=!0:n.visibleConf.adjust=n.visible,n.visible=!1):e(n.visible)&&(n.visibleConf.adjust=n.visible,n.visible=!1),f(n.filter)||(n.filter=u.filter(":hidden").length>0?":visible":"*"),n[t.d.width]||(t.responsive?(r(!0,"Set a "+t.d.width+" for the items!"),n[t.d.width]=ct(u,t,"outerWidth")):n[t.d.width]=gi(u,t,"outerWidth")?"variable":u[t.d.outerWidth](!0)),n[t.d.height]||(n[t.d.height]=gi(u,t,"outerHeight")?"variable":u[t.d.outerHeight](!0)),n.sizesConf.width=n.width,n.sizesConf.height=n.height,n}function hu(n,t){return n.items[n.d.width]=="variable"&&(n.items.visibleConf.variable=!0),n.items.visibleConf.variable||(i(n[n.d.width])?n.items.visible=Math.floor(n[n.d.width]/n.items[n.d.width]):(n.items.visible=Math.floor(t/n.items[n.d.width]),n[n.d.width]=n.items.visible*n.items[n.d.width],n.items.visibleConf.adjust||(n.align=!1)),(n.items.visible=="Infinity"||n.items.visible<1)&&(r(!0,'Not a valid number of visible items: Set to "variable".'),n.items.visibleConf.variable=!0)),n}function cu(n,t,i){return n=="auto"&&(n=ct(i,t,"outerWidth")),n}function lu(n,t,i){return n=="auto"&&(n=ct(i,t,"outerHeight")),n||(n=t.items[t.d.height]),n}function ur(n,t){var i=ti(tt(t,n),n);return n.padding[n.d[1]]=i[1],n.padding[n.d[3]]=i[0],n}function fr(n,t){var i=nr(Math.ceil(n[n.d.width]/n.items[n.d.width]),n.items.visibleConf),r;return i>t.length&&(i=t.length),r=Math.floor(n[n.d.width]/i),n.items.visible=i,n.items[n.d.width]=r,n[n.d.width]=i*r,n}function it(n){var t,i;return f(n)?(i=n.indexOf("immediate")>-1?!0:!1,t=n.indexOf("resume")>-1?!0:!1):i=t=!1,[i,t]}function er(n){return n===null}function o(n){return er(n)||typeof n=="undefined"||n===""||n==="undefined"}function y(n){return n instanceof Array}function c(n){return n instanceof jQuery}function s(n){return(n instanceof Object||typeof n=="object")&&!er(n)&&!c(n)&&!y(n)}function i(n){return(n instanceof Number||typeof n=="number")&&!isNaN(n)}function f(n){return(n instanceof String||typeof n=="string")&&!o(n)&&!rt(n)&&!ri(n)}function e(n){return n instanceof Function||typeof n=="function"}function u(n){return n instanceof Boolean||typeof n=="boolean"||rt(n)||ri(n)}function rt(n){return n===!0||n==="true"}function ri(n){return n===!1||n==="false"}function lt(n){return f(n)&&n.slice(-1)=="%"}function p(){return(new Date).getTime()}function at(n,t){r(!0,n+" is DEPRECATED, support for it will be removed. Use "+t+" instead.")}function r(n,t){var i;if(!o(window.console)&&!o(window.console.log)){if(s(n)?(i=" ("+n.selector+")",n=n.debug):i="",!n)return!1;t=f(t)?"carouFredSel"+i+": "+t:["carouFredSel"+i+":",t];window.console.log(t)}return!1}n.fn.carouFredSel||(n.fn.caroufredsel=n.fn.carouFredSel=function(ct,yt){var au,wu,ku,gu,pu,du,nf;if(this.length==0)return r(!0,'No element found for "'+this.selector+'".'),this;if(this.length>1)return this.each(function(){n(this).carouFredSel(ct,yt)});var ai=this,nr=this[0],tf=!1;ai.data("_cfs_isCarousel")&&(tf=ai.triggerHandler("_cfs_triggerEvent","currentPosition"),ai.trigger("_cfs_triggerEvent",["destroy",!0]));au={};au._cfs_init=function(t,r,u){t=ot(nr,t);t.items=or(nr,t.items);t.scroll=sr(nr,t.scroll);t.auto=hr(nr,t.auto);t.prev=ci(nr,t.prev);t.next=ci(nr,t.next);t.pagination=lr(nr,t.pagination);t.swipe=vr(nr,t.swipe);t.mousewheel=pr(nr,t.mousewheel);r&&(bu=n.extend(!0,{},n.fn.carouFredSel.defaults,t));ri=n.extend(!0,{},n.fn.carouFredSel.defaults,t);ri.d=fu(ri);ir.direction=ri.direction=="up"||ri.direction=="left"?"next":"prev";var f=ai.children(),e=ki(er,ri,"width");if(rt(ri.cookie)&&(ri.cookie="caroufredsel_cookie_"+pi.serialNumber),ri.maxDimension=di(ri,e),ri.items=su(ri.items,ri,f,u),ri[ri.d.width]=cu(ri[ri.d.width],ri,f),ri[ri.d.height]=lu(ri[ri.d.height],ri,f),ri.responsive&&(lt(ri[ri.d.width])||(ri[ri.d.width]="100%")),lt(ri[ri.d.width])&&(ir.upDateOnWindowResize=!0,ir.primarySizePercentage=ri[ri.d.width],ri[ri.d.width]=gt(e,ir.primarySizePercentage),ri.items.visible||(ri.items.visibleConf.variable=!0)),ri.responsive?(ri.usePadding=!1,ri.padding=[0,0,0,0],ri.align=!1,ri.items.visibleConf.variable=!1):(ri.items.visible||(ri=hu(ri,e)),ri[ri.d.width]||(!ri.items.visibleConf.variable&&i(ri.items[ri.d.width])&&ri.items.filter=="*"?(ri[ri.d.width]=ri.items.visible*ri.items[ri.d.width],ri.align=!1):ri[ri.d.width]="variable"),o(ri.align)&&(ri.align=i(ri[ri.d.width])?"center":!1),ri.items.visibleConf.variable&&(ri.items.visible=w(f,ri,0))),ri.items.filter=="*"||ri.items.visibleConf.variable||(ri.items.visibleConf.org=ri.items.visible,ri.items.visible=st(f,ri,0)),ri.items.visible=a(ri.items.visible,ri,ri.items.visibleConf.adjust,nr),ri.items.visibleConf.old=ri.items.visible,ri.responsive)ri.items.visibleConf.min||(ri.items.visibleConf.min=ri.items.visible),ri.items.visibleConf.max||(ri.items.visibleConf.max=ri.items.visible),ri=fr(ri,f,e);else{ri.padding=uu(ri.padding);ri.align=="top"?ri.align="left":ri.align=="bottom"&&(ri.align="right");switch(ri.align){case"center":case"left":case"right":ri[ri.d.width]!="variable"&&(ri=ur(ri,f),ri.usePadding=!0);break;default:ri.align=!1;ri.usePadding=ri.padding[0]==0&&ri.padding[1]==0&&ri.padding[2]==0&&ri.padding[3]==0?!1:!0}}i(ri.scroll.duration)||(ri.scroll.duration=500);o(ri.scroll.items)&&(ri.scroll.items=ri.responsive||ri.items.visibleConf.variable||ri.items.filter!="*"?"visible":ri.items.visible);ri.auto=n.extend(!0,{},ri.scroll,ri.auto);ri.prev=n.extend(!0,{},ri.scroll,ri.prev);ri.next=n.extend(!0,{},ri.scroll,ri.next);ri.pagination=n.extend(!0,{},ri.scroll,ri.pagination);ri.auto=cr(nr,ri.auto);ri.prev=li(nr,ri.prev);ri.next=li(nr,ri.next);ri.pagination=ar(nr,ri.pagination);ri.swipe=yr(nr,ri.swipe);ri.mousewheel=wr(nr,ri.mousewheel);ri.synchronise&&(ri.synchronise=tr(ri.synchronise));ri.auto.onPauseStart&&(ri.auto.onTimeoutStart=ri.auto.onPauseStart,at("auto.onPauseStart","auto.onTimeoutStart"));ri.auto.onPausePause&&(ri.auto.onTimeoutPause=ri.auto.onPausePause,at("auto.onPausePause","auto.onTimeoutPause"));ri.auto.onPauseEnd&&(ri.auto.onTimeoutEnd=ri.auto.onPauseEnd,at("auto.onPauseEnd","auto.onTimeoutEnd"));ri.auto.pauseDuration&&(ri.auto.timeoutDuration=ri.auto.pauseDuration,at("auto.pauseDuration","auto.timeoutDuration"))};au._cfs_build=function(){ai.data("_cfs_isCarousel",!0);var t=ai.children(),n=ou(ai,["textAlign","float","position","top","right","bottom","left","zIndex","width","height","marginTop","marginRight","marginBottom","marginLeft"]),i="relative";switch(n.position){case"absolute":case"fixed":i=n.position}pi.wrapper=="parent"?ht(er):er.css(n);er.css({overflow:"hidden",position:i});ht(ai);ai.data("_cfs_origCssZindex",n.zIndex);ai.css({textAlign:"left",float:"none",position:"absolute",top:0,right:"auto",bottom:"auto",left:0,marginTop:0,marginRight:0,marginBottom:0,marginLeft:0});wt(t,ri);ht(t);ri.responsive&&wi(ri,t)};au._cfs_bind_events=function(){au._cfs_unbind_events();ai.bind(t("stop",pi),function(n,i){return n.stopPropagation(),ir.isStopped||ri.auto.button&&ri.auto.button.addClass(l("stopped",pi)),ir.isStopped=!0,ri.auto.play&&(ri.auto.play=!1,ai.trigger(t("pause",pi),i)),!0});ai.bind(t("finish",pi),function(n){return n.stopPropagation(),ir.isScrolling&&ft(gi),!0});ai.bind(t("pause",pi),function(n,t,i){var r,u,f;return n.stopPropagation(),ru=d(ru),t&&ir.isScrolling&&(gi.isStopped=!0,r=p()-gi.startTime,gi.duration-=r,gi.pre&&(gi.pre.duration-=r),gi.post&&(gi.post.duration-=r),ft(gi,!1)),ir.isPaused||ir.isScrolling||i&&(ru.timePassed+=p()-ru.startTime),ir.isPaused||ri.auto.button&&ri.auto.button.addClass(l("paused",pi)),ir.isPaused=!0,ri.auto.onTimeoutPause&&(u=ri.auto.timeoutDuration-ru.timePassed,f=100-Math.ceil(u*100/ri.auto.timeoutDuration),ri.auto.onTimeoutPause.call(nr,f,u)),!0});ai.bind(t("play",pi),function(n,f,e,o){var s,c,h;return n.stopPropagation(),ru=d(ru),c=[f,e,o],h=b(c,["string","number","boolean"]),(f=h[0],e=h[1],o=h[2],f!="prev"&&f!="next"&&(f=ir.direction),i(e)||(e=0),u(o)||(o=!1),o&&(ir.isStopped=!1,ri.auto.play=!0),!ri.auto.play)?(n.stopImmediatePropagation(),r(pi,"Carousel stopped: Not scrolling.")):(ir.isPaused&&ri.auto.button&&(ri.auto.button.removeClass(l("stopped",pi)),ri.auto.button.removeClass(l("paused",pi))),ir.isPaused=!1,ru.startTime=p(),s=ri.auto.timeoutDuration+e,dur2=s-ru.timePassed,perc=100-Math.ceil(dur2*100/s),ri.auto.progress&&(ru.progress=setInterval(function(){var n=p()-ru.startTime+ru.timePassed,t=Math.ceil(n*100/s);ri.auto.progress.updater.call(ri.auto.progress.bar[0],t)},ri.auto.progress.interval)),ru.auto=setTimeout(function(){ri.auto.progress&&ri.auto.progress.updater.call(ri.auto.progress.bar[0],100);ri.auto.onTimeoutEnd&&ri.auto.onTimeoutEnd.call(nr,perc,dur2);ir.isScrolling?ai.trigger(t("play",pi),f):ai.trigger(t(f,pi),ri.auto)},dur2),ri.auto.onTimeoutStart&&ri.auto.onTimeoutStart.call(nr,perc,dur2),!0)});ai.bind(t("resume",pi),function(n){return n.stopPropagation(),gi.isStopped?(gi.isStopped=!1,ir.isPaused=!1,ir.isScrolling=!0,gi.startTime=p(),k(gi,pi)):ai.trigger(t("play",pi)),!0});ai.bind(t("prev",pi)+" "+t("next",pi),function(f,o,h,c,l){var nt,v,w,p,d,y,g,k,tt,a;if(f.stopPropagation(),ir.isStopped||ai.is(":hidden"))return f.stopImmediatePropagation(),r(pi,"Carousel stopped or hidden: Not scrolling.");if(nt=i(ri.items.minimum)?ri.items.minimum:ri.items.visible+1,nt>bi.total)return f.stopImmediatePropagation(),r(pi,"Not enough items ("+bi.total+" total, "+nt+" needed): Not scrolling.");if(tt=[o,h,c,l],a=b(tt,["object","number/string","function","boolean"]),o=a[0],h=a[1],c=a[2],l=a[3],v=f.type.slice(pi.events.prefix.length),s(o)||(o={}),e(c)&&(o.onAfter=c),u(l)&&(o.queue=l),o=n.extend(!0,{},ri[v],o),o.conditions&&!o.conditions.call(nr,v))return f.stopImmediatePropagation(),r(pi,'Callback "conditions" returned false.');if(!i(h)){if(ri.items.filter!="*")h="visible";else for(w=[h,o.items,ri[v].items],a=0,g=w.length;a<g;a++)if(i(w[a])||w[a]=="page"||w[a]=="visible"){h=w[a];break}switch(h){case"page":return f.stopImmediatePropagation(),ai.triggerHandler(t(v+"Page",pi),[o,c]);case"visible":ri.items.visibleConf.variable||ri.items.filter!="*"||(h=ri.items.visible)}}if(gi.isStopped)return ai.trigger(t("resume",pi)),ai.trigger(t("queue",pi),[v,[o,h,c]]),f.stopImmediatePropagation(),r(pi,"Carousel resumed scrolling.");if(o.duration>0&&ir.isScrolling)return o.queue&&(o.queue=="last"&&(yu=[]),(o.queue!="first"||yu.length==0)&&ai.trigger(t("queue",pi),[v,[o,h,c]])),f.stopImmediatePropagation(),r(pi,"Carousel currently scrolling.");if(ru.timePassed=0,ai.trigger(t("slide_"+v,pi),[o,h]),ri.synchronise)for(p=ri.synchronise,d=[o,h],y=0,g=p.length;y<g;y++)k=v,p[y][2]||(k=k=="prev"?"next":"prev"),p[y][1]||(d[0]=p[y][0].triggerHandler("_cfs_triggerEvent",["configuration",k])),d[1]=h+p[y][3],p[y][0].trigger("_cfs_triggerEvent",["slide_"+k,d]);return!0});ai.bind(t("slide_prev",pi),function(u,f,e){var o,ur,rt,ft,ct,kt,fr,yt,gt;if(u.stopPropagation(),o=ai.children(),!ri.circular&&bi.first==0)return ri.infinite&&ai.trigger(t("next",pi),bi.total-1),u.stopImmediatePropagation();if(h(o,ri),i(e)||(ri.items.visibleConf.variable?e=pt(o,ri,bi.total-1):ri.items.filter!="*"?(ur=i(f.items)?f.items:vi(ai,ri),e=kr(o,ri,bi.total-1,ur)):e=ri.items.visible,e=ii(e,ri,f.items,nr)),ri.circular||bi.total-e<bi.first&&(e=bi.total-bi.first),ri.items.visibleConf.old=ri.items.visible,ri.items.visibleConf.variable?(rt=a(w(o,ri,bi.total-e),ri,ri.items.visibleConf.adjust,nr),ri.items.visible+e<=rt&&e<bi.total&&(e++,rt=a(w(o,ri,bi.total-e),ri,ri.items.visibleConf.adjust,nr)),ri.items.visible=rt):ri.items.filter!="*"&&(rt=st(o,ri,bi.total-e),ri.items.visible=a(rt,ri,ri.items.visibleConf.adjust,nr)),h(o,ri,!0),e==0)return u.stopImmediatePropagation(),r(pi,"0 items to scroll: Not scrolling.");for(r(pi,"Scrolling "+e+" items backward."),bi.first+=e;bi.first>=bi.total;)bi.first-=bi.total;ri.circular||(bi.first==0&&f.onEnd&&f.onEnd.call(nr,"prev"),ri.infinite||g(ri,bi.first,pi));ai.children().slice(bi.total-e,bi.total).prependTo(ai);bi.total<ri.items.visible+e&&ai.children().slice(0,ri.items.visible+e-bi.total).clone(!0).appendTo(ai);var o=ai.children(),ci=gr(o,ri,e),wt=nu(o,ri),tt=o.eq(e-1),lt=ci.last(),ot=wt.last();h(o,ri);ft=0;ct=0;ri.align&&(kt=ti(wt,ri),ft=kt[0],ct=kt[1]);var or=ft<0?ri.padding[ri.d[3]]:0,bt=!1,li=n();ri.items.visible<e&&(li=o.slice(ri.items.visibleConf.old,e),f.fx=="directscroll"&&(fr=ri.items[ri.d.width],bt=li,tt=ot,ei(bt),ri.items[ri.d.width]="variable"));var s=!1,sr=v(o.slice(0,e),ri,"width"),at=ni(dt(wt,ri,!0),ri,!ri.usePadding),hr=0,ht={},yi={},vt={},wi={},ki={},cr={},lr={},di=hi(f,ri,e,sr);switch(f.fx){case"cover":case"cover-fade":hr=v(o.slice(0,ri.items.visible),ri,"width")}bt&&(ri.items[ri.d.width]=fr);h(o,ri,!0);ct>=0&&h(lt,ri,ri.padding[ri.d[1]]);ft>=0&&h(tt,ri,ri.padding[ri.d[3]]);ri.align&&(ri.padding[ri.d[1]]=ct,ri.padding[ri.d[3]]=ft);cr[ri.d.left]=-(sr-or);lr[ri.d.left]=-(hr-or);yi[ri.d.left]=at[ri.d.width];var tr=function(){},it=function(){},y=function(){},ar=function(){},p=function(){},vr=function(){},b=function(){},yr=function(){},c=function(){},l=function(){},nt=function(){};switch(f.fx){case"crossfade":case"cover":case"cover-fade":case"uncover":case"uncover-fade":s=ai.clone(!0).appendTo(er)}switch(f.fx){case"crossfade":case"uncover":case"uncover-fade":s.children().slice(0,e).remove();s.children().slice(ri.items.visibleConf.old).remove();break;case"cover":case"cover-fade":s.children().slice(ri.items.visible).remove();s.css(lr)}if(ai.css(cr),gi=ut(di,f.easing,pi),ht[ri.d.left]=ri.usePadding?ri.padding[ri.d[3]]:0,(ri[ri.d.width]=="variable"||ri[ri.d.height]=="variable")&&(tr=function(){er.css(at)},it=function(){gi.anims.push([er,at])}),ri.usePadding){ot.not(tt).length&&(vt[ri.d.marginRight]=tt.data("_cfs_origCssMargin"),ft<0?tt.css(vt):(b=function(){tt.css(vt)},yr=function(){gi.anims.push([tt,vt])}));switch(f.fx){case"cover":case"cover-fade":s.children().eq(e-1).css(vt)}ot.not(lt).length&&(wi[ri.d.marginRight]=lt.data("_cfs_origCssMargin"),y=function(){lt.css(wi)},ar=function(){gi.anims.push([lt,wi])});ct>=0&&(ki[ri.d.marginRight]=ot.data("_cfs_origCssMargin")+ri.padding[ri.d[1]],p=function(){ot.css(ki)},vr=function(){gi.anims.push([ot,ki])})}nt=function(){ai.css(ht)};yt=ri.items.visible+e-bi.total;l=function(){if(yt>0&&(ai.children().slice(bi.total).remove(),ci=n(ai.children().slice(bi.total-(ri.items.visible-yt)).get().concat(ai.children().slice(0,yt).get()))),oi(bt),ri.usePadding){var t=ai.children().eq(ri.items.visible+e-1);t.css(ri.d.marginRight,t.data("_cfs_origCssMargin"))}};gt=si(ci,li,wt,e,"prev",di,at);c=function(){ui(ai,s,f);ir.isScrolling=!1;vu.onAfter=et(nr,f,"onAfter",gt,vu);yu=fi(ai,yu,pi);ir.isPaused||ai.trigger(t("play",pi))};ir.isScrolling=!0;ru=d(ru);vu.onBefore=et(nr,f,"onBefore",gt,vu);switch(f.fx){case"none":ai.css(ht);tr();y();p();b();nt();l();c();break;case"fade":gi.anims.push([ai,{opacity:0},function(){tr();y();p();b();nt();l();gi=ut(di,f.easing,pi);gi.anims.push([ai,{opacity:1},c]);k(gi,pi)}]);break;case"crossfade":ai.css({opacity:0});gi.anims.push([s,{opacity:0}]);gi.anims.push([ai,{opacity:1},c]);it();y();p();b();nt();l();break;case"cover":gi.anims.push([s,ht,function(){y();p();b();nt();l();c()}]);it();break;case"cover-fade":gi.anims.push([ai,{opacity:0}]);gi.anims.push([s,ht,function(){ai.css({opacity:1});y();p();b();nt();l();c()}]);it();break;case"uncover":gi.anims.push([s,yi,c]);it();y();p();b();nt();l();break;case"uncover-fade":ai.css({opacity:0});gi.anims.push([ai,{opacity:1}]);gi.anims.push([s,yi,c]);it();y();p();b();nt();l();break;default:gi.anims.push([ai,ht,function(){l();c()}]);it();ar();vr();yr()}return k(gi,pi),rr(ri.cookie,ai,pi),ai.trigger(t("updatePageStatus",pi),[!1,at]),!0});ai.bind(t("slide_next",pi),function(u,f,e){var o,rt,ht,s,ft,vt,gt,ct,yt,sr,ci,li,wi,ki;if(u.stopPropagation(),o=ai.children(),!ri.circular&&bi.first==ri.items.visible)return ri.infinite&&ai.trigger(t("prev",pi),bi.total-1),u.stopImmediatePropagation();if(h(o,ri),i(e)||(ri.items.filter!="*"?(ht=i(f.items)?f.items:vi(ai,ri),e=dr(o,ri,0,ht)):e=ri.items.visible,e=ii(e,ri,f.items,nr)),rt=bi.first==0?bi.total:bi.first,ri.circular||(ri.items.visibleConf.variable?(s=w(o,ri,e),ht=pt(o,ri,rt-1)):(s=ri.items.visible,ht=ri.items.visible),e+s>rt&&(e=rt-ht)),ri.items.visibleConf.old=ri.items.visible,ri.items.visibleConf.variable){for(s=a(yi(o,ri,e,rt),ri,ri.items.visibleConf.adjust,nr);ri.items.visible-e>=s&&e<bi.total;)e++,s=a(yi(o,ri,e,rt),ri,ri.items.visibleConf.adjust,nr);ri.items.visible=s}else ri.items.filter!="*"&&(s=st(o,ri,e),ri.items.visible=a(s,ri,ri.items.visibleConf.adjust,nr));if(h(o,ri,!0),e==0)return u.stopImmediatePropagation(),r(pi,"0 items to scroll: Not scrolling.");for(r(pi,"Scrolling "+e+" items forward."),bi.first-=e;bi.first<0;)bi.first+=bi.total;ri.circular||(bi.first==ri.items.visible&&f.onEnd&&f.onEnd.call(nr,"next"),ri.infinite||g(ri,bi.first,pi));bi.total<ri.items.visible+e&&ai.children().slice(0,ri.items.visible+e-bi.total).clone(!0).appendTo(ai);var o=ai.children(),hr=tu(o,ri),lt=iu(o,ri,e),at=o.eq(e-1),ot=hr.last(),cr=lt.last();h(o,ri);ft=0;vt=0;ri.align&&(gt=ti(lt,ri),ft=gt[0],vt=gt[1]);ct=!1;yt=n();ri.items.visibleConf.old<e&&(yt=o.slice(ri.items.visibleConf.old,e),f.fx=="directscroll"&&(sr=ri.items[ri.d.width],ct=yt,at=ot,ei(ct),ri.items[ri.d.width]="variable"));var y=!1,lr=v(o.slice(0,e),ri,"width"),wt=ni(dt(lt,ri,!0),ri,!ri.usePadding),ar=0,bt={},di={},tr={},ur={},kt={},fr=hi(f,ri,e,lr);switch(f.fx){case"uncover":case"uncover-fade":ar=v(o.slice(0,ri.items.visibleConf.old),ri,"width")}ct&&(ri.items[ri.d.width]=sr);ri.align&&ri.padding[ri.d[1]]<0&&(ri.padding[ri.d[1]]=0);h(o,ri,!0);h(ot,ri,ri.padding[ri.d[1]]);ri.align&&(ri.padding[ri.d[1]]=vt,ri.padding[ri.d[3]]=ft);kt[ri.d.left]=ri.usePadding?ri.padding[ri.d[3]]:0;var or=function(){},nt=function(){},p=function(){},vr=function(){},b=function(){},yr=function(){},c=function(){},l=function(){},it=function(){};switch(f.fx){case"crossfade":case"cover":case"cover-fade":case"uncover":case"uncover-fade":y=ai.clone(!0).appendTo(er);y.children().slice(ri.items.visibleConf.old).remove()}switch(f.fx){case"crossfade":case"cover":case"cover-fade":ai.css("zIndex",1);y.css("zIndex",0)}gi=ut(fr,f.easing,pi);bt[ri.d.left]=-lr;di[ri.d.left]=-ar;ft<0&&(bt[ri.d.left]+=ft);(ri[ri.d.width]=="variable"||ri[ri.d.height]=="variable")&&(or=function(){er.css(wt)},nt=function(){gi.anims.push([er,wt])});ri.usePadding&&(ci=cr.data("_cfs_origCssMargin"),vt>=0&&(ci+=ri.padding[ri.d[1]]),cr.css(ri.d.marginRight,ci),at.not(ot).length&&(ur[ri.d.marginRight]=ot.data("_cfs_origCssMargin")),p=function(){ot.css(ur)},vr=function(){gi.anims.push([ot,ur])},li=at.data("_cfs_origCssMargin"),ft>0&&(li+=ri.padding[ri.d[3]]),tr[ri.d.marginRight]=li,b=function(){at.css(tr)},yr=function(){gi.anims.push([at,tr])});it=function(){ai.css(kt)};wi=ri.items.visible+e-bi.total;l=function(){var n,t;wi>0&&ai.children().slice(bi.total).remove();n=ai.children().slice(0,e).appendTo(ai).last();wi>0&&(lt=tt(o,ri));oi(ct);ri.usePadding&&(bi.total<ri.items.visible+e&&(t=ai.children().eq(ri.items.visible-1),t.css(ri.d.marginRight,t.data("_cfs_origCssMargin")+ri.padding[ri.d[1]])),n.css(ri.d.marginRight,n.data("_cfs_origCssMargin")))};ki=si(hr,yt,lt,e,"next",fr,wt);c=function(){ai.css("zIndex",ai.data("_cfs_origCssZindex"));ui(ai,y,f);ir.isScrolling=!1;vu.onAfter=et(nr,f,"onAfter",ki,vu);yu=fi(ai,yu,pi);ir.isPaused||ai.trigger(t("play",pi))};ir.isScrolling=!0;ru=d(ru);vu.onBefore=et(nr,f,"onBefore",ki,vu);switch(f.fx){case"none":ai.css(bt);or();p();b();it();l();c();break;case"fade":gi.anims.push([ai,{opacity:0},function(){or();p();b();it();l();gi=ut(fr,f.easing,pi);gi.anims.push([ai,{opacity:1},c]);k(gi,pi)}]);break;case"crossfade":ai.css({opacity:0});gi.anims.push([y,{opacity:0}]);gi.anims.push([ai,{opacity:1},c]);nt();p();b();it();l();break;case"cover":ai.css(ri.d.left,er[ri.d.width]());gi.anims.push([ai,kt,c]);nt();p();b();l();break;case"cover-fade":ai.css(ri.d.left,er[ri.d.width]());gi.anims.push([y,{opacity:0}]);gi.anims.push([ai,kt,c]);nt();p();b();l();break;case"uncover":gi.anims.push([y,di,c]);nt();p();b();it();l();break;case"uncover-fade":ai.css({opacity:0});gi.anims.push([ai,{opacity:1}]);gi.anims.push([y,di,c]);nt();p();b();it();l();break;default:gi.anims.push([ai,bt,function(){it();l();c()}]);nt();vr();yr()}return k(gi,pi),rr(ri.cookie,ai,pi),ai.trigger(t("updatePageStatus",pi),[!1,wt]),!0});ai.bind(t("slideTo",pi),function(n,i,r,u,f,e,o){n.stopPropagation();var c=[i,r,u,f,e,o],h=b(c,["string/number/object","number","boolean","object","string","function"]);return(f=h[3],e=h[4],o=h[5],i=nt(h[0],h[1],h[2],bi,ai),i==0)?!1:(s(f)||(f=!1),e!="prev"&&e!="next"&&(e=ri.circular?i<=bi.total/2?"next":"prev":bi.first==0||bi.first>i?"next":"prev"),e=="prev"&&(i=bi.total-i),ai.trigger(t(e,pi),[f,i,o]),!0)});ai.bind(t("prevPage",pi),function(n,i,r){n.stopPropagation();var u=ai.triggerHandler(t("currentPage",pi));return ai.triggerHandler(t("slideToPage",pi),[u-1,i,"prev",r])});ai.bind(t("nextPage",pi),function(n,i,r){n.stopPropagation();var u=ai.triggerHandler(t("currentPage",pi));return ai.triggerHandler(t("slideToPage",pi),[u+1,i,"next",r])});ai.bind(t("slideToPage",pi),function(n,r,u,f,e){n.stopPropagation();i(r)||(r=ai.triggerHandler(t("currentPage",pi)));var o=ri.pagination.items||ri.items.visible,s=Math.ceil(bi.total/o)-1;return r<0&&(r=s),r>s&&(r=0),ai.triggerHandler(t("slideTo",pi),[r*o,0,!0,u,f,e])});ai.bind(t("jumpToStart",pi),function(n,t){if(n.stopPropagation(),t=t?nt(t,0,!0,bi,ai):0,t+=bi.first,t!=0){if(bi.total>0)while(t>bi.total)t-=bi.total;ai.prepend(ai.children().slice(t,bi.total))}return!0});ai.bind(t("synchronise",pi),function(n,i){var e,f,u,o;if(n.stopPropagation(),i)i=tr(i);else if(ri.synchronise)i=ri.synchronise;else return r(pi,"No carousel to synchronise.");for(e=ai.triggerHandler(t("currentPosition",pi)),f=!0,u=0,o=i.length;u<o;u++)i[u][0].triggerHandler(t("slideTo",pi),[e,i[u][3],!0])||(f=!1);return f});ai.bind(t("queue",pi),function(n,t,i){return n.stopPropagation(),e(t)?t.call(nr,yu):y(t)?yu=t:o(t)||yu.push([t,i]),yu});ai.bind(t("insertItem",pi),function(i,u,e,h,l){var p,v,y,w,a;return i.stopPropagation(),w=[u,e,h,l],a=b(w,["string/object","string/number/object","boolean","number"]),(u=a[0],e=a[1],h=a[2],l=a[3],s(u)&&!c(u)?u=n(u):f(u)&&(u=n(u)),!c(u)||u.length==0)?r(pi,"Not a valid object."):(o(e)&&(e="end"),wt(u,ri),ht(u),p=e,v="before",e=="end"?h?(bi.first==0?(e=bi.total-1,v="after"):(e=bi.first,bi.first+=u.length),e<0&&(e=0)):(e=bi.total-1,v="after"):e=nt(e,l,h,bi,ai),y=ai.children().eq(e),y.length?y[v](u):(r(pi,"Correct insert-position not found! Appending item to the end."),ai.append(u)),p=="end"||h||e<bi.first&&(bi.first+=u.length),bi.total=ai.children().length,bi.first>=bi.total&&(bi.first-=bi.total),ai.trigger(t("updateSizes",pi)),ai.trigger(t("linkAnchors",pi)),!0)});ai.bind(t("removeItem",pi),function(i,r,u,f){var c,e,h,s;return i.stopPropagation(),h=[r,u,f],s=b(h,["string/number/object","boolean","number"]),(r=s[0],u=s[1],f=s[2],c=!1,r instanceof n&&r.length>1)?(e=n(),r.each(function(){var i=ai.trigger(t("removeItem",pi),[n(this),u,f]);i&&(e=e.add(i))}),e):(o(r)||r=="end"?e=ai.children().last():(r=nt(r,f,u,bi,ai),e=ai.children().eq(r),e.length&&r<bi.first&&(bi.first-=e.length)),e&&e.length&&(e.detach(),bi.total=ai.children().length,ai.trigger(t("updateSizes",pi))),e)});ai.bind(t("onBefore",pi)+" "+t("onAfter",pi),function(n,t){n.stopPropagation();var i=n.type.slice(pi.events.prefix.length);return y(t)&&(vu[i]=t),e(t)&&vu[i].push(t),vu[i]});ai.bind(t("currentPosition",pi),function(n,t){var i;return n.stopPropagation(),i=bi.first==0?0:bi.total-bi.first,e(t)&&t.call(nr,i),i});ai.bind(t("currentPage",pi),function(n,t){n.stopPropagation();var r=ri.pagination.items||ri.items.visible,u=Math.ceil(bi.total/r-1),i;return i=bi.first==0?0:bi.first<bi.total%r?0:bi.first!=r||ri.circular?Math.round((bi.total-bi.first)/r):u,i<0&&(i=0),i>u&&(i=u),e(t)&&t.call(nr,i),i});ai.bind(t("currentVisible",pi),function(n,t){n.stopPropagation();var i=tt(ai.children(),ri);return e(t)&&t.call(nr,i),i});ai.bind(t("slice",pi),function(t,r,u,f){var s,h,c,o;if(t.stopPropagation(),bi.total==0)return!1;if(c=[r,u,f],o=b(c,["number","number","function"]),r=i(o[0])?o[0]:0,u=i(o[1])?o[1]:bi.total,f=o[2],r+=bi.first,u+=bi.first,bi.total>0){while(r>bi.total)r-=bi.total;while(u>bi.total)u-=bi.total;while(r<0)r+=bi.total;while(u<0)u+=bi.total}return s=ai.children(),h=u>r?s.slice(r,u):n(s.slice(r,bi.total).get().concat(s.slice(0,u).get())),e(f)&&f.call(nr,h),h});ai.bind(t("isPaused",pi)+" "+t("isStopped",pi)+" "+t("isScrolling",pi),function(n,t){n.stopPropagation();var r=n.type.slice(pi.events.prefix.length),i=ir[r];return e(t)&&t.call(nr,i),i});ai.bind(t("configuration",pi),function(i,r,u,f){var c,l,a;if(i.stopPropagation(),c=!1,e(r))r.call(nr,ri);else if(s(r))bu=n.extend(!0,{},bu,r),u!==!1?c=!0:ri=n.extend(!0,{},ri,r);else if(!o(r))if(e(u))l=eval("opts."+r),o(l)&&(l=""),u.call(nr,l);else{if(o(u))return eval("opts."+r);typeof f!="boolean"&&(f=!0);eval("opts_orig."+r+" = b");f!==!1?c=!0:eval("opts."+r+" = b")}return c&&(h(ai.children(),ri),au._cfs_init(bu),au._cfs_bind_buttons(),a=kt(ai,ri),ai.trigger(t("updatePageStatus",pi),[!0,a])),ri});ai.bind(t("linkAnchors",pi),function(i,u,e){return(i.stopPropagation(),o(u)?u=n("body"):f(u)&&(u=n(u)),!c(u)||u.length==0)?r(pi,"Not a valid object."):(f(e)||(e="a.caroufredsel"),u.find(e).each(function(){var i=this.hash||"";i.length>0&&ai.children().index(n(i))!=-1&&n(this).unbind("click").click(function(n){n.preventDefault();ai.trigger(t("slideTo",pi),i)})}),!0)});ai.bind(t("updatePageStatus",pi),function(i,r){var f,e,u;if(i.stopPropagation(),ri.pagination.container)return f=ri.pagination.items||ri.items.visible,e=Math.ceil(bi.total/f),r&&(ri.pagination.anchorBuilder&&(ri.pagination.container.children().remove(),ri.pagination.container.each(function(){for(var i,t=0;t<e;t++)i=ai.children().eq(nt(t*f,0,!0,bi,ai)),n(this).append(ri.pagination.anchorBuilder.call(i[0],t+1))})),ri.pagination.container.each(function(){n(this).children().unbind(ri.pagination.event).each(function(i){n(this).bind(ri.pagination.event,function(n){n.preventDefault();ai.trigger(t("slideTo",pi),[i*f,-ri.pagination.deviation,!0,ri.pagination])})})})),u=ai.triggerHandler(t("currentPage",pi))+ri.pagination.deviation,u>=e&&(u=0),u<0&&(u=e-1),ri.pagination.container.each(function(){n(this).children().removeClass(l("selected",pi)).eq(u).addClass(l("selected",pi))}),!0});ai.bind(t("updateSizes",pi),function(){var i=ri.items.visible,n=ai.children(),u=ki(er,ri,"width"),f,e;return bi.total=n.length,ir.primarySizePercentage?(ri.maxDimension=u,ri[ri.d.width]=gt(u,ir.primarySizePercentage)):ri.maxDimension=di(ri,u),ri.responsive?(ri.items.width=ri.items.sizesConf.width,ri.items.height=ri.items.sizesConf.height,ri=fr(ri,n,u),i=ri.items.visible,wi(ri,n)):ri.items.visibleConf.variable?i=w(n,ri,0):ri.items.filter!="*"&&(i=st(n,ri,0)),!ri.circular&&bi.first!=0&&i>bi.first&&(f=ri.items.visibleConf.variable?pt(n,ri,bi.first)-bi.first:ri.items.filter!="*"?br(n,ri,bi.first)-bi.first:ri.items.visible-bi.first,r(pi,"Preventing non-circular: sliding "+f+" items backward."),ai.trigger(t("prev",pi),f)),ri.items.visible=a(i,ri,ri.items.visibleConf.adjust,nr),ri.items.visibleConf.old=ri.items.visible,ri=ur(ri,n),e=kt(ai,ri),ai.trigger(t("updatePageStatus",pi),[!0,e]),vt(ri,bi.total,pi),g(ri,bi.first,pi),e});ai.bind(t("destroy",pi),function(n,i){return n.stopPropagation(),ru=d(ru),ai.data("_cfs_isCarousel",!1),ai.trigger(t("finish",pi)),i&&ai.trigger(t("jumpToStart",pi)),bt(ai.children()),bt(ai),au._cfs_unbind_events(),au._cfs_unbind_buttons(),pi.wrapper=="parent"?bt(er):er.replaceWith(ai),!0});ai.bind(t("debug",pi),function(){return r(pi,"Carousel width: "+ri.width),r(pi,"Carousel height: "+ri.height),r(pi,"Item widths: "+ri.items.width),r(pi,"Item heights: "+ri.items.height),r(pi,"Number of items visible: "+ri.items.visible),ri.auto.play&&r(pi,"Number of items scrolled automatically: "+ri.auto.items),ri.prev.button&&r(pi,"Number of items scrolled backward: "+ri.prev.items),ri.next.button&&r(pi,"Number of items scrolled forward: "+ri.next.items),pi.debug});ai.bind("_cfs_triggerEvent",function(n,i,r){return n.stopPropagation(),ai.triggerHandler(t(i,pi),r)})};au._cfs_unbind_events=function(){ai.unbind(t("",pi));ai.unbind(t("",pi,!1));ai.unbind("_cfs_triggerEvent")};au._cfs_bind_buttons=function(){var i,u,c,l,f,e;if(au._cfs_unbind_buttons(),vt(ri,bi.total,pi),g(ri,bi.first,pi),ri.auto.pauseOnHover&&(i=it(ri.auto.pauseOnHover),er.bind(t("mouseenter",pi,!1),function(){ai.trigger(t("pause",pi),i)}).bind(t("mouseleave",pi,!1),function(){ai.trigger(t("resume",pi))})),ri.auto.button&&ri.auto.button.bind(t(ri.auto.event,pi,!1),function(n){n.preventDefault();var i=!1,r=null;ir.isPaused?i="play":ri.auto.pauseOnEvent&&(i="pause",r=it(ri.auto.pauseOnEvent));i&&ai.trigger(t(i,pi),r)}),ri.prev.button&&(ri.prev.button.bind(t(ri.prev.event,pi,!1),function(n){n.preventDefault();ai.trigger(t("prev",pi))}),ri.prev.pauseOnHover&&(i=it(ri.prev.pauseOnHover),ri.prev.button.bind(t("mouseenter",pi,!1),function(){ai.trigger(t("pause",pi),i)}).bind(t("mouseleave",pi,!1),function(){ai.trigger(t("resume",pi))}))),ri.next.button&&(ri.next.button.bind(t(ri.next.event,pi,!1),function(n){n.preventDefault();ai.trigger(t("next",pi))}),ri.next.pauseOnHover&&(i=it(ri.next.pauseOnHover),ri.next.button.bind(t("mouseenter",pi,!1),function(){ai.trigger(t("pause",pi),i)}).bind(t("mouseleave",pi,!1),function(){ai.trigger(t("resume",pi))}))),ri.pagination.container&&ri.pagination.pauseOnHover&&(i=it(ri.pagination.pauseOnHover),ri.pagination.container.bind(t("mouseenter",pi,!1),function(){ai.trigger(t("pause",pi),i)}).bind(t("mouseleave",pi,!1),function(){ai.trigger(t("resume",pi))})),(ri.prev.key||ri.next.key)&&n(document).bind(t("keyup",pi,!1,!0,!0),function(n){var i=n.keyCode;i==ri.next.key&&(n.preventDefault(),ai.trigger(t("next",pi)));i==ri.prev.key&&(n.preventDefault(),ai.trigger(t("prev",pi)))}),ri.pagination.keys&&n(document).bind(t("keyup",pi,!1,!0,!0),function(n){var i=n.keyCode;i>=49&&i<58&&(i=(i-49)*ri.items.visible,i<=bi.total&&(n.preventDefault(),ai.trigger(t("slideTo",pi),[i,0,!0,ri.pagination])))}),n.fn.swipe&&(u="ontouchstart"in window,u&&ri.swipe.onTouch||!u&&ri.swipe.onMouse)){var y=n.extend(!0,{},ri.prev,ri.swipe),p=n.extend(!0,{},ri.next,ri.swipe),a=function(){ai.trigger(t("prev",pi),[y])},v=function(){ai.trigger(t("next",pi),[p])};switch(ri.direction){case"up":case"down":ri.swipe.options.swipeUp=v;ri.swipe.options.swipeDown=a;break;default:ri.swipe.options.swipeLeft=v;ri.swipe.options.swipeRight=a}ir.swipe&&ai.swipe("destroy");er.swipe(ri.swipe.options);er.css("cursor","move");ir.swipe=!0}if(n.fn.mousewheel&&ri.mousewheel&&(c=n.extend(!0,{},ri.prev,ri.mousewheel),l=n.extend(!0,{},ri.next,ri.mousewheel),ir.mousewheel&&er.unbind(t("mousewheel",pi,!1)),er.bind(t("mousewheel",pi,!1),function(n,i){n.preventDefault();i>0?ai.trigger(t("prev",pi),[c]):ai.trigger(t("next",pi),[l])}),ir.mousewheel=!0),ri.auto.play&&ai.trigger(t("play",pi),ri.auto.delay),ir.upDateOnWindowResize){var o=function(){ai.trigger(t("finish",pi));ri.auto.pauseOnResize&&!ir.isPaused&&ai.trigger(t("play",pi));h(ai.children(),ri);ai.trigger(t("updateSizes",pi))},s=n(window),r=null;n.debounce&&pi.onWindowResize=="debounce"?r=n.debounce(200,o):n.throttle&&pi.onWindowResize=="throttle"?r=n.throttle(300,o):(f=0,e=0,r=function(){var n=s.width(),t=s.height();(n!=f||t!=e)&&(o(),f=n,e=t)});s.bind(t("resize",pi,!1,!0,!0),r)}};au._cfs_unbind_buttons=function(){var r=t("",pi),i=t("",pi,!1);ns3=t("",pi,!1,!0,!0);n(document).unbind(ns3);n(window).unbind(ns3);er.unbind(i);ri.auto.button&&ri.auto.button.unbind(i);ri.prev.button&&ri.prev.button.unbind(i);ri.next.button&&ri.next.button.unbind(i);ri.pagination.container&&(ri.pagination.container.unbind(i),ri.pagination.anchorBuilder&&ri.pagination.container.children().remove());ir.swipe&&(ai.swipe("destroy"),er.css("cursor","default"),ir.swipe=!1);ir.mousewheel&&(ir.mousewheel=!1);vt(ri,"hide",pi);g(ri,"removeClass",pi)};u(yt)&&(yt={debug:yt});var ir={direction:"next",isPaused:!0,isScrolling:!1,isStopped:!1,mousewheel:!1,swipe:!1},bi={total:ai.children().length,first:0},ru={auto:null,progress:null,startTime:p(),timePassed:0},gi={isStopped:!1,duration:0,startTime:0,easing:"",anims:[]},vu={onBefore:[],onAfter:[]},yu=[],pi=n.extend(!0,{},n.fn.carouFredSel.configs,yt),ri={},bu=n.extend(!0,{},ct),er=pi.wrapper=="parent"?ai.parent():ai.wrap("<"+pi.wrapper.element+' class="'+pi.wrapper.classname+'" />').parent();if(pi.selector=ai.selector,pi.serialNumber=n.fn.carouFredSel.serialNumber++,pi.transition=pi.transition&&n.fn.transition?"transition":"animate",au._cfs_init(bu,!0,tf),au._cfs_build(),au._cfs_bind_events(),au._cfs_bind_buttons(),y(ri.items.start)?wu=ri.items.start:(wu=[],ri.items.start!=0&&wu.push(ri.items.start)),ri.cookie&&wu.unshift(parseInt(eu(ri.cookie),10)),wu.length>0)for(ku=0,gu=wu.length;ku<gu;ku++)if(pu=wu[ku],pu!=0){if(pu===!0){if(pu=window.location.hash,pu.length<1)continue}else pu==="random"&&(pu=Math.floor(Math.random()*bi.total));if(ai.triggerHandler(t("slideTo",pi),[pu,0,!0,{fx:"none"}]))break}return du=kt(ai,ri),nf=tt(ai.children(),ri),ri.onCreate&&ri.onCreate.call(nr,{width:du.width,height:du.height,items:nf}),ai.trigger(t("updatePageStatus",pi),[!0,du]),ai.trigger(t("linkAnchors",pi)),pi.debug&&ai.trigger(t("debug",pi)),ai},n.fn.carouFredSel.serialNumber=1,n.fn.carouFredSel.defaults={synchronise:!1,infinite:!0,circular:!0,responsive:!1,direction:"left",items:{start:0},scroll:{easing:"swing",duration:500,pauseOnHover:!1,event:"click",queue:!1}},n.fn.carouFredSel.configs={debug:!1,transition:!1,onWindowResize:"throttle",events:{prefix:"",namespace:"cfs"},wrapper:{element:"div",classname:"caroufredsel_wrapper"},classnames:{}},n.fn.carouFredSel.pageAnchorBuilder=function(n){return'<a href="#"><span>'+n+"<\/span><\/a>"},n.fn.carouFredSel.progressbarUpdater=function(t){n(this).css("width",t+"%")},n.fn.carouFredSel.cookie={get:function(n){var r,i,u,t;for(n+="=",r=document.cookie.split(";"),i=0,u=r.length;i<u;i++){for(t=r[i];t.charAt(0)==" ";)t=t.slice(1);if(t.indexOf(n)==0)return t.slice(n.length)}return 0},set:function(n,t,i){var u="",r;i&&(r=new Date,r.setTime(r.getTime()+i*864e5),u="; expires="+r.toGMTString());document.cookie=n+"="+t+u+"; path=/"},remove:function(t){n.fn.carouFredSel.cookie.set(t,"",-1)}},n.extend(n.easing,{quadratic:function(n){var t=n*n;return n*(-t*n+4*t-6*n+4)},cubic:function(n){return n*(4*n*n-9*n+6)},elastic:function(n){var t=n*n;return n*(33*t*t-106*t*n+126*t-67*n+15)}}))})(jQuery);
;
var jwplayer,$jw,_userPlayerReady;typeof jwplayer=="undefined"&&(jwplayer=function(n){if(jwplayer.api)return jwplayer.api.selectPlayer(n)},$jw=jwplayer,jwplayer.version="5.10.2295 (Licensed version)",jwplayer.vid=document.createElement("video"),jwplayer.audio=document.createElement("audio"),jwplayer.source=document.createElement("source"),function(n){function t(t){if(n.utils.exists(t)){var i=t.indexOf("://"),r=t.indexOf("?");return i>0&&(r<0||r>i)}}n.utils=function(){};n.utils.typeOf=function(n){var t=typeof n;return t==="object"&&(n?n instanceof Array&&(t="array"):t="null"),t};n.utils.extend=function(){var t=n.utils.extend.arguments,i,r;if(t.length>1){for(i=1;i<t.length;i++)for(r in t[i])t[0][r]=t[i][r];return t[0]}return null};n.utils.clone=function(){var r,t=n.utils.clone.arguments,i;if(t.length==1)switch(n.utils.typeOf(t[0])){case"object":r={};for(i in t[0])r[i]=n.utils.clone(t[0][i]);break;case"array":r=[];for(i in t[0])r[i]=n.utils.clone(t[0][i]);break;default:return t[0]}return r};n.utils.extension=function(n){return n?(n=n.substring(n.lastIndexOf("/")+1,n.length),n=n.split("?")[0],n.lastIndexOf(".")>-1)?n.substr(n.lastIndexOf(".")+1,n.length).toLowerCase():void 0:""};n.utils.html=function(n,t){n.innerHTML=t};n.utils.wrap=function(n,t){n.parentNode&&n.parentNode.replaceChild(t,n);t.appendChild(n)};n.utils.ajax=function(t,i,r){var u;u=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");u.onreadystatechange=function(){if(u.readyState===4)if(u.status===200){if(i){if(!n.utils.exists(u.responseXML))try{if(window.DOMParser){var f=(new DOMParser).parseFromString(u.responseText,"text/xml");f&&(u=n.utils.extend({},u,{responseXML:f}))}else f=new ActiveXObject("Microsoft.XMLDOM"),f.async="false",f.loadXML(u.responseText),u=n.utils.extend({},u,{responseXML:f})}catch(e){r&&r(t)}i(u)}}else r&&r(t)};try{u.open("GET",t,!0);u.send(null)}catch(f){r&&r(t)}return u};n.utils.load=function(n,t,i){n.onreadystatechange=function(){n.readyState===4&&(n.status===200?t&&t():i&&i())}};n.utils.find=function(n,t){return n.getElementsByTagName(t)};n.utils.append=function(n,t){n.appendChild(t)};n.utils.isIE=function(){return!+"\v1"||typeof ActiveXObject!="undefined"};n.utils.userAgentMatch=function(n){var t=navigator.userAgent.toLowerCase();return t.match(n)!==null};n.utils.isIOS=function(){return n.utils.userAgentMatch(/iP(hone|ad|od)/i)};n.utils.isIPad=function(){return n.utils.userAgentMatch(/iPad/i)};n.utils.isIPod=function(){return n.utils.userAgentMatch(/iP(hone|od)/i)};n.utils.isAndroid=function(){return n.utils.userAgentMatch(/android/i)};n.utils.isLegacyAndroid=function(){return n.utils.userAgentMatch(/android 2.[012]/i)};n.utils.isBlackberry=function(){return n.utils.userAgentMatch(/blackberry/i)};n.utils.isMobile=function(){return n.utils.userAgentMatch(/(iP(hone|ad|od))|android/i)};n.utils.getFirstPlaylistItemFromConfig=function(n){var t={},i;return i=n.playlist&&n.playlist.length?n.playlist[0]:n,t.file=i.file,t.levels=i.levels,t.streamer=i.streamer,t.playlistfile=i.playlistfile,t.provider=i.provider,t.provider||(t.file&&(t.file.toLowerCase().indexOf("youtube.com")>-1||t.file.toLowerCase().indexOf("youtu.be")>-1)&&(t.provider="youtube"),t.streamer&&t.streamer.toLowerCase().indexOf("rtmp://")==0&&(t.provider="rtmp"),i.type&&(t.provider=i.type.toLowerCase())),t.provider=="audio"&&(t.provider="sound"),t};n.utils.getOuterHTML=function(n){if(n.outerHTML)return n.outerHTML;try{return(new XMLSerializer).serializeToString(n)}catch(t){return""}};n.utils.setOuterHTML=function(n,t){var i,r,u;n.outerHTML?n.outerHTML=t:(i=document.createElement("div"),i.innerHTML=t,r=document.createRange(),r.selectNodeContents(i),u=r.extractContents(),n.parentNode.insertBefore(u,n),n.parentNode.removeChild(n))};n.utils.hasFlash=function(){if(typeof navigator.plugins!="undefined"&&typeof navigator.plugins["Shockwave Flash"]!="undefined")return!0;if(typeof ActiveXObject!="undefined")try{return new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),!0}catch(n){}return!1};n.utils.getPluginName=function(n){return n.lastIndexOf("/")>=0&&(n=n.substring(n.lastIndexOf("/")+1,n.length)),n.lastIndexOf("-")>=0&&(n=n.substring(0,n.lastIndexOf("-"))),n.lastIndexOf(".swf")>=0&&(n=n.substring(0,n.lastIndexOf(".swf"))),n.lastIndexOf(".js")>=0&&(n=n.substring(0,n.lastIndexOf(".js"))),n};n.utils.getPluginVersion=function(n){return n.lastIndexOf("-")>=0?n.lastIndexOf(".js")>=0?n.substring(n.lastIndexOf("-")+1,n.lastIndexOf(".js")):n.lastIndexOf(".swf")>=0?n.substring(n.lastIndexOf("-")+1,n.lastIndexOf(".swf")):n.substring(n.lastIndexOf("-")+1):""};n.utils.getAbsolutePath=function(i,r){var e,h,u,o,s,f;if(n.utils.exists(r)||(r=document.location.href),!n.utils.exists(i))return undefined;if(t(i))return i;for(e=r.substring(0,r.indexOf("://")+3),h=r.substring(e.length,r.indexOf("/",e.length+1)),i.indexOf("/")===0?u=i.split("/"):(o=r.split("?")[0],o=o.substring(e.length+h.length+1,o.lastIndexOf("/")),u=o.split("/").concat(i.split("/"))),s=[],f=0;f<u.length;f++)if(u[f]&&n.utils.exists(u[f])&&u[f]!=".")u[f]==".."?s.pop():s.push(u[f]);else continue;return e+h+"/"+s.join("/")};n.utils.pluginPathType={ABSOLUTE:"ABSOLUTE",RELATIVE:"RELATIVE",CDN:"CDN"};n.utils.getPluginPathType=function(t){var i,u,r;if(typeof t=="string")return(t=t.split("?")[0],i=t.indexOf("://"),i>0)?n.utils.pluginPathType.ABSOLUTE:(u=t.indexOf("/"),r=n.utils.extension(t),i<0&&u<0&&(!r||!isNaN(r)))?n.utils.pluginPathType.CDN:n.utils.pluginPathType.RELATIVE};n.utils.mapEmpty=function(n){for(var t in n)return!1;return!0};n.utils.mapLength=function(n){var t=0;for(var i in n)t++;return t};n.utils.log=function(n,t){typeof console!="undefined"&&typeof console.log!="undefined"&&(t?console.log(n,t):console.log(n))};n.utils.css=function(t,i){if(n.utils.exists(t))for(var r in i)try{if(typeof i[r]=="undefined")continue;else if(typeof i[r]=="number"&&!(r=="zIndex"||r=="opacity")){if(isNaN(i[r]))continue;i[r]=r.match(/color/i)?"#"+n.utils.strings.pad(i[r].toString(16),6):Math.ceil(i[r])+"px"}t.style[r]=i[r]}catch(u){}};n.utils.isYouTube=function(n){return n.indexOf("youtube.com")>-1||n.indexOf("youtu.be")>-1};n.utils.transform=function(t,i,r,u,f){if(n.utils.exists(i)||(i=1),n.utils.exists(r)||(r=1),n.utils.exists(u)||(u=0),n.utils.exists(f)||(f=0),i==1&&r==1&&u==0&&f==0)t.style.webkitTransform="",t.style.MozTransform="",t.style.OTransform="";else{var e="scale("+i+","+r+") translate("+u+"px,"+f+"px)";t.style.webkitTransform=e;t.style.MozTransform=e;t.style.OTransform=e}};n.utils.stretch=function(t,i,r,u,f,e){var l,a;if(typeof r!="undefined"&&typeof u!="undefined"&&typeof f!="undefined"&&typeof e!="undefined"){var s=r/f,h=u/e,c=!1,o={};i.parentElement&&(i.parentElement.style.overflow="hidden");n.utils.transform(i);switch(t.toUpperCase()){case n.utils.stretching.NONE:o.width=f;o.height=e;o.top=(u-o.height)/2;o.left=(r-o.width)/2;break;case n.utils.stretching.UNIFORM:s>h?(o.width=f*h,o.height=e*h,o.width/r>.95&&(c=!0,s=Math.ceil(100*r/o.width)/100,h=1,o.width=r)):(o.width=f*s,o.height=e*s,o.height/u>.95&&(c=!0,s=1,h=Math.ceil(100*u/o.height)/100,o.height=u));o.top=(u-o.height)/2;o.left=(r-o.width)/2;break;case n.utils.stretching.FILL:s>h?(o.width=f*s,o.height=e*s):(o.width=f*h,o.height=e*h);o.top=(u-o.height)/2;o.left=(r-o.width)/2;break;case n.utils.stretching.EXACTFIT:o.width=f;o.height=e;l=Math.round(f/2*(1-1/s));a=Math.round(e/2*(1-1/h));c=!0;o.top=o.left=0}c&&n.utils.transform(i,s,h,l,a);n.utils.css(i,o)}};n.utils.stretching={NONE:"NONE",FILL:"FILL",UNIFORM:"UNIFORM",EXACTFIT:"EXACTFIT"};n.utils.deepReplaceKeyName=function(t,i,r){var f,o,s,e,u;switch(n.utils.typeOf(t)){case"array":for(u=0;u<t.length;u++)t[u]=n.utils.deepReplaceKeyName(t[u],i,r);break;case"object":for(f in t){if(i instanceof Array&&r instanceof Array)if(i.length!=r.length)continue;else o=i,s=r;else o=[i],s=[r];for(e=f,u=0;u<o.length;u++)e=e.replace(new RegExp(i[u],"g"),r[u]);t[e]=n.utils.deepReplaceKeyName(t[f],i,r);f!=e&&delete t[f]}}return t};n.utils.isInArray=function(n,t){if(!n||!(n instanceof Array))return!1;for(var i=0;i<n.length;i++)if(t===n[i])return!0;return!1};n.utils.exists=function(n){switch(typeof n){case"string":return n.length>0;case"object":return n!==null;case"undefined":return!1}return!0};n.utils.empty=function(n){if(typeof n.hasChildNodes=="function")while(n.hasChildNodes())n.removeChild(n.firstChild)};n.utils.parseDimension=function(n){return typeof n=="string"?n===""?0:n.lastIndexOf("%")>-1?n:parseInt(n.replace("px",""),10):n};n.utils.getDimensions=function(t){return t&&t.style?{x:n.utils.parseDimension(t.style.left),y:n.utils.parseDimension(t.style.top),width:n.utils.parseDimension(t.style.width),height:n.utils.parseDimension(t.style.height)}:{}};n.utils.getElementWidth=function(t){return t?t==document.body?n.utils.parentNode(t).clientWidth:t.clientWidth>0?t.clientWidth:t.style?n.utils.parseDimension(t.style.width):null:null};n.utils.getElementHeight=function(t){return t?t==document.body?n.utils.parentNode(t).clientHeight:t.clientHeight>0?t.clientHeight:t.style?n.utils.parseDimension(t.style.height):null:null};n.utils.timeFormat=function(n){return str="00:00",n>0&&(str=(Math.floor(n/60)<10?"0"+Math.floor(n/60)+":":Math.floor(n/60)+":")+(Math.floor(n%60)<10?"0"+Math.floor(n%60):Math.floor(n%60))),str};n.utils.useNativeFullscreen=function(){return navigator&&navigator.vendor&&navigator.vendor.indexOf("Apple")==0};n.utils.parentNode=function(n){return n?n.parentNode?n.parentNode:n.parentElement?n.parentElement:n:document.body};n.utils.getBoundingClientRect=function(n){return typeof n.getBoundingClientRect=="function"?n.getBoundingClientRect():{left:n.offsetLeft+document.body.scrollLeft,top:n.offsetTop+document.body.scrollTop,width:n.offsetWidth,height:n.offsetHeight}};n.utils.translateEventResponse=function(t,i){var r=n.utils.extend({},i),u,f;t!=n.api.events.JWPLAYER_FULLSCREEN||r.fullscreen?typeof r.data=="object"?(r=n.utils.extend(r,r.data),delete r.data):typeof r.metadata=="object"&&n.utils.deepReplaceKeyName(r.metadata,["__dot__","__spc__","__dsh__"],["."," ","-"]):(r.fullscreen=r.message=="true"?!0:!1,delete r.message);u=["position","duration","offset"];for(f in u)r[u[f]]&&(r[u[f]]=Math.round(r[u[f]]*1e3)/1e3);return r};n.utils.saveCookie=function(n,t){document.cookie="jwplayer."+n+"="+t+"; path=/"};n.utils.getCookies=function(){for(var n,i={},r=document.cookie.split("; "),t=0;t<r.length;t++)n=r[t].split("="),n[0].indexOf("jwplayer.")==0&&(i[n[0].substring(9,n[0].length)]=n[1]);return i};n.utils.readCookie=function(t){return n.utils.getCookies()[t]}}(jwplayer),function(n){n.events=function(){};n.events.COMPLETE="COMPLETE";n.events.ERROR="ERROR"}(jwplayer),function(n){n.events.eventdispatcher=function(t){var u=t,i,r;this.resetEventListeners=function(){i={};r=[]};this.resetEventListeners();this.addEventListener=function(t,r,u){try{n.utils.exists(i[t])||(i[t]=[]);typeof r=="string"&&eval("listener = "+r);i[t].push({listener:r,count:u})}catch(f){n.utils.log("error",f)}return!1};this.removeEventListener=function(t,r){if(i[t]){try{for(var u=0;u<i[t].length;u++)if(i[t][u].listener.toString()==r.toString()){i[t].splice(u,1);break}}catch(f){n.utils.log("error",f)}return!1}};this.addGlobalListener=function(t,i){try{typeof t=="string"&&eval("listener = "+t);r.push({listener:t,count:i})}catch(u){n.utils.log("error",u)}return!1};this.removeGlobalListener=function(t){if(t){try{for(var i=0;i<r.length;i++)if(r[i].listener.toString()==t.toString()){r.splice(i,1);break}}catch(u){n.utils.log("error",u)}return!1}};this.sendEvent=function(t,f){var e,o;if(n.utils.exists(f)||(f={}),u&&n.utils.log(t,f),typeof i[t]!="undefined")for(e=0;e<i[t].length;e++){try{i[t][e].listener(f)}catch(s){n.utils.log("There was an error while handling a listener: "+s.toString(),i[t][e].listener)}i[t][e]&&(i[t][e].count===1?delete i[t][e]:i[t][e].count>0&&(i[t][e].count=i[t][e].count-1))}for(o=0;o<r.length;o++){try{r[o].listener(f)}catch(s){n.utils.log("There was an error while handling a listener: "+s.toString(),r[o].listener)}r[o]&&(r[o].count===1?delete r[o]:r[o].count>0&&(r[o].count=r[o].count-1))}}}}(jwplayer),function(n){var t={};n.utils.animations=function(){};n.utils.animations.transform=function(n,t){n.style.webkitTransform=t;n.style.MozTransform=t;n.style.OTransform=t;n.style.msTransform=t};n.utils.animations.transformOrigin=function(n,t){n.style.webkitTransformOrigin=t;n.style.MozTransformOrigin=t;n.style.OTransformOrigin=t;n.style.msTransformOrigin=t};n.utils.animations.rotate=function(t,i){n.utils.animations.transform(t,["rotate(",i,"deg)"].join(""))};n.utils.cancelAnimation=function(n){delete t[n.id]};n.utils.fadeTo=function(i,r,u,f,e,o){var h,c,l,s;if((t[i.id]==o||!n.utils.exists(o))&&i.style.opacity!=r){if(h=(new Date).getTime(),o>h&&setTimeout(function(){n.utils.fadeTo(i,r,u,f,0,o)},o-h),i.style.display=="none"&&(i.style.display="block"),n.utils.exists(f)||(f=i.style.opacity===""?1:i.style.opacity),i.style.opacity==r&&i.style.opacity!==""&&n.utils.exists(o)){r===0&&(i.style.display="none");return}if(n.utils.exists(o)||(o=h,t[i.id]=o),n.utils.exists(e)||(e=0),c=u>0?(h-o)/(u*1e3):0,c=c>1?1:c,l=r-f,s=f+c*l,s>1?s=1:s<0&&(s=0),i.style.opacity=s,e>0){t[i.id]=o+e*1e3;n.utils.fadeTo(i,r,u,f,0,t[i.id]);return}setTimeout(function(){n.utils.fadeTo(i,r,u,f,0,o)},10)}}}(jwplayer),function(n){n.utils.arrays=function(){};n.utils.arrays.indexOf=function(n,t){for(var i=0;i<n.length;i++)if(n[i]==t)return i;return-1};n.utils.arrays.remove=function(t,i){var r=n.utils.arrays.indexOf(t,i);r>-1&&t.splice(r,1)}}(jwplayer),function(n){n.utils.extensionmap={"3gp":{html5:"video/3gpp",flash:"video"},"3gpp":{html5:"video/3gpp"},"3g2":{html5:"video/3gpp2",flash:"video"},"3gpp2":{html5:"video/3gpp2"},flv:{flash:"video"},f4a:{html5:"audio/mp4"},f4b:{html5:"audio/mp4",flash:"video"},f4v:{html5:"video/mp4",flash:"video"},mov:{html5:"video/quicktime",flash:"video"},m4a:{html5:"audio/mp4",flash:"video"},m4b:{html5:"audio/mp4"},m4p:{html5:"audio/mp4"},m4v:{html5:"video/mp4",flash:"video"},mp4:{html5:"video/mp4",flash:"video"},rbs:{flash:"sound"},aac:{html5:"audio/aac",flash:"video"},mp3:{html5:"audio/mp3",flash:"sound"},ogg:{html5:"audio/ogg"},oga:{html5:"audio/ogg"},ogv:{html5:"video/ogg"},webm:{html5:"video/webm"},m3u8:{html5:"audio/x-mpegurl"},gif:{flash:"image"},jpeg:{flash:"image"},jpg:{flash:"image"},swf:{flash:"image"},png:{flash:"image"},wav:{html5:"audio/x-wav"}}}(jwplayer),function(n){function i(t,i){return n.utils.exists(i)?n.utils.extend(i,f[t]):i=f[t],i}function r(r,u){var e,o,s,f;if(t[r.tagName.toLowerCase()]&&!n.utils.exists(u))return t[r.tagName.toLowerCase()](r);u=i("element",u);e={};for(o in u)o!="length"&&(s=r.getAttribute(o),n.utils.exists(s)&&(e[u[o]]=s));return f=r.style["#background-color"],!f||f=="transparent"||f=="rgba(0, 0, 0, 0)"||(e.screencolor=f),e}function u(t,u){var o,s,h,f;u=i("media",u);o=[];s=n.utils.selectors("source",t);for(h in s)isNaN(h)||o.push(e(s[h]));return f=r(t,u),n.utils.exists(f.file)&&(o[0]={file:f.file}),f.levels=o,f}function e(n,t){t=i("source",t);var u=r(n,t);return u.width=u.width?u.width:0,u.bitrate=u.bitrate?u.bitrate:0,u}function o(n,t){t=i("video",t);return u(n,t)}n.utils.mediaparser=function(){};var f={element:{width:"width",height:"height",id:"id","class":"className",name:"name"},media:{src:"file",preload:"preload",autoplay:"autostart",loop:"repeat",controls:"controls"},source:{src:"file",type:"type",media:"media","data-jw-width":"width","data-jw-bitrate":"bitrate"},video:{poster:"image"}},t={};n.utils.mediaparser.parseMedia=function(n){return r(n)};t.media=u;t.audio=u;t.source=e;t.video=o}(jwplayer),function(n){n.utils.loaderstatus={NEW:"NEW",LOADING:"LOADING",ERROR:"ERROR",COMPLETE:"COMPLETE"};n.utils.scriptloader=function(t){var i=n.utils.loaderstatus.NEW,r=new n.events.eventdispatcher;n.utils.extend(this,r);this.load=function(){if(i==n.utils.loaderstatus.NEW){i=n.utils.loaderstatus.LOADING;var u=document.createElement("script");u.onload=function(){i=n.utils.loaderstatus.COMPLETE;r.sendEvent(n.events.COMPLETE)};u.onerror=function(){i=n.utils.loaderstatus.ERROR;r.sendEvent(n.events.ERROR)};u.onreadystatechange=function(){(u.readyState=="loaded"||u.readyState=="complete")&&(i=n.utils.loaderstatus.COMPLETE,r.sendEvent(n.events.COMPLETE))};document.getElementsByTagName("head")[0].appendChild(u);u.src=t}};this.getStatus=function(){return i}}}(jwplayer),function(n){n.utils.selectors=function(t,i){var r,u;return n.utils.exists(i)||(i=document),t=n.utils.strings.trim(t),r=t.charAt(0),r=="#"?i.getElementById(t.substr(1)):r=="."?i.getElementsByClassName?i.getElementsByClassName(t.substr(1)):n.utils.selectors.getElementsByTagAndClass("*",t.substr(1)):t.indexOf(".")>0?(u=t.split("."),n.utils.selectors.getElementsByTagAndClass(u[0],u[1])):i.getElementsByTagName(t)};n.utils.selectors.getElementsByTagAndClass=function(t,i,r){var s=[],f,u,o,e;for(n.utils.exists(r)||(r=document),f=r.getElementsByTagName(t),u=0;u<f.length;u++)if(n.utils.exists(f[u].className))for(o=f[u].className.split(" "),e=0;e<o.length;e++)o[e]==i&&s.push(f[u]);return s}}(jwplayer),function(n){n.utils.strings=function(){};n.utils.strings.trim=function(n){return n.replace(/^\s*/,"").replace(/\s*$/,"")};n.utils.strings.pad=function(n,t,i){for(i||(i="0");n.length<t;)n=i+n;return n};n.utils.strings.serialize=function(n){return n==null?null:n=="true"?!0:n=="false"?!1:isNaN(Number(n))||n.length>5||n.length==0?n:Number(n)};n.utils.strings.seconds=function(n){n=n.replace(",",".");var t=n.split(":"),i=0;return n.substr(-1)=="s"?i=Number(n.substr(0,n.length-1)):n.substr(-1)=="m"?i=Number(n.substr(0,n.length-1))*60:n.substr(-1)=="h"?i=Number(n.substr(0,n.length-1))*3600:t.length>1?(i=Number(t[t.length-1]),i+=Number(t[t.length-2])*60,t.length==3&&(i+=Number(t[t.length-3])*3600)):i=Number(n),i};n.utils.strings.xmlAttribute=function(n,t){for(var i=0;i<n.attributes.length;i++)if(n.attributes[i].name&&n.attributes[i].name.toLowerCase()==t.toLowerCase())return n.attributes[i].value.toString();return""};n.utils.strings.jsonToString=function(t){var u=u||{},f,r,e,o,i;if(u&&u.stringify)return u.stringify(t);if(f=typeof t,f!="object"||t===null)if(f=="string")t='"'+t.replace(/"/g,'\\"')+'"';else return String(t);else{r=[];e=t&&t.constructor==Array;for(o in t){i=t[o];switch(typeof i){case"string":i='"'+i.replace(/"/g,'\\"')+'"';break;case"object":n.utils.exists(i)&&(i=n.utils.strings.jsonToString(i))}e?typeof i!="function"&&r.push(String(i)):typeof i!="function"&&r.push('"'+o+'":'+String(i))}return e?"["+String(r)+"]":"{"+String(r)+"}"}}}(jwplayer),function(n){function i(n){if(["true","false","t","f"].toString().indexOf(n.toLowerCase().replace(" ",""))>=0)return"boolean";if(t.test(n))return"color";if(isNaN(parseInt(n,10))||parseInt(n,10).toString().length!=n.length){if(!isNaN(parseFloat(n))&&parseFloat(n).toString().length==n.length)return"float"}else return"integer";return"string"}function r(t,i){if(!n.utils.exists(i))return t;switch(i){case"color":return t.length>0?u(t):null;case"integer":return parseInt(t,10);case"float":return parseFloat(t);case"boolean":return t.toLowerCase()=="true"?!0:t=="1"?!0:!1}return t}function u(n){switch(n.toLowerCase()){case"blue":return parseInt("0000FF",16);case"green":return parseInt("00FF00",16);case"red":return parseInt("FF0000",16);case"cyan":return parseInt("00FFFF",16);case"magenta":return parseInt("FF00FF",16);case"yellow":return parseInt("FFFF00",16);case"black":return parseInt("000000",16);case"white":return parseInt("FFFFFF",16);default:return n=n.replace(/(#|0x)?([0-9A-F]{3,6})$/gi,"$2"),n.length==3&&(n=n.charAt(0)+n.charAt(0)+n.charAt(1)+n.charAt(1)+n.charAt(2)+n.charAt(2)),parseInt(n,16)}return parseInt("000000",16)}var t=new RegExp(/^(#|0x)[0-9a-fA-F]{3,6}/);n.utils.typechecker=function(t,u){return u=n.utils.exists(u)?u:i(t),r(t,u)}}(jwplayer),function(n){n.utils.parsers=function(){};n.utils.parsers.localName=function(n){return n?n.localName?n.localName:n.baseName?n.baseName:"":""};n.utils.parsers.textContent=function(n){return n?n.textContent?n.textContent:n.text?n.text:"":""}}(jwplayer),function(n){n.utils.parsers.jwparser=function(){};n.utils.parsers.jwparser.PREFIX="jwplayer";n.utils.parsers.jwparser.parseEntry=function(t,i){for(var r=0;r<t.childNodes.length;r++)t.childNodes[r].prefix==n.utils.parsers.jwparser.PREFIX&&(i[n.utils.parsers.localName(t.childNodes[r])]=n.utils.strings.serialize(n.utils.parsers.textContent(t.childNodes[r])),n.utils.parsers.localName(t.childNodes[r])=="file"&&i.levels&&delete i.levels),!i.file&&String(i.link).toLowerCase().indexOf("youtube")>-1&&(i.file=i.link);return i};n.utils.parsers.jwparser.getProvider=function(t){if(t.type)return t.type;if(t.file.indexOf("youtube.com/w")>-1||t.file.indexOf("youtube.com/v")>-1||t.file.indexOf("youtu.be/")>-1)return"youtube";if(t.streamer&&t.streamer.indexOf("rtmp")==0)return"rtmp";if(t.streamer&&t.streamer.indexOf("http")==0)return"http";var i=n.utils.strings.extension(t.file);return extensions.hasOwnProperty(i)?extensions[i]:""}}(jwplayer),function(n){n.utils.parsers.mediaparser=function(){};n.utils.parsers.mediaparser.PREFIX="media";n.utils.parsers.mediaparser.parseGroup=function(t,i){for(var u,f=!1,r=0;r<t.childNodes.length;r++)if(t.childNodes[r].prefix==n.utils.parsers.mediaparser.PREFIX){if(!n.utils.parsers.localName(t.childNodes[r]))continue;switch(n.utils.parsers.localName(t.childNodes[r]).toLowerCase()){case"content":f||(i.file=n.utils.strings.xmlAttribute(t.childNodes[r],"url"));n.utils.strings.xmlAttribute(t.childNodes[r],"duration")&&(i.duration=n.utils.strings.seconds(n.utils.strings.xmlAttribute(t.childNodes[r],"duration")));n.utils.strings.xmlAttribute(t.childNodes[r],"start")&&(i.start=n.utils.strings.seconds(n.utils.strings.xmlAttribute(t.childNodes[r],"start")));t.childNodes[r].childNodes&&t.childNodes[r].childNodes.length>0&&(i=n.utils.parsers.mediaparser.parseGroup(t.childNodes[r],i));(n.utils.strings.xmlAttribute(t.childNodes[r],"width")||n.utils.strings.xmlAttribute(t.childNodes[r],"bitrate")||n.utils.strings.xmlAttribute(t.childNodes[r],"url"))&&(i.levels||(i.levels=[]),i.levels.push({width:n.utils.strings.xmlAttribute(t.childNodes[r],"width"),bitrate:n.utils.strings.xmlAttribute(t.childNodes[r],"bitrate"),file:n.utils.strings.xmlAttribute(t.childNodes[r],"url")}));break;case"title":i.title=n.utils.parsers.textContent(t.childNodes[r]);break;case"description":i.description=n.utils.parsers.textContent(t.childNodes[r]);break;case"keywords":i.tags=n.utils.parsers.textContent(t.childNodes[r]);break;case"thumbnail":i.image=n.utils.strings.xmlAttribute(t.childNodes[r],"url");break;case"credit":i.author=n.utils.parsers.textContent(t.childNodes[r]);break;case"player":u=t.childNodes[r].url;(u.indexOf("youtube.com")>=0||u.indexOf("youtu.be")>=0)&&(f=!0,i.file=n.utils.strings.xmlAttribute(t.childNodes[r],"url"));break;case"group":n.utils.parsers.mediaparser.parseGroup(t.childNodes[r],i)}}return i}}(jwplayer),function(n){function t(t){for(var i={},r=0;r<t.childNodes.length;r++)if(n.utils.parsers.localName(t.childNodes[r]))switch(n.utils.parsers.localName(t.childNodes[r]).toLowerCase()){case"enclosure":i.file=n.utils.strings.xmlAttribute(t.childNodes[r],"url");break;case"title":i.title=n.utils.parsers.textContent(t.childNodes[r]);break;case"pubdate":i.date=n.utils.parsers.textContent(t.childNodes[r]);break;case"description":i.description=n.utils.parsers.textContent(t.childNodes[r]);break;case"link":i.link=n.utils.parsers.textContent(t.childNodes[r]);break;case"category":i.tags?i.tags+=n.utils.parsers.textContent(t.childNodes[r]):i.tags=n.utils.parsers.textContent(t.childNodes[r])}return i=n.utils.parsers.mediaparser.parseGroup(t,i),i=n.utils.parsers.jwparser.parseEntry(t,i),new n.html5.playlistitem(i)}n.utils.parsers.rssparser=function(){};n.utils.parsers.rssparser.parse=function(i){for(var u,f=[],r=0;r<i.childNodes.length;r++)if(n.utils.parsers.localName(i.childNodes[r]).toLowerCase()=="channel")for(u=0;u<i.childNodes[r].childNodes.length;u++)n.utils.parsers.localName(i.childNodes[r].childNodes[u]).toLowerCase()=="item"&&f.push(t(i.childNodes[r].childNodes[u]));return f}}(jwplayer),function(n){var i={},t={};n.plugins=function(){};n.plugins.loadPlugins=function(r,u){return t[r]=new n.plugins.pluginloader(new n.plugins.model(i),u),t[r]};n.plugins.registerPlugin=function(r,u,f){var e=n.utils.getPluginName(r),o;if(i[e])i[e].registerPlugin(r,u,f);else{n.utils.log("A plugin ("+r+") was registered with the player that was not loaded. Please check your configuration.");for(o in t)t[o].pluginFailed()}}}(jwplayer),function(n){n.plugins.model=function(t){this.addPlugin=function(i){var r=n.utils.getPluginName(i);return t[r]||(t[r]=new n.plugins.plugin(i)),t[r]}}}(jwplayer),function(n){n.plugins.pluginmodes={FLASH:"FLASH",JAVASCRIPT:"JAVASCRIPT",HYBRID:"HYBRID"};n.plugins.plugin=function(t){function s(){switch(n.utils.getPluginPathType(t)){case n.utils.pluginPathType.ABSOLUTE:return t;case n.utils.pluginPathType.RELATIVE:return n.utils.getAbsolutePath(t,window.location.href);case n.utils.pluginPathType.CDN:var i=n.utils.getPluginName(t),r=n.utils.getPluginVersion(t),u=window.location.href.indexOf("https://")==0?o.replace("http://","https://secure"):o;return u+"/"+n.version.split(".")[0]+"/"+i+"/"+i+(r!==""?"-"+r:"")+".js"}}function h(){e=setTimeout(function(){r=n.utils.loaderstatus.COMPLETE;f.sendEvent(n.events.COMPLETE)},1e3)}function c(){r=n.utils.loaderstatus.ERROR;f.sendEvent(n.events.ERROR)}var o="http://lp.longtailvideo.com",r=n.utils.loaderstatus.NEW,i,u,e,f=new n.events.eventdispatcher;n.utils.extend(this,f);this.load=function(){if(r==n.utils.loaderstatus.NEW){if(t.lastIndexOf(".swf")>0){i=t;r=n.utils.loaderstatus.COMPLETE;f.sendEvent(n.events.COMPLETE);return}r=n.utils.loaderstatus.LOADING;var u=new n.utils.scriptloader(s());u.addEventListener(n.events.COMPLETE,h);u.addEventListener(n.events.ERROR,c);u.load()}};this.registerPlugin=function(t,o,s){e&&(clearTimeout(e),e=undefined);o&&s?(i=s,u=o):typeof o=="string"?i=o:typeof o=="function"?u=o:o||s||(i=t);r=n.utils.loaderstatus.COMPLETE;f.sendEvent(n.events.COMPLETE)};this.getStatus=function(){return r};this.getPluginName=function(){return n.utils.getPluginName(t)};this.getFlashPath=function(){if(i)switch(n.utils.getPluginPathType(i)){case n.utils.pluginPathType.ABSOLUTE:return i;case n.utils.pluginPathType.RELATIVE:return t.lastIndexOf(".swf")>0?n.utils.getAbsolutePath(i,window.location.href):n.utils.getAbsolutePath(i,s());case n.utils.pluginPathType.CDN:return i.indexOf("-")>-1?i+"h":i+"-h"}return null};this.getJS=function(){return u};this.getPluginmode=function(){return typeof i!="undefined"&&typeof u!="undefined"?n.plugins.pluginmodes.HYBRID:typeof i!="undefined"?n.plugins.pluginmodes.FLASH:typeof u!="undefined"?n.plugins.pluginmodes.JAVASCRIPT:void 0};this.getNewInstance=function(n,t,i){return new u(n,t,i)};this.getURL=function(){return t}}}(jwplayer),function(n){n.plugins.pluginloader=function(t,i){function h(){f||(f=!0,u=n.utils.loaderstatus.COMPLETE,s.sendEvent(n.events.COMPLETE))}function e(){var t,i;if(!f){t=0;for(plugin in r)i=r[plugin].getStatus(),(i==n.utils.loaderstatus.LOADING||i==n.utils.loaderstatus.NEW)&&t++;t==0&&h()}}var r={},u=n.utils.loaderstatus.NEW,o=!1,f=!1,s=new n.events.eventdispatcher;n.utils.extend(this,s);this.setupPlugins=function(n,t,i){var s={length:0,plugins:{}},f={length:0,plugins:{}},u,o,e;for(u in r)if(o=r[u].getPluginName(),r[u].getFlashPath()&&(s.plugins[r[u].getFlashPath()]=t.plugins[u],s.plugins[r[u].getFlashPath()].pluginmode=r[u].getPluginmode(),s.length++),r[u].getJS()&&(e=document.createElement("div"),e.id=n.id+"_"+o,e.style.position="absolute",e.style.zIndex=f.length+10,f.plugins[o]=r[u].getNewInstance(n,t.plugins[u],e),f.length++,typeof f.plugins[o].resize!="undefined")){n.onReady(i(f.plugins[o],e,!0));n.onResize(i(f.plugins[o],e))}return n.plugins=f.plugins,s};this.load=function(){u=n.utils.loaderstatus.LOADING;o=!0;for(var f in i)n.utils.exists(f)&&(r[f]=t.addPlugin(f),r[f].addEventListener(n.events.COMPLETE,e),r[f].addEventListener(n.events.ERROR,e));for(f in r)r[f].load();o=!1;e()};this.pluginFailed=function(){h()};this.getStatus=function(){return u}}}(jwplayer),function(n){var t=[];n.api=function(t){function v(n,t){return function(r,u,e,o){if(n.renderingMode=="flash"||n.renderingMode=="html5"){var s;u?(f[r]=u,s="jwplayer('"+n.id+"').callback('"+r+"')"):!u&&f[r]&&delete f[r];i.jwDockSetButton(r,s,e,o)}return t}}function a(t){s=[];n.utils.getOuterHTML(t.container)!=l&&n.api.destroyPlayer(t.id,l)}function y(n){return function(t){var u=t.newstate,f=t.oldstate,i,r;if(u==n&&(i=e[u],i))for(r=0;r<i.length;r++)typeof i[r]=="function"&&i[r].call(this,{oldstate:f,newstate:u})}}function p(n,t){return function(i){var r,f;if(n==i.component&&(r=u[n][t],r))for(f=0;f<r.length;f++)typeof r[f]=="function"&&r[f].call(this,i)}}this.container=t;this.id=t.id;var r={},e={},u={},i=undefined,o=!1,s=[],h=undefined,l=n.utils.getOuterHTML(t),c={},f={};return this.getBuffer=function(){return this.callInternal("jwGetBuffer")},this.getContainer=function(){return this.container},this.getPlugin=function(t){var r=this,i={};return t=="dock"?n.utils.extend(i,{setButton:v(r,i),show:function(){return r.callInternal("jwDockShow"),i},hide:function(){return r.callInternal("jwDockHide"),i},onShow:function(t){return r.componentListener("dock",n.api.events.JWPLAYER_COMPONENT_SHOW,t),i},onHide:function(t){return r.componentListener("dock",n.api.events.JWPLAYER_COMPONENT_HIDE,t),i}}):t=="controlbar"?n.utils.extend(i,{show:function(){return r.callInternal("jwControlbarShow"),i},hide:function(){return r.callInternal("jwControlbarHide"),i},onShow:function(t){return r.componentListener("controlbar",n.api.events.JWPLAYER_COMPONENT_SHOW,t),i},onHide:function(t){return r.componentListener("controlbar",n.api.events.JWPLAYER_COMPONENT_HIDE,t),i}}):t=="display"?n.utils.extend(i,{show:function(){return r.callInternal("jwDisplayShow"),i},hide:function(){return r.callInternal("jwDisplayHide"),i},onShow:function(t){return r.componentListener("display",n.api.events.JWPLAYER_COMPONENT_SHOW,t),i},onHide:function(t){return r.componentListener("display",n.api.events.JWPLAYER_COMPONENT_HIDE,t),i}}):this.plugins[t]},this.callback=function(n){if(f[n])return f[n]()},this.getDuration=function(){return this.callInternal("jwGetDuration")},this.getFullscreen=function(){return this.callInternal("jwGetFullscreen")},this.getHeight=function(){return this.callInternal("jwGetHeight")},this.getLockState=function(){return this.callInternal("jwGetLockState")},this.getMeta=function(){return this.getItemMeta()},this.getMute=function(){return this.callInternal("jwGetMute")},this.getPlaylist=function(){var i=this.callInternal("jwGetPlaylist"),t;for(this.renderingMode=="flash"&&n.utils.deepReplaceKeyName(i,["__dot__","__spc__","__dsh__"],["."," ","-"]),t=0;t<i.length;t++)n.utils.exists(i[t].index)||(i[t].index=t);return i},this.getPlaylistItem=function(t){return n.utils.exists(t)||(t=this.getCurrentItem()),this.getPlaylist()[t]},this.getPosition=function(){return this.callInternal("jwGetPosition")},this.getRenderingMode=function(){return this.renderingMode},this.getState=function(){return this.callInternal("jwGetState")},this.getVolume=function(){return this.callInternal("jwGetVolume")},this.getWidth=function(){return this.callInternal("jwGetWidth")},this.setFullscreen=function(t){return n.utils.exists(t)?this.callInternal("jwSetFullscreen",t):this.callInternal("jwSetFullscreen",!this.callInternal("jwGetFullscreen")),this},this.setMute=function(t){return n.utils.exists(t)?this.callInternal("jwSetMute",t):this.callInternal("jwSetMute",!this.callInternal("jwGetMute")),this},this.lock=function(){return this},this.unlock=function(){return this},this.load=function(n){return this.callInternal("jwLoad",n),this},this.playlistItem=function(n){return this.callInternal("jwPlaylistItem",n),this},this.playlistPrev=function(){return this.callInternal("jwPlaylistPrev"),this},this.playlistNext=function(){return this.callInternal("jwPlaylistNext"),this},this.resize=function(n,t){if(this.renderingMode=="html5")i.jwResize(n,t);else{this.container.width=n;this.container.height=t;var r=document.getElementById(this.id+"_wrapper");r&&(r.style.width=n+"px",r.style.height=t+"px")}return this},this.play=function(t){return typeof t=="undefined"?(t=this.getState(),t==n.api.events.state.PLAYING||t==n.api.events.state.BUFFERING?this.callInternal("jwPause"):this.callInternal("jwPlay")):this.callInternal("jwPlay",t),this},this.pause=function(t){return typeof t=="undefined"?(t=this.getState(),t==n.api.events.state.PLAYING||t==n.api.events.state.BUFFERING?this.callInternal("jwPause"):this.callInternal("jwPlay")):this.callInternal("jwPause",t),this},this.stop=function(){return this.callInternal("jwStop"),this},this.seek=function(n){return this.callInternal("jwSeek",n),this},this.setVolume=function(n){return this.callInternal("jwSetVolume",n),this},this.loadInstream=function(t,r){return h=new n.api.instream(this,i,t,r)},this.onBufferChange=function(t){return this.eventListener(n.api.events.JWPLAYER_MEDIA_BUFFER,t)},this.onBufferFull=function(t){return this.eventListener(n.api.events.JWPLAYER_MEDIA_BUFFER_FULL,t)},this.onError=function(t){return this.eventListener(n.api.events.JWPLAYER_ERROR,t)},this.onFullscreen=function(t){return this.eventListener(n.api.events.JWPLAYER_FULLSCREEN,t)},this.onMeta=function(t){return this.eventListener(n.api.events.JWPLAYER_MEDIA_META,t)},this.onMute=function(t){return this.eventListener(n.api.events.JWPLAYER_MEDIA_MUTE,t)},this.onPlaylist=function(t){return this.eventListener(n.api.events.JWPLAYER_PLAYLIST_LOADED,t)},this.onPlaylistItem=function(t){return this.eventListener(n.api.events.JWPLAYER_PLAYLIST_ITEM,t)},this.onReady=function(t){return this.eventListener(n.api.events.API_READY,t)},this.onResize=function(t){return this.eventListener(n.api.events.JWPLAYER_RESIZE,t)},this.onComplete=function(t){return this.eventListener(n.api.events.JWPLAYER_MEDIA_COMPLETE,t)},this.onSeek=function(t){return this.eventListener(n.api.events.JWPLAYER_MEDIA_SEEK,t)},this.onTime=function(t){return this.eventListener(n.api.events.JWPLAYER_MEDIA_TIME,t)},this.onVolume=function(t){return this.eventListener(n.api.events.JWPLAYER_MEDIA_VOLUME,t)},this.onBeforePlay=function(t){return this.eventListener(n.api.events.JWPLAYER_MEDIA_BEFOREPLAY,t)},this.onBeforeComplete=function(t){return this.eventListener(n.api.events.JWPLAYER_MEDIA_BEFORECOMPLETE,t)},this.onBuffer=function(t){return this.stateListener(n.api.events.state.BUFFERING,t)},this.onPause=function(t){return this.stateListener(n.api.events.state.PAUSED,t)},this.onPlay=function(t){return this.stateListener(n.api.events.state.PLAYING,t)},this.onIdle=function(t){return this.stateListener(n.api.events.state.IDLE,t)},this.remove=function(){if(!o)throw"Cannot call remove() before player is ready";a(this)},this.setup=function(t){var r,i;return n.embed?(r=this.id,a(this),i=n(r),i.config=t,new n.embed(i)):this},this.registerPlugin=function(t,i,r){n.plugins.registerPlugin(t,i,r)},this.setPlayer=function(n,t){i=n;this.renderingMode=t},this.stateListener=function(t,i){return e[t]||(e[t]=[],this.eventListener(n.api.events.JWPLAYER_PLAYER_STATE,y(t))),e[t].push(i),this},this.detachMedia=function(){if(this.renderingMode=="html5")return this.callInternal("jwDetachMedia")},this.attachMedia=function(){if(this.renderingMode=="html5")return this.callInternal("jwAttachMedia")},this.componentListener=function(n,t,i){return u[n]||(u[n]={}),u[n][t]||(u[n][t]=[],this.eventListener(t,p(n,t))),u[n][t].push(i),this},this.addInternalListener=function(t,i){try{t.jwAddEventListener(i,'function(dat) { jwplayer("'+this.id+'").dispatchEvent("'+i+'", dat); }')}catch(r){n.utils.log("Could not add internal listener")}},this.eventListener=function(n,t){return r[n]||(r[n]=[],i&&o&&this.addInternalListener(i,n)),r[n].push(t),this},this.dispatchEvent=function(n){var i,t;if(r[n])for(i=_utils.translateEventResponse(n,arguments[1]),t=0;t<r[n].length;t++)typeof r[n][t]=="function"&&r[n][t].call(this,i)},this.dispatchInstreamEvent=function(n){h&&h.dispatchEvent(n,arguments)},this.callInternal=function(){var t,n,r;if(o){for(t=arguments[0],n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);return typeof i!="undefined"&&typeof i[t]=="function"?n.length==2?i[t](n[0],n[1]):n.length==1?i[t](n[0]):i[t]():null}s.push(arguments)},this.playerReady=function(t){o=!0;i||this.setPlayer(document.getElementById(t.id));this.container=document.getElementById(this.id);for(var u in r)this.addInternalListener(i,u);for(this.eventListener(n.api.events.JWPLAYER_PLAYLIST_ITEM,function(){c={}}),this.eventListener(n.api.events.JWPLAYER_MEDIA_META,function(t){n.utils.extend(c,t.metadata)}),this.dispatchEvent(n.api.events.API_READY);s.length>0;)this.callInternal.apply(this,s.shift())},this.getItemMeta=function(){return c},this.getCurrentItem=function(){return this.callInternal("jwGetPlaylistIndex")},this};n.api.selectPlayer=function(t){var i,r;return(n.utils.exists(t)||(t=0),t.nodeType?i=t:typeof t=="string"&&(i=document.getElementById(t)),i)?(r=n.api.playerById(i.id),r?r:n.api.addPlayer(new n.api(i))):typeof t=="number"?n.getPlayers()[t]:null};n.api.events={API_READY:"jwplayerAPIReady",JWPLAYER_READY:"jwplayerReady",JWPLAYER_FULLSCREEN:"jwplayerFullscreen",JWPLAYER_RESIZE:"jwplayerResize",JWPLAYER_ERROR:"jwplayerError",JWPLAYER_MEDIA_BEFOREPLAY:"jwplayerMediaBeforePlay",JWPLAYER_MEDIA_BEFORECOMPLETE:"jwplayerMediaBeforeComplete",JWPLAYER_COMPONENT_SHOW:"jwplayerComponentShow",JWPLAYER_COMPONENT_HIDE:"jwplayerComponentHide",JWPLAYER_MEDIA_BUFFER:"jwplayerMediaBuffer",JWPLAYER_MEDIA_BUFFER_FULL:"jwplayerMediaBufferFull",JWPLAYER_MEDIA_ERROR:"jwplayerMediaError",JWPLAYER_MEDIA_LOADED:"jwplayerMediaLoaded",JWPLAYER_MEDIA_COMPLETE:"jwplayerMediaComplete",JWPLAYER_MEDIA_SEEK:"jwplayerMediaSeek",JWPLAYER_MEDIA_TIME:"jwplayerMediaTime",JWPLAYER_MEDIA_VOLUME:"jwplayerMediaVolume",JWPLAYER_MEDIA_META:"jwplayerMediaMeta",JWPLAYER_MEDIA_MUTE:"jwplayerMediaMute",JWPLAYER_PLAYER_STATE:"jwplayerPlayerState",JWPLAYER_PLAYLIST_LOADED:"jwplayerPlaylistLoaded",JWPLAYER_PLAYLIST_ITEM:"jwplayerPlaylistItem",JWPLAYER_INSTREAM_CLICK:"jwplayerInstreamClicked",JWPLAYER_INSTREAM_DESTROYED:"jwplayerInstreamDestroyed"};n.api.events.state={BUFFERING:"BUFFERING",IDLE:"IDLE",PAUSED:"PAUSED",PLAYING:"PLAYING"};n.api.playerById=function(n){for(var i=0;i<t.length;i++)if(t[i].id==n)return t[i];return null};n.api.addPlayer=function(n){for(var i=0;i<t.length;i++)if(t[i]==n)return n;return t.push(n),n};n.api.destroyPlayer=function(i,r){for(var u,o,s,f=-1,e=0;e<t.length;e++)if(t[e].id==i){f=e;continue}if(f>=0){try{t[f].callInternal("jwDestroy")}catch(h){}u=document.getElementById(t[f].id);document.getElementById(t[f].id+"_wrapper")&&(u=document.getElementById(t[f].id+"_wrapper"));u&&(r?n.utils.setOuterHTML(u,r):(o=document.createElement("div"),s=u.id,u.id.indexOf("_wrapper")==u.id.length-8&&(newID=u.id.substring(0,u.id.length-8)),o.setAttribute("id",s),u.parentNode.replaceChild(o,u)));t.splice(f,1)}return null};n.getPlayers=function(){return t.slice(0)}}(jwplayer),_userPlayerReady=typeof playerReady=="function"?playerReady:undefined,playerReady=function(n){var t=jwplayer.api.playerById(n.id);t?t.playerReady(n):jwplayer.api.selectPlayer(n.id).playerReady(n);_userPlayerReady&&_userPlayerReady.call(this,n)},function(n){n.api.instream=function(t,i,r,u){function l(){c.callInternal("jwLoadInstream",r,u)}function a(n,t){e.jwInstreamAddEventListener(t,'function(dat) { jwplayer("'+c.id+'").dispatchInstreamEvent("'+t+'", dat); }')}function f(n,t){return o[n]||(o[n]=[],a(e,n)),o[n].push(t),this}function h(t,i){return s[t]||(s[t]=[],f(n.api.events.JWPLAYER_PLAYER_STATE,v(t))),s[t].push(i),this}function v(n){return function(t){var u=t.newstate,f=t.oldstate,i,r;if(u==n&&(i=s[u],i))for(r=0;r<i.length;r++)typeof i[r]=="function"&&i[r].call(this,{oldstate:f,newstate:u,type:t.type})}}var c=t,e=i,y=r,p=u,o={},s={};this.dispatchEvent=function(n,t){var r,i;if(o[n])for(r=_utils.translateEventResponse(n,t[1]),i=0;i<o[n].length;i++)typeof o[n][i]=="function"&&o[n][i].call(this,r)};this.onError=function(t){return f(n.api.events.JWPLAYER_ERROR,t)};this.onFullscreen=function(t){return f(n.api.events.JWPLAYER_FULLSCREEN,t)};this.onMeta=function(t){return f(n.api.events.JWPLAYER_MEDIA_META,t)};this.onMute=function(t){return f(n.api.events.JWPLAYER_MEDIA_MUTE,t)};this.onComplete=function(t){return f(n.api.events.JWPLAYER_MEDIA_COMPLETE,t)};this.onSeek=function(t){return f(n.api.events.JWPLAYER_MEDIA_SEEK,t)};this.onTime=function(t){return f(n.api.events.JWPLAYER_MEDIA_TIME,t)};this.onVolume=function(t){return f(n.api.events.JWPLAYER_MEDIA_VOLUME,t)};this.onBuffer=function(t){return h(n.api.events.state.BUFFERING,t)};this.onPause=function(t){return h(n.api.events.state.PAUSED,t)};this.onPlay=function(t){return h(n.api.events.state.PLAYING,t)};this.onIdle=function(t){return h(n.api.events.state.IDLE,t)};this.onInstreamClick=function(t){return f(n.api.events.JWPLAYER_INSTREAM_CLICK,t)};this.onInstreamDestroyed=function(t){return f(n.api.events.JWPLAYER_INSTREAM_DESTROYED,t)};this.play=function(n){e.jwInstreamPlay(n)};this.pause=function(n){e.jwInstreamPause(n)};this.seek=function(n){e.jwInstreamSeek(n)};this.destroy=function(){e.jwInstreamDestroy()};this.getState=function(){return e.jwInstreamGetState()};this.getDuration=function(){return e.jwInstreamGetDuration()};this.getPosition=function(){return e.jwInstreamGetPosition()};l()}}(jwplayer),function(n){function i(){var f,r,u;if(!document.body)return setTimeout(i,15);for(f=t.selectors.getElementsByTagAndClass("video","jwplayer"),r=0;r<f.length;r++)u=f[r],u.id==""&&(u.id="jwplayer_"+Math.round(Math.random()*1e5)),n(u.id).setup({})}var t=n.utils;n.embed=function(i){function o(n,t){for(var i in t)typeof n[i]=="function"&&n[i].call(n,t[i])}function f(){var f,e,s,h,c,y,l,a,v;if(u.getStatus()==t.loaderstatus.COMPLETE){for(f=0;f<r.modes.length;f++)if(r.modes[f].type&&n.embed[r.modes[f].type]){if(e=r.modes[f].config,s=r,e)for(s=t.extend(t.clone(r),e),h=["file","levels","playlist"],c=0;c<h.length;c++)if(y=h[c],t.exists(e[y]))for(l=0;l<h.length;l++)l!=c&&(a=h[l],t.exists(s[a])&&!t.exists(e[a])&&delete s[a]);if(v=new n.embed[r.modes[f].type](document.getElementById(i.id),r.modes[f],s,u,i),v.supportsConfig())return v.embed(),o(i,r.events),i}t.log("No suitable players found");new n.embed.logo(t.extend({hide:!0},r.components.logo),"none",i.id)}}var e=t.mediaparser.parseMedia(i.container),r=new n.embed.config(t.extend({width:400,height:300,components:{controlbar:{position:"over"}}},e,i.config),this),u=n.plugins.loadPlugins(i.id,r.plugins);return u.addEventListener(n.events.COMPLETE,f),u.addEventListener(n.events.ERROR,f),u.load(),i};i()}(jwplayer),function(n){function i(n){var i=[{type:"flash",src:n?n:"/jwplayer/player.swf"},{type:"html5"},{type:"download"}];return t.isAndroid()&&(i[0]=i.splice(1,1,i[0])[0]),i}function o(n){return n instanceof Array||typeof n=="object"&&!n.position&&!n.size}function e(n){return typeof n=="string"&&(parseInt(n).toString()==n||n.toLowerCase().indexOf("px")>-1)?parseInt(n):n}function s(n){var u={},f,r,i;switch(t.typeOf(n.plugins)){case"object":for(f in n.plugins)u[t.getPluginName(f)]=f;break;case"string":for(r=n.plugins.split(","),i=0;i<r.length;i++)u[t.getPluginName(r[i])]=r[i]}return u}function f(n,i,r,u){var f,e;t.typeOf(n[i])!="object"&&(n[i]={});f=n[i][r];t.typeOf(f)!="object"&&(n[i][r]=f={});u&&(i=="plugins"?(e=t.getPluginName(r),f[u]=n[e+"."+u],delete n[e+"."+u]):(f[u]=n[r+"."+u],delete n[r+"."+u]))}var t=n.utils,r={players:"modes",autoplay:"autostart"},u=["playlist","dock","controlbar","logo","display"];n.embed.deserialize=function(n){var r=s(n),o,i;for(o in r)f(n,"plugins",r[o]);for(i in n)if(i.indexOf(".")>-1){var h=i.split("."),e=h[0],i=h[1];t.isInArray(u,e)?f(n,"components",e,i):r[e]&&f(n,"plugins",r[e],i)}return n};n.embed.config=function(f){var s=t.extend({},f),w,v,c,y,p,h,l,a;if(o(s.playlist)&&(w=s.playlist,delete s.playlist),s=n.embed.deserialize(s),s.height=e(s.height),s.width=e(s.width),typeof s.plugins=="string")for(v=s.plugins.split(","),typeof s.plugins!="object"&&(s.plugins={}),c=0;c<v.length;c++)y=t.getPluginName(v[c]),typeof s[y]=="object"?(s.plugins[v[c]]=s[y],delete s[y]):s.plugins[v[c]]={};for(p=0;p<u.length;p++)h=u[p],t.exists(s[h])&&(typeof s[h]!="object"?(s.components[h]||(s.components[h]={}),h=="logo"?s.components[h].file=s[h]:s.components[h].position=s[h],delete s[h]):(s.components[h]||(s.components[h]={}),t.extend(s.components[h],s[h]),delete s[h])),typeof s[h+"size"]!="undefined"&&(s.components[h]||(s.components[h]={}),s.components[h].size=s[h+"size"],delete s[h+"size"]);typeof s.icons!="undefined"&&(s.components.display||(s.components.display={}),s.components.display.icons=s.icons,delete s.icons);for(l in r)s[l]&&(s[r[l]]||(s[r[l]]=s[l]),delete s[l]);return s.flashplayer&&!s.modes?(a=i(s.flashplayer),delete s.flashplayer):s.modes?(typeof s.modes=="string"?a=i(s.modes):s.modes instanceof Array?a=s.modes:typeof s.modes=="object"&&s.modes.type&&(a=[s.modes]),delete s.modes):a=i(),s.modes=a,w&&(s.playlist=w),s}}(jwplayer),function(n){n.embed.download=function(t,i,r,u,f){function e(t,i,r){var f,u;return r?!1:(f=["image","sound","youtube","http"],i&&f.toString().indexOf(i)>-1)?!0:(!i||i&&i=="video")&&(u=n.utils.extension(t),u&&n.utils.extensionmap[u])?!0:!1}this.embed=function(){function v(){_imageWidth=i.display_image.naturalWidth;_imageHeight=i.display_image.naturalHeight;y()}function y(){n.utils.stretch(n.utils.stretching.UNIFORM,i.display_image,o,e,_imageWidth,_imageHeight)}var w=n.utils.extend({},r),i={},o=r.width?r.width:480,e,s,h,c,u,a,l,p;typeof o!="number"&&(o=parseInt(o,10));e=r.height?r.height:320;typeof e!="number"&&(e=parseInt(e,10));u={};r.playlist&&r.playlist.length?(u.file=r.playlist[0].file,h=r.playlist[0].image,u.levels=r.playlist[0].levels):(u.file=r.file,h=r.image,u.levels=r.levels);u.file?s=u.file:u.levels&&u.levels.length&&(s=u.levels[0].file);c=s?"pointer":"auto";a={display:{style:{cursor:c,width:o,height:e,backgroundColor:"#000",position:"relative",textDecoration:"none",border:"none",display:"block"}},display_icon:{style:{cursor:c,position:"absolute",display:s?"block":"none",top:0,left:0,border:0,margin:0,padding:0,zIndex:3,width:50,height:50,backgroundImage:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAALdJREFUeNrs18ENgjAYhmFouDOCcQJGcARHgE10BDcgTOIosAGwQOuPwaQeuFRi2p/3Sb6EC5L3QCxZBgAAAOCorLW1zMn65TrlkH4NcV7QNcUQt7Gn7KIhxA+qNIR81spOGkL8oFJDyLJRdosqKDDkK+iX5+d7huzwM40xptMQMkjIOeRGo+VkEVvIPfTGIpKASfYIfT9iCHkHrBEzf4gcUQ56aEzuGK/mw0rHpy4AAACAf3kJMACBxjAQNRckhwAAAABJRU5ErkJggg==)"}},display_iconBackground:{style:{cursor:c,position:"absolute",display:s?"block":"none",top:(e-50)/2,left:(o-50)/2,border:0,width:50,height:50,margin:0,padding:0,zIndex:2,backgroundImage:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAEpJREFUeNrszwENADAIA7DhX8ENoBMZ5KR10EryckCJiIiIiIiIiIiIiIiIiIiIiIh8GmkRERERERERERERERERERERERGRHSPAAPlXH1phYpYaAAAAAElFTkSuQmCC)"}},display_image:{style:{width:o,height:e,display:h?"block":"none",position:"absolute",cursor:c,left:0,top:0,margin:0,padding:0,textDecoration:"none",zIndex:1,border:"none"}}};l=function(i,r,u){var f=document.createElement(i);return f.id=u?u:t.id+"_jwplayer_"+r,n.utils.css(f,a[r].style),f};i.display=l("a","display",t.id);s&&i.display.setAttribute("href",n.utils.getAbsolutePath(s));i.display_image=l("img","display_image");i.display_image.setAttribute("alt","Click to download...");h&&i.display_image.setAttribute("src",n.utils.getAbsolutePath(h));!0&&(i.display_icon=l("div","display_icon"),i.display_iconBackground=l("div","display_iconBackground"),i.display.appendChild(i.display_image),i.display_iconBackground.appendChild(i.display_icon),i.display.appendChild(i.display_iconBackground));_css=n.utils.css;_hide=function(n){_css(n,{display:"none"})};i.display_image.onerror=function(){_hide(i.display_image)};i.display_image.onload=v;t.parentNode.replaceChild(i.display,t);p=r.plugins&&r.plugins.logo?r.plugins.logo:{};i.display.appendChild(new n.embed.logo(r.components.logo,"download",t.id));f.container=document.getElementById(f.id);f.setPlayer(i.display,"download")};this.supportsConfig=function(){var t,i;if(r){if(t=n.utils.getFirstPlaylistItemFromConfig(r),typeof t.file=="undefined"&&typeof t.levels=="undefined")return!0;if(t.file)return e(t.file,t.provider,t.playlistfile);if(t.levels&&t.levels.length)for(i=0;i<t.levels.length;i++)if(t.levels[i].file&&e(t.levels[i].file,t.provider,t.playlistfile))return!0}else return!0}}}(jwplayer),function(n){n.embed.flash=function(t,i,r,u,f){function e(n,t,i){var r=document.createElement("param");r.setAttribute("name",t);r.setAttribute("value",i);n.appendChild(r)}function h(t,i,r){return function(){var u,e;r&&document.getElementById(f.id+"_wrapper").appendChild(i);u=document.getElementById(f.id).getPluginConfig("display");t.resize(u.width,u.height);e={left:u.x,top:u.y};n.utils.css(i,e)}}function o(n,t){var f,i,r,u;if(n[t]){f=n[t];for(i in f)if(r=f[i],typeof r=="string")n[i]||(n[i]=r);else for(u in r)n[i+"."+u]||(n[i+"."+u]=r[u]);delete n[t]}}function c(t){var i,u,r,o,f,e;if(!t)return{};i={};u=[];for(r in t){o=n.utils.getPluginName(r);f=t[r];u.push(r);for(e in f)i[o+"."+e]=f[e]}return i.plugins=u.join(","),i}function s(t){var r=t.netstreambasepath?"":"netstreambasepath="+encodeURIComponent(window.location.href.split("#")[0])+"&";for(var i in t)r+=typeof t[i]=="object"?i+"="+encodeURIComponent("[[JSON]]"+n.utils.strings.jsonToString(t[i]))+"&":i+"="+encodeURIComponent(t[i])+"&";return r.substring(0,r.length-1)}this.embed=function(){var d,g,p,w,nt,b,tt,k,v,a;r.id=f.id;var y,l=n.utils.extend({},r),it=l.width,rt=l.height;for(t.id+"_wrapper"==t.parentNode.id?y=document.getElementById(t.id+"_wrapper"):(y=document.createElement("div"),y.id=t.id+"_wrapper",n.utils.wrap(t,y),n.utils.css(y,{position:"relative",width:it,height:rt})),d=u.setupPlugins(f,l,h),d.length>0?n.utils.extend(l,c(d.plugins)):delete l.plugins,g=["height","width","modes","events"],p=0;p<g.length;p++)delete l[g[p]];w="opaque";l.wmode&&(w=l.wmode);o(l,"components");o(l,"providers");typeof l["dock.position"]!="undefined"&&l["dock.position"].toString().toLowerCase()=="false"&&(l.dock=l["dock.position"],delete l["dock.position"]);nt=n.utils.getCookies();for(b in nt)typeof l[b]=="undefined"&&(l[b]=nt[b]);tt="#000000";n.utils.isIE()?(v='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" bgcolor="'+tt+'" width="100%" height="100%" id="'+t.id+'" name="'+t.id+'" tabindex=0"">',v+='<param name="movie" value="'+i.src+'">',v+='<param name="allowfullscreen" value="true">',v+='<param name="allowscriptaccess" value="always">',v+='<param name="seamlesstabbing" value="true">',v+='<param name="wmode" value="'+w+'">',v+='<param name="flashvars" value="'+s(l)+'">',v+="<\/object>",n.utils.setOuterHTML(t,v),k=document.getElementById(t.id)):(a=document.createElement("object"),a.setAttribute("type","application/x-shockwave-flash"),a.setAttribute("data",i.src),a.setAttribute("width","100%"),a.setAttribute("height","100%"),a.setAttribute("bgcolor","#000000"),a.setAttribute("id",t.id),a.setAttribute("name",t.id),a.setAttribute("tabindex",0),e(a,"allowfullscreen","true"),e(a,"allowscriptaccess","always"),e(a,"seamlesstabbing","true"),e(a,"wmode",w),e(a,"flashvars",s(l)),t.parentNode.replaceChild(a,t),k=a);f.container=k;f.setPlayer(k,"flash")};this.supportsConfig=function(){var t,i;if(n.utils.hasFlash())if(r){if(t=n.utils.getFirstPlaylistItemFromConfig(r),typeof t.file=="undefined"&&typeof t.levels=="undefined")return!0;if(t.file)return flashCanPlay(t.file,t.provider);if(t.levels&&t.levels.length)for(i=0;i<t.levels.length;i++)if(t.levels[i].file&&flashCanPlay(t.levels[i].file,t.provider))return!0}else return!0;return!1};flashCanPlay=function(t,i){var r;return i&&["video","http","sound","image"].toString().indexOf(i)<0?!0:(r=n.utils.extension(t),!r)?!0:n.utils.exists(n.utils.extensionmap[r])&&!n.utils.exists(n.utils.extensionmap[r].flash)?!1:!0}}}(jwplayer),function(n){n.embed.html5=function(t,i,r,u,f){function e(n,i,r){return function(){var u=document.getElementById(t.id+"_displayarea");r&&u.appendChild(i);n.resize(u.clientWidth,u.clientHeight);i.left=u.style.left;i.top=u.style.top}}this.embed=function(){var i,s,o,h;if(n.html5){for(u.setupPlugins(f,r,e),t.innerHTML="",i=n.utils.extend({screencolor:"0x000000"},r),s=["plugins","modes","events"],o=0;o<s.length;o++)delete i[s[o]];i.levels&&!i.sources&&(i.sources=r.levels);i.skin&&i.skin.toLowerCase().indexOf(".zip")>0&&(i.skin=i.skin.replace(/\.zip/i,".xml"));h=new(n.html5(t).setup)(i);f.container=document.getElementById(f.id);f.setPlayer(h,"html5")}else return null};this.supportsConfig=function(){var t,i;if(!!n.vid.canPlayType)if(r){if(t=n.utils.getFirstPlaylistItemFromConfig(r),typeof t.file=="undefined"&&typeof t.levels=="undefined")return!0;if(t.file)return html5CanPlay(n.vid,t.file,t.provider,t.playlistfile);if(t.levels&&t.levels.length)for(i=0;i<t.levels.length;i++)if(t.levels[i].file&&html5CanPlay(n.vid,t.levels[i].file,t.provider,t.playlistfile))return!0}else return!0;return!1};html5CanPlay=function(t,i,r,u){if(u)return!1;if(r&&r=="youtube")return!0;if(r&&r!="video"&&r!="http"&&r!="sound"||navigator.userAgent.match(/BlackBerry/i)!==null)return!1;var f=n.utils.extension(i);return!n.utils.exists(f)||!n.utils.exists(n.utils.extensionmap[f])?!0:n.utils.exists(n.utils.extensionmap[f].html5)?n.utils.isLegacyAndroid()&&f.match(/m4v|mp4/)?!0:browserCanPlay(t,n.utils.extensionmap[f].html5):!1};browserCanPlay=function(n,t){return t?n.canPlayType(t)?!0:t=="audio/mp3"&&navigator.userAgent.match(/safari/i)?n.canPlayType("audio/mpeg"):!1:!0}}}(jwplayer),function(n){n.embed.logo=function(t,i,r){function s(){h();l();a()}function h(){if(e.prefix){var i=n.version.split(/\W/).splice(0,2).join("/");e.prefix.indexOf(i)<0&&(e.prefix+=i+"/")}u=n.utils.extend({},e,t)}function c(){var n={border:"none",textDecoration:"none",position:"absolute",cursor:"pointer",zIndex:10},t,i;n.display=u.hide?"none":"block";t=u.position.toLowerCase().split("-");for(i in t)n[t[i]]=u.margin;return n}function l(){(f=document.createElement("img"),f.id=r+"_jwplayer_logo",f.style.display="none",f.onload=function(){_css(f,c());o()},u.file)&&(f.src=u.file.indexOf("http://")===0?u.file:u.prefix+u.file)}function a(){u.link?(f.onmouseover=y,f.onmouseout=o,f.onclick=v):this.mouseEnabled=!1}function v(n){typeof n!="undefined"&&(n.preventDefault(),n.stopPropagation());u.link&&window.open(u.link,u.linktarget);return}function o(){u.link&&(f.style.opacity=u.out);return}function y(){u.hide&&(f.style.opacity=u.over);return}var e={prefix:"http://l.longtailvideo.com/"+i+"/",file:"",link:"",linktarget:"_top",margin:8,out:.5,over:1,timeout:5,hide:!1,position:"bottom-left"},f,u;if(_css=n.utils.css,s(),u.file)return f}}(jwplayer),function(n){n.html5=function(t){var i=t;return this.setup=function(t){return n.utils.extend(this,new n.html5.api(i,t)),this},this}}(jwplayer),function(n){var t=n.utils,i=t.css,r=t.isIOS();n.html5.view=function(u,f,e){function at(){function n(){return c.skin.getComponentSettings("display")&&c.skin.getComponentSettings("display").backgroundcolor?c.skin.getComponentSettings("display").backgroundcolor:parseInt("000000",16)}h=document.createElement("div");h.id=l.id;h.className=l.className;_videowrapper=document.createElement("div");_videowrapper.id=h.id+"_video_wrapper";l.id=h.id+"_video";i(h,{position:"relative",height:o.height,width:o.width,padding:0,backgroundColor:n(),zIndex:0});i(l,{width:"100%",height:"100%",top:0,left:0,zIndex:1,margin:"auto",display:"block"});i(_videowrapper,{overflow:"hidden",position:"absolute",top:0,left:0,bottom:0,right:0});t.wrap(l,h);t.wrap(l,_videowrapper);s=document.createElement("div");s.id=h.id+"_displayarea";h.appendChild(s);_instreamArea=document.createElement("div");_instreamArea.id=h.id+"_instreamarea";i(_instreamArea,{overflow:"hidden",position:"absolute",top:0,left:0,bottom:0,right:0,zIndex:100,background:"000000",display:"none"});h.appendChild(_instreamArea)}function vt(){for(var n,i=0;i<o.plugins.order.length;i++)n=o.plugins.order[i],t.exists(o.plugins.object[n].getDisplayElement)&&(o.plugins.object[n].height=t.parseDimension(o.plugins.object[n].getDisplayElement().style.height),o.plugins.object[n].width=t.parseDimension(o.plugins.object[n].getDisplayElement().style.width),o.plugins.config[n].currentPosition=o.plugins.config[n].position);et()}function yt(){rt=o.fullscreen}function pt(t){if(!g){switch(t.newstate){case n.api.events.state.PLAYING:o.getMedia()&&o.getMedia().hasChrome()&&(s.style.display="none");break;default:s.style.display="block"}w()}}function et(){var n=o.getMedia()?o.getMedia().getDisplayElement():null,i,r;if(t.exists(n))for(y!=n&&(y&&y.parentNode&&y.parentNode.replaceChild(n,y),y=n),i=0;i<o.plugins.order.length;i++)r=o.plugins.order[i],t.exists(o.plugins.object[r].getDisplayElement)&&(o.plugins.config[r].currentPosition=o.plugins.config[r].position);p(o.width,o.height)}function wt(t){switch(t.keyCode){case 27:c.jwGetFullscreen()&&c.jwSetFullscreen(!1);break;case 32:c.jwGetState()!=n.api.events.state.IDLE&&c.jwGetState()!=n.api.events.state.PAUSED?c.jwPause():c.jwPlay()}}function p(n,u){var e,p,c,l,g,f,y,b;if(h.style.display!="none"){if(e=[].concat(o.plugins.order),e.reverse(),d=e.length+2,rt&&k())try{o.fullscreen&&!o.getMedia().getDisplayElement().webkitDisplayingFullscreen&&(o.fullscreen=!1)}catch(nt){}if(o.fullscreen)k()||r||it(dt,e,!0);else{a=n;v=u;a=typeof n=="string"&&n.indexOf("%")>0?t.getElementWidth(t.parentNode(h))*parseInt(n.replace("%"),"")/100:n;v=typeof u=="string"&&u.indexOf("%")>0?t.getElementHeight(t.parentNode(h))*parseInt(u.replace("%"),"")/100:u;p={top:0,bottom:0,left:0,right:0,width:a,height:v,position:"absolute"};i(s,p);c={};try{l=o.plugins.object.display.getDisplayElement()}catch(nt){}l&&(c.width=t.parseDimension(l.style.width),c.height=t.parseDimension(l.style.height));g=t.extend({},p,c,{zIndex:_instreamArea.style.zIndex,display:_instreamArea.style.display});i(_instreamArea,g);i(h,{height:v,width:a});f=it(bt,e);f.length>0&&(d+=f.length,y=f.indexOf("playlist"),b=f.indexOf("controlbar"),y>=0&&b>=0&&(f[y]=f.splice(b,1,f[y])[0]),it(kt,f,!0));ut=t.getElementWidth(s);ft=t.getElementHeight(s)}w()}}function it(r,u,f){var c,h,e,s,l,a;for(tt=0,c=[],h=0;h<u.length;h++)e=u[h],t.exists(o.plugins.object[e].getDisplayElement)&&(o.plugins.config[e].currentPosition!=n.html5.view.positions.NONE?(s=r(e,d--),s?(l=s.width,a=s.height,f&&(delete s.width,delete s.height),i(o.plugins.object[e].getDisplayElement(),s),o.plugins.object[e].resize(l,a)):c.push(e)):i(o.plugins.object[e].getDisplayElement(),{display:"none"}));return c}function bt(n,i){if(t.exists(o.plugins.object[n].getDisplayElement)&&o.plugins.config[n].position&&ni(o.plugins.config[n].position)){t.exists(o.plugins.object[n].getDisplayElement().parentNode)||h.appendChild(o.plugins.object[n].getDisplayElement());var r=ot(n);return r.zIndex=i,r}return!1}function kt(n,i){return t.exists(o.plugins.object[n].getDisplayElement().parentNode)||s.appendChild(o.plugins.object[n].getDisplayElement()),{position:"absolute",width:t.getElementWidth(s)-t.parseDimension(s.style.right),height:t.getElementHeight(s)-t.parseDimension(s.style.bottom),zIndex:i}}function dt(n,t){return{position:"fixed",width:o.width,height:o.height,zIndex:t}}function ni(t){return[n.html5.view.positions.TOP,n.html5.view.positions.RIGHT,n.html5.view.positions.BOTTOM,n.html5.view.positions.LEFT].toString().indexOf(t.toUpperCase())>-1}function k(){return c.jwGetState()!=n.api.events.state.IDLE&&!b&&o.getMedia()&&o.getMedia().getDisplayElement()&&o.getMedia().getDisplayElement().webkitSupportsFullscreen&&t.useNativeFullscreen()?!0:!1}var c=u,l=f,o=e,h,a,v,s,d,lt,y,b=!1,rt=!1,ut,ft,g,nt,tt,w,ot,st,ht,ct,gt,ti;this.setup=function(){o&&o.getMedia()&&(l=o.getMedia().getDisplayElement());at();vt();c.jwAddEventListener(n.api.events.JWPLAYER_PLAYER_STATE,pt);c.jwAddEventListener(n.api.events.JWPLAYER_MEDIA_LOADED,et);c.jwAddEventListener(n.api.events.JWPLAYER_MEDIA_BEFOREPLAY,yt);c.jwAddEventListener(n.api.events.JWPLAYER_MEDIA_META,function(){w()});var i;t.exists(window.onresize)&&(i=window.onresize);window.onresize=function(n){if(t.exists(i))try{i(n)}catch(u){}if(c.jwGetFullscreen()){if(!k()){var r=t.getBoundingClientRect(document.body);o.width=Math.abs(r.left)+Math.abs(r.right);o.height=window.innerHeight;p(o.width,o.height)}}else p(o.width,o.height)}};w=this.resizeMedia=function(){var u,f,e;if(s.style.position="absolute",u=o.getMedia()?o.getMedia().getDisplayElement():nt,u)if(u&&u.tagName.toLowerCase()=="video"){if(!u.videoWidth||!u.videoHeight){u.style.width=s.style.width;u.style.height=s.style.height;return}u.style.position="absolute";t.fadeTo(u,1,.25);u.parentNode&&(u.parentNode.style.left=s.style.left,u.parentNode.style.top=s.style.top);o.fullscreen&&c.jwGetStretching()==n.utils.stretching.EXACTFIT&&!t.isMobile()?(f=document.createElement("div"),t.stretch(n.utils.stretching.UNIFORM,f,t.getElementWidth(s),t.getElementHeight(s),ut,ft),t.stretch(n.utils.stretching.EXACTFIT,u,t.parseDimension(f.style.width),t.parseDimension(f.style.height),u.videoWidth?u.videoWidth:400,u.videoHeight?u.videoHeight:300),i(u,{left:f.style.left,top:f.style.top})):r||t.stretch(c.jwGetStretching(),u,t.getElementWidth(s),t.getElementHeight(s),u.videoWidth?u.videoWidth:400,u.videoHeight?u.videoHeight:300)}else e=o.plugins.object.display.getDisplayElement(),e?o.getMedia().resize(t.parseDimension(e.style.width),t.parseDimension(e.style.height)):o.getMedia().resize(t.parseDimension(s.style.width),t.parseDimension(s.style.height))};ot=this.getComponentPosition=function(i){var r={position:"absolute",margin:0,padding:0,top:null},u=o.plugins.config[i].currentPosition.toLowerCase();switch(u.toUpperCase()){case n.html5.view.positions.TOP:r.top=t.parseDimension(s.style.top);r.left=t.parseDimension(s.style.left);r.width=t.getElementWidth(s)-t.parseDimension(s.style.left)-t.parseDimension(s.style.right);r.height=o.plugins.object[i].height;s.style[u]=t.parseDimension(s.style[u])+o.plugins.object[i].height+"px";s.style.height=t.getElementHeight(s)-r.height+"px";break;case n.html5.view.positions.RIGHT:r.top=t.parseDimension(s.style.top);r.right=t.parseDimension(s.style.right);r.width=o.plugins.object[i].width;r.height=t.getElementHeight(s)-t.parseDimension(s.style.top)-t.parseDimension(s.style.bottom);s.style.width=t.getElementWidth(s)-r.width+"px";break;case n.html5.view.positions.BOTTOM:r.left=t.parseDimension(s.style.left);r.width=t.getElementWidth(s)-t.parseDimension(s.style.left)-t.parseDimension(s.style.right);r.height=o.plugins.object[i].height;r.bottom=t.parseDimension(s.style.bottom+tt);tt+=r.height;s.style.height=t.getElementHeight(s)-r.height+"px";break;case n.html5.view.positions.LEFT:r.top=t.parseDimension(s.style.top);r.left=t.parseDimension(s.style.left);r.width=o.plugins.object[i].width;r.height=t.getElementHeight(s)-t.parseDimension(s.style.top)-t.parseDimension(s.style.bottom);s.style[u]=t.parseDimension(s.style[u])+o.plugins.object[i].width+"px";s.style.width=t.getElementWidth(s)-r.width+"px"}return r};this.resize=p;gt=this.fullscreen=function(n){var u,f,e,c;if(!r){try{u=o.getMedia().getDisplayElement()}catch(l){}if(n&&(ht=o.width,ct=o.height),f={position:"fixed",width:"100%",height:"100%",top:0,left:0,zIndex:2147483e3},e={position:"relative",height:ht,width:ct,zIndex:0},k()&&u&&u.webkitSupportsFullscreen){if(n&&!u.webkitDisplayingFullscreen)try{i(u,f);t.transform(u);st=s.style.display;s.style.display="none";u.webkitEnterFullscreen()}catch(y){}else if(!n){if(i(u,e),w(),u.webkitDisplayingFullscreen)try{u.webkitExitFullscreen()}catch(y){}s.style.display=st}b=!1}else n?(document.onkeydown=wt,clearInterval(lt),c=t.getBoundingClientRect(document.body),o.width=Math.abs(c.left)+Math.abs(c.right),o.height=window.innerHeight,i(h,f),f.zIndex=1,o.getMedia()&&o.getMedia().getDisplayElement()&&i(o.getMedia().getDisplayElement(),f),f.zIndex=2,i(s,f),b=!0):(document.onkeydown="",o.width=a,o.height=v,i(h,e),b=!1),p(o.width,o.height)}};this.setupInstream=function(n,i){t.css(_instreamArea,{display:"block",position:"absolute"});s.style.display="none";_instreamArea.appendChild(n);nt=i;g=!0};ti=this.destroyInstream=function(){_instreamArea.style.display="none";_instreamArea.innerHTML="";s.style.display="block";nt=null;g=!1;p(o.width,o.height)}};n.html5.view.positions={TOP:"TOP",RIGHT:"RIGHT",BOTTOM:"BOTTOM",LEFT:"LEFT",OVER:"OVER",NONE:"NONE"}}(jwplayer),function(n){var t={backgroundcolor:"",margin:10,font:"Arial,sans-serif",fontsize:10,fontcolor:parseInt("000000",16),fontstyle:"normal",fontweight:"bold",buttoncolor:parseInt("ffffff",16),position:n.html5.view.positions.BOTTOM,idlehide:!1,hideplaylistcontrols:!1,forcenextprev:!1,layout:{left:{position:"left",elements:[{name:"play",type:"button"},{name:"divider",type:"divider"},{name:"prev",type:"button"},{name:"divider",type:"divider"},{name:"next",type:"button"},{name:"divider",type:"divider"},{name:"elapsed",type:"text"}]},center:{position:"center",elements:[{name:"time",type:"slider"}]},right:{position:"right",elements:[{name:"duration",type:"text"},{name:"blank",type:"button"},{name:"divider",type:"divider"},{name:"mute",type:"button"},{name:"volume",type:"slider"},{name:"divider",type:"divider"},{name:"fullscreen",type:"button"}]}}};_utils=n.utils;_css=_utils.css;_hide=function(n){_css(n,{display:"none"})};_show=function(n){_css(n,{display:"block"})};n.html5.controlbar=function(i,r){function c(){return d||(d=u.skin.getSkinElement("controlbar","background"),d||(d={width:0,height:0,src:null})),d}function ci(){var t,n,i;pt=0;wt=0;yt=0;p||(t={height:c().height,backgroundColor:e.backgroundcolor},o=document.createElement("div"),o.id=u.id+"_jwplayer_controlbar",_css(o,t));n=u.skin.getSkinElement("controlbar","capLeft");i=u.skin.getSkinElement("controlbar","capRight");n&&s("capLeft","left",!1,o);w("background",o,{position:"absolute",height:c().height,left:n?n.width:0,zIndex:0},"img");c().src&&(f.background.src=c().src);w("elements",o,{position:"relative",height:c().height,zIndex:1});i&&s("capRight","right",!1,o)}function ni(){var t=["timeSlider","volumeSlider","timeSliderRail","volumeSliderRail"],i,n;for(i in t)n=t[i],typeof f[n]!="undefined"&&(l[n]=_utils.getBoundingClientRect(f[n]))}function ht(t){if(!v)if(clearTimeout(ut),e.position==n.html5.view.positions.OVER||u.jwGetFullscreen())switch(u.jwGetState()){case n.api.events.state.PAUSED:case n.api.events.state.IDLE:o&&o.style.opacity<1&&(!e.idlehide||_utils.exists(t))&&(st=!1,setTimeout(function(){st||ct()},100));e.idlehide&&(ut=setTimeout(function(){ti()},2e3));break;default:st=!0;t&&ct();ut=setTimeout(function(){ti()},2e3)}else ct()}function ti(){v||(lt(),o.style.opacity==1&&(_utils.cancelAnimation(o),_utils.fadeTo(o,0,.1,1,0)))}function ct(){v||(tt(),o.style.opacity==0&&(_utils.cancelAnimation(o),_utils.fadeTo(o,1,.1,0,0)))}function ii(n){return function(){et&&ft!=n&&(ft=n,gt.sendEvent(n,{component:"controlbar",boundingRect:li()}))}}function li(){return e.position==n.html5.view.positions.OVER||u.jwGetFullscreen()?_utils.getDimensions(o):{x:0,y:0,width:0,height:0}}function w(n,t,i,r){var u;return p?u=document.getElementById(o.id+"_"+n):(r||(r="div"),u=document.createElement(r),f[n]=u,u.id=o.id+"_"+n,t.appendChild(u)),_utils.exists(i)&&_css(u,i),u}function ai(){if(u.jwGetHeight()<=40){e.layout=_utils.clone(e.layout);for(var n=0;n<e.layout.left.elements.length;n++)e.layout.left.elements[n].name=="fullscreen"&&e.layout.left.elements.splice(n,1);for(n=0;n<e.layout.right.elements.length;n++)e.layout.right.elements[n].name=="fullscreen"&&e.layout.right.elements.splice(n,1);oi()}at(e.layout.left);at(e.layout.center);at(e.layout.right)}function at(n,t){var u=n.position=="right"?"right":"left",r=_utils.extend([],n.elements),n,i;for(_utils.exists(t)&&r.reverse(),n=w(n.position+"Group",f.elements,{float:"left",styleFloat:"left",cssFloat:"left",height:"100%"}),i=0;i<r.length;i++)yi(r[i],u,n)}function vi(){return yt++}function yi(n,t,i){var v,o,h,y,l,r,e;if(i||(i=f.elements),n.type=="divider"){s("divider"+vi(),t,!0,i,undefined,n.width,n.element);return}switch(n.name){case"play":s("playButton",t,!1,i);s("pauseButton",t,!0,i);a("playButton","jwPlay");a("pauseButton","jwPause");break;case"prev":s("prevButton",t,!0,i);a("prevButton","jwPlaylistPrev");break;case"stop":s("stopButton",t,!0,i);a("stopButton","jwStop");break;case"next":s("nextButton",t,!0,i);a("nextButton","jwPlaylistNext");break;case"elapsed":s("elapsedText",t,!0,i,null,null,u.skin.getSkinElement("controlbar","elapsedBackground"));break;case"time":o=_utils.exists(u.skin.getSkinElement("controlbar","timeSliderCapLeft"))?u.skin.getSkinElement("controlbar","timeSliderCapLeft").width:0;h=_utils.exists(u.skin.getSkinElement("controlbar","timeSliderCapRight"))?u.skin.getSkinElement("controlbar","timeSliderCapRight").width:0;v=t=="left"?o:h;l={height:c().height,position:"relative",float:"left",styleFloat:"left",cssFloat:"left"};r=w("timeSlider",i,l);s("timeSliderCapLeft",t,!0,r,"relative");s("timeSliderRail",t,!1,r,"relative");s("timeSliderBuffer",t,!1,r,"absolute");s("timeSliderProgress",t,!1,r,"absolute");s("timeSliderThumb",t,!1,r,"absolute");s("timeSliderCapRight",t,!0,r,"relative");ui("time");break;case"fullscreen":s("fullscreenButton",t,!1,i);s("normalscreenButton",t,!0,i);a("fullscreenButton","jwSetFullscreen",!0);a("normalscreenButton","jwSetFullscreen",!1);break;case"volume":o=_utils.exists(u.skin.getSkinElement("controlbar","volumeSliderCapLeft"))?u.skin.getSkinElement("controlbar","volumeSliderCapLeft").width:0;h=_utils.exists(u.skin.getSkinElement("controlbar","volumeSliderCapRight"))?u.skin.getSkinElement("controlbar","volumeSliderCapRight").width:0;v=t=="left"?o:h;y=u.skin.getSkinElement("controlbar","volumeSliderRail").width+o+h;l={height:c().height,position:"relative",width:y,float:"left",styleFloat:"left",cssFloat:"left"};e=w("volumeSlider",i,l);s("volumeSliderCapLeft",t,!1,e,"relative");s("volumeSliderRail",t,!1,e,"relative");s("volumeSliderProgress",t,!1,e,"absolute");s("volumeSliderThumb",t,!1,e,"absolute");s("volumeSliderCapRight",t,!1,e,"relative");ui("volume");break;case"mute":s("muteButton",t,!1,i);s("unmuteButton",t,!0,i);a("muteButton","jwSetMute",!0);a("unmuteButton","jwSetMute",!1);break;case"duration":s("durationText",t,!0,i,null,null,u.skin.getSkinElement("controlbar","durationBackground"))}}function s(n,t,i,r,o,s,h){var l,a,y,v;(_utils.exists(u.skin.getSkinElement("controlbar",n))||n.indexOf("Text")>0||n.indexOf("divider")===0)&&(l={height:"100%",position:o?o:"relative",display:"block",float:"left",styleFloat:"left",cssFloat:"left"},(n.indexOf("next")===0||n.indexOf("prev")===0)&&(u.jwGetPlaylist().length<2||e.hideplaylistcontrols.toString()=="true")&&e.forcenextprev.toString()!="true"&&(i=!1,l.display="none"),n.indexOf("Text")>0?(n.innerhtml="00:00",l.font=e.fontsize+"px/"+(c().height+1)+"px "+e.font,l.color=e.fontcolor,l.textAlign="center",l.fontWeight=e.fontweight,l.fontStyle=e.fontstyle,l.cursor="default",h&&(l.background="url("+h.src+") no-repeat center",l.backgroundSize="100% "+c().height+"px"),l.padding="0 5px"):n.indexOf("divider")===0?s?isNaN(parseInt(s))||(a=parseInt(s)):h?(y=u.skin.getSkinElement("controlbar",h),y&&(l.background="url("+y.src+") repeat-x center left",a=y.width)):(l.background="url("+u.skin.getSkinElement("controlbar","divider").src+") repeat-x center left",a=u.skin.getSkinElement("controlbar","divider").width):(l.background="url("+u.skin.getSkinElement("controlbar",n).src+") repeat-x center left",a=u.skin.getSkinElement("controlbar",n).width),t=="left"?i&&(pt+=a):t=="right"&&i&&(wt+=a),_utils.typeOf(r)=="undefined"&&(r=f.elements),l.width=a,p?_css(f[n],l):(v=w(n,r,l),_utils.exists(u.skin.getSkinElement("controlbar",n+"Over"))&&(v.onmouseover=function(){v.style.backgroundImage=["url(",u.skin.getSkinElement("controlbar",n+"Over").src,")"].join("")},v.onmouseout=function(){v.style.backgroundImage=["url(",u.skin.getSkinElement("controlbar",n).src,")"].join("")}),n.indexOf("divider")==0&&v.setAttribute("class","divider"),v.innerHTML="&nbsp;"))}function pi(){u.jwAddEventListener(n.api.events.JWPLAYER_PLAYLIST_LOADED,wi);u.jwAddEventListener(n.api.events.JWPLAYER_PLAYLIST_ITEM,bi);u.jwAddEventListener(n.api.events.JWPLAYER_MEDIA_BUFFER,g);u.jwAddEventListener(n.api.events.JWPLAYER_PLAYER_STATE,ei);u.jwAddEventListener(n.api.events.JWPLAYER_MEDIA_TIME,b);u.jwAddEventListener(n.api.events.JWPLAYER_MEDIA_MUTE,fi);u.jwAddEventListener(n.api.events.JWPLAYER_MEDIA_VOLUME,si);u.jwAddEventListener(n.api.events.JWPLAYER_MEDIA_COMPLETE,di)}function wi(){e.hideplaylistcontrols||(u.jwGetPlaylist().length>1||e.forcenextprev.toString()=="true"?(_show(f.nextButton),_show(f.prevButton)):(_hide(f.nextButton),_hide(f.prevButton)),vt(),ri())}function bi(n){h=u.jwGetPlaylist()[n.index].duration;rt=-1;b({id:u.id,duration:h,position:0});g({id:u.id,bufferProgress:0})}function ri(){b({id:u.id,duration:u.jwGetDuration(),position:0});g({id:u.id,bufferProgress:0});fi({id:u.id,mute:u.jwGetMute()});ei({id:u.id,newstate:n.api.events.state.IDLE});si({id:u.id,volume:u.jwGetVolume()})}function a(n,t,i){if(!p&&_utils.exists(u.skin.getSkinElement("controlbar",n))){var r=f[n];_utils.exists(r)&&(_css(r,{cursor:"pointer"}),r.onmouseup=t=="fullscreen"?function(n){n.stopPropagation();u.jwSetFullscreen(!u.jwGetFullscreen())}:function(n){n.stopPropagation();_utils.exists(i)?u[t](i):u[t]()})}}function ui(n){if(!p){var t=f[n+"Slider"];_css(f.elements,{cursor:"pointer"});_css(t,{cursor:"pointer"});t.onmousedown=function(){y=n};t.onmouseup=function(n){n.stopPropagation();ki(n.pageX)};t.onmousemove=function(t){if(y=="time"){it=!0;var i=t.pageX-l[n+"Slider"].left-window.pageXOffset;_css(f[y+"SliderThumb"],{left:i})}}}}function ki(t){var f,i,r;it=!1;y=="time"?(f=t-l.timeSliderRail.left+window.pageXOffset,i=f/l.timeSliderRail.width*h,i<0?i=0:i>h&&(i=h-3),(u.jwGetState()==n.api.events.state.PAUSED||u.jwGetState()==n.api.events.state.IDLE)&&u.jwPlay(),u.jwSeek(i)):y=="volume"&&(f=t-l.volumeSliderRail.left-window.pageXOffset,r=Math.round(f/l.volumeSliderRail.width*100),r<10?r=0:r>100&&(r=100),u.jwGetMute()&&u.jwSetMute(!1),u.jwSetVolume(r));y="none"}function g(n){if(_utils.exists(n.bufferPercent)&&(nt=n.bufferPercent),l.timeSliderRail){var t=u.skin.getSkinElement("controlbar","timeSliderCapLeft"),i=l.timeSliderRail.width,r=isNaN(Math.round(i*nt/100))?0:Math.round(i*nt/100);_css(f.timeSliderBuffer,{width:r,left:t?t.width:0})}}function fi(n){n.mute?(_hide(f.muteButton),_show(f.unmuteButton),_hide(f.volumeSliderProgress)):(_show(f.muteButton),_hide(f.unmuteButton),_show(f.volumeSliderProgress))}function ei(t){t.newstate==n.api.events.state.BUFFERING||t.newstate==n.api.events.state.PLAYING?(_show(f.pauseButton),_hide(f.playButton)):(_hide(f.pauseButton),_show(f.playButton));ht();t.newstate==n.api.events.state.IDLE?(_hide(f.timeSliderBuffer),_hide(f.timeSliderProgress),_hide(f.timeSliderThumb),b({id:u.id,duration:u.jwGetDuration(),position:0})):(_show(f.timeSliderBuffer),t.newstate!=n.api.events.state.BUFFERING&&(_show(f.timeSliderProgress),_show(f.timeSliderThumb)))}function di(n){g({bufferPercent:0});b(_utils.extend(n,{position:0,duration:h}))}function b(n){var t,o,i,e;if(_utils.exists(n.position)&&(k=n.position),t=!1,_utils.exists(n.duration)&&n.duration!=h&&(h=n.duration,t=!0),o=k/h,i=l.timeSliderRail,i){var s=isNaN(Math.round(i.width*o))?0:Math.round(i.width*o),r=u.skin.getSkinElement("controlbar","timeSliderCapLeft"),c=s+(r?r.width:0);f.timeSliderProgress&&(_css(f.timeSliderProgress,{width:s,left:r?r.width:0}),it||f.timeSliderThumb&&(f.timeSliderThumb.style.left=c+"px"))}f.durationText&&(f.durationText.innerHTML=_utils.timeFormat(h));f.elapsedText&&(e=_utils.timeFormat(k),f.elapsedText.innerHTML=e,rt!=e.length&&(t=!0,rt=e.length));t&&vt()}function oi(){for(var n,t,e=f.elements.childNodes,r,i,u=0;u<e.length;u++){n=e[u].childNodes;for(t in n)isNaN(parseInt(t,10))||(n[t].id.indexOf(o.id+"_divider")===0&&i&&i.id.indexOf(o.id+"_divider")===0&&n[t].style.backgroundImage==i.style.backgroundImage?n[t].style.display="none":n[t].id.indexOf(o.id+"_divider")===0&&r&&r.style.display!="none"&&(n[t].style.display="block"),n[t].style.display!="none"&&(i=n[t]),r=n[t])}}function gi(){u.jwGetFullscreen()?(_show(f.normalscreenButton),_hide(f.fullscreenButton)):(_hide(f.normalscreenButton),_show(f.fullscreenButton));u.jwGetState()==n.api.events.state.BUFFERING||u.jwGetState()==n.api.events.state.PLAYING?(_show(f.pauseButton),_hide(f.playButton)):(_hide(f.pauseButton),_show(f.playButton));u.jwGetMute()==!0?(_hide(f.muteButton),_show(f.unmuteButton),_hide(f.volumeSliderProgress)):(_show(f.muteButton),_hide(f.unmuteButton),_show(f.volumeSliderProgress))}function vt(){var t,i,r,s;oi();gi();t={width:bt};i={float:"left",styleFloat:"left",cssFloat:"left"};(e.position==n.html5.view.positions.OVER||u.jwGetFullscreen())&&(t.left=e.margin,t.width-=2*e.margin,t.top=kt-c().height-e.margin,t.height=c().height);r=u.skin.getSkinElement("controlbar","capLeft");s=u.skin.getSkinElement("controlbar","capRight");i.width=t.width-(r?r.width:0)-(s?s.width:0);var y=_utils.getBoundingClientRect(f.leftGroup).width,p=_utils.getBoundingClientRect(f.rightGroup).width,l=i.width-y-p-1,h=l,a=u.skin.getSkinElement("controlbar","timeSliderCapLeft"),v=u.skin.getSkinElement("controlbar","timeSliderCapRight");return _utils.exists(a)&&(h-=a.width),_utils.exists(v)&&(h-=v.width),f.timeSlider.style.width=l+"px",f.timeSliderRail.style.width=h+"px",_css(o,t),_css(f.elements,i),_css(f.background,i),ni(),t}function si(n){var t;if(_utils.exists(f.volumeSliderRail)){var r=isNaN(n.volume/100)?1:n.volume/100,i=_utils.parseDimension(f.volumeSliderRail.style.width),e=isNaN(Math.round(i*r))?0:Math.round(i*r),s=_utils.parseDimension(f.volumeSliderRail.style.right),o=_utils.exists(u.skin.getSkinElement("controlbar","volumeSliderCapLeft"))?u.skin.getSkinElement("controlbar","volumeSliderCapLeft").width:0;_css(f.volumeSliderProgress,{width:e,left:o});f.volumeSliderThumb&&(t=e-Math.round(_utils.parseDimension(f.volumeSliderThumb.style.width)/2),t=Math.min(Math.max(t,0),i-_utils.parseDimension(f.volumeSliderThumb.style.width)),_css(f.volumeSliderThumb,{left:t}));_utils.exists(f.volumeSliderCapLeft)&&_css(f.volumeSliderCapLeft,{left:0})}}function hi(){try{var n=u.id.indexOf("_instream")>0?u.id.replace("_instream",""):u.id;dt=document.getElementById(n);dt.addEventListener("mousemove",ht)}catch(t){_utils.log("Could not add mouse listeners to controlbar: "+t)}}function nr(){ci();ai();ni();p=!0;pi();e.idlehide=e.idlehide.toString().toLowerCase()=="true";e.position==n.html5.view.positions.OVER&&e.idlehide?(o.style.opacity=0,et=!0):(o.style.opacity=1,setTimeout(function(){et=!0;tt()},1));hi();ri()}var u,e,st,tt,lt;if(window.controlbar=this,u=i,e=_utils.extend({},t,u.skin.getComponentSettings("controlbar"),r),e.position!=n.html5.view.positions.NONE&&typeof n.html5.view.positions[e.position]!="undefined"){_utils.mapLength(u.skin.getComponentLayout("controlbar"))>0&&(e.layout=u.skin.getComponentLayout("controlbar"));var o,yt,pt,wt,y="none",it,k,h,nt,bt,kt,f={},p=!1,l={},rt=-1,d,v=!1,ut,ft,et=!1,ot=!1,dt,gt=new n.html5.eventdispatcher;return _utils.extend(this,gt),this.getDisplayElement=function(){return o},this.resize=function(n,t){hi();_utils.cancelAnimation(o);bt=n;kt=t;ot!=u.jwGetFullscreen()&&(ot=u.jwGetFullscreen(),ot||ht(),ft=undefined);var i=vt();return b({id:u.id,duration:h,position:k}),g({id:u.id,bufferPercent:nt}),i},this.show=function(){v&&(v=!1,_show(o),tt())},this.hide=function(){v||(v=!0,_hide(o),lt())},tt=ii(n.api.events.JWPLAYER_COMPONENT_SHOW),lt=ii(n.api.events.JWPLAYER_COMPONENT_HIDE),nr(),this}}}(jwplayer),function(n){var t=n.utils;n.html5.controller=function(r,u,f,e){function ct(n){b?s.sendEvent(n.type,n):g.push(n)}function lt(t){var i,r;if(!b){for(b=!0,s.sendEvent(n.api.events.JWPLAYER_READY,t),n.utils.exists(window.playerReady)&&playerReady(t),n.utils.exists(window[f.config.playerReady])&&window[f.config.playerReady](t);g.length>0;)i=g.shift(),s.sendEvent(i.type,i);for(f.config.autostart&&!n.utils.isIOS()&&ft();k.length>0;)r=k.shift(),ot(r.method,r.arguments)}}function a(){try{if(v=a,!l&&(l=!0,s.sendEvent(n.api.events.JWPLAYER_MEDIA_BEFOREPLAY),l=!1,w)){w=!1;v=null;return}return h(o.item),o.playlist[o.item].levels[0].file.length>0&&(d||o.state==n.api.events.state.IDLE?(o.getMedia().load(o.playlist[o.item]),d=!1):o.state==n.api.events.state.PAUSED&&o.getMedia().play()),!0}catch(t){s.sendEvent(n.api.events.JWPLAYER_ERROR,t);v=null}return!1}function at(){try{if(o.playlist[o.item].levels[0].file.length>0)switch(o.state){case n.api.events.state.PLAYING:case n.api.events.state.BUFFERING:o.getMedia()&&o.getMedia().pause();break;default:l&&(w=!0)}return!0}catch(t){s.sendEvent(n.api.events.JWPLAYER_ERROR,t)}return!1}function vt(t){try{if(o.playlist[o.item].levels[0].file.length>0){typeof t!="number"&&(t=parseFloat(t));switch(o.state){case n.api.events.state.IDLE:p<0&&(p=o.playlist[o.item].start,o.playlist[o.item].start=t);l||a();break;case n.api.events.state.PLAYING:case n.api.events.state.PAUSED:case n.api.events.state.BUFFERING:o.seek(t)}}return!0}catch(i){s.sendEvent(n.api.events.JWPLAYER_ERROR,i)}return!1}function y(i){v=null;t.exists(i)||(i=!0);try{return(o.state!=n.api.events.state.IDLE||i)&&o.getMedia()&&o.getMedia().stop(i),l&&(w=!0),!0}catch(r){s.sendEvent(n.api.events.JWPLAYER_ERROR,r)}return!1}function nt(){try{if(o.playlist[o.item].levels[0].file.length>0&&(o.config.shuffle?h(it()):o.item+1==o.playlist.length?h(0):h(o.item+1)),o.state!=n.api.events.state.IDLE){var t=o.state;o.state=n.api.events.state.IDLE;s.sendEvent(n.api.events.JWPLAYER_PLAYER_STATE,{oldstate:t,newstate:n.api.events.state.IDLE})}return a(),!0}catch(i){s.sendEvent(n.api.events.JWPLAYER_ERROR,i)}return!1}function yt(){try{if(o.playlist[o.item].levels[0].file.length>0&&(o.config.shuffle?h(it()):o.item===0?h(o.playlist.length-1):h(o.item-1)),o.state!=n.api.events.state.IDLE){var t=o.state;o.state=n.api.events.state.IDLE;s.sendEvent(n.api.events.JWPLAYER_PLAYER_STATE,{oldstate:t,newstate:n.api.events.state.IDLE})}return a(),!0}catch(i){s.sendEvent(n.api.events.JWPLAYER_ERROR,i)}return!1}function it(){var n=null;if(o.playlist.length>1)while(!t.exists(n))n=Math.floor(Math.random()*o.playlist.length),n==o.item&&(n=null);else n=0;return n}function rt(t){if(!o.playlist||!o.playlist[t])return!1;try{if(o.playlist[t].levels[0].file.length>0){var i=o.state;i!==n.api.events.state.IDLE&&(o.playlist[o.item]&&o.playlist[o.item].provider==o.playlist[t].provider?y(!1):y());h(t);a()}return!0}catch(r){s.sendEvent(n.api.events.JWPLAYER_ERROR,r)}return!1}function h(t){o.playlist[t]&&(o.setActiveMediaProvider(o.playlist[t]),o.item!=t&&(o.item=t,d=!0,s.sendEvent(n.api.events.JWPLAYER_PLAYLIST_ITEM,{index:t})))}function pt(t){try{h(o.item);var i=o.getMedia();switch(typeof t){case"number":i.volume(t);break;case"string":i.volume(parseInt(t,10))}return o.setVolume(t),!0}catch(r){s.sendEvent(n.api.events.JWPLAYER_ERROR,r)}return!1}function wt(t){try{h(o.item);var i=o.getMedia();return typeof t=="undefined"?(i.mute(!o.mute),o.setMute(!o.mute)):t.toString().toLowerCase()=="true"?(i.mute(!0),o.setMute(!0)):(i.mute(!1),o.setMute(!1)),!0}catch(r){s.sendEvent(n.api.events.JWPLAYER_ERROR,r)}return!1}function bt(t,i){try{return o.width=t,o.height=i,tt.resize(t,i),s.sendEvent(n.api.events.JWPLAYER_RESIZE,{width:o.width,height:o.height}),!0}catch(r){s.sendEvent(n.api.events.JWPLAYER_ERROR,r)}return!1}function ut(t,i){try{return typeof t=="undefined"&&(t=!o.fullscreen),typeof i=="undefined"&&(i=!0),t!=o.fullscreen&&(o.fullscreen=t.toString().toLowerCase()=="true",tt.fullscreen(o.fullscreen),i&&s.sendEvent(n.api.events.JWPLAYER_FULLSCREEN,{fullscreen:o.fullscreen}),s.sendEvent(n.api.events.JWPLAYER_RESIZE,{width:o.width,height:o.height})),!0}catch(r){s.sendEvent(n.api.events.JWPLAYER_ERROR,r)}return!1}function kt(i){try{return y(),l&&(w=!1),o.loadPlaylist(i),o.playlist[o.item].provider?(h(o.item),o.config.autostart.toString().toLowerCase()!="true"||t.isIOS()||l||a(),!0):!1}catch(r){s.sendEvent(n.api.events.JWPLAYER_ERROR,r)}return!1}function ft(){t.isIOS()||(h(o.item),o.config.autostart.toString().toLowerCase()!="true"||t.isIOS()||a())}function dt(n){ut(n.fullscreen,!1)}function gt(){try{return o.getMedia().detachMedia()}catch(n){return null}}function ni(){try{var n=o.getMedia().attachMedia();typeof v=="function"&&v()}catch(t){return null}}function et(){if(o.state==n.api.events.state.IDLE){v=et;switch(o.config.repeat.toUpperCase()){case n.html5.controller.repeatoptions.SINGLE:a();break;case n.html5.controller.repeatoptions.ALWAYS:o.item!=o.playlist.length-1||o.config.shuffle?nt():rt(0);break;case n.html5.controller.repeatoptions.LIST:o.item!=o.playlist.length-1||o.config.shuffle?nt():(y(),h(0));break;default:y()}}}function c(n){return function(){b?ot(n,arguments):k.push({method:n,arguments:arguments})}}function ot(n,t){var r=[];for(i=0;i<t.length;i++)r.push(t[i]);n.apply(this,r)}var ti=r,o=f,tt=e,st=u,d=!0,p=-1,l=!1,w=!1,v,g=[],b=!1,ht=t.exists(o.config.debug)&&o.config.debug.toString().toLowerCase()=="console",s=new n.html5.eventdispatcher(st.id,ht),k;t.extend(this,s);o.addGlobalListener(ct);o.addEventListener(n.api.events.JWPLAYER_MEDIA_BUFFER_FULL,function(){o.getMedia().play()});o.addEventListener(n.api.events.JWPLAYER_MEDIA_TIME,function(n){n.position>=o.playlist[o.item].start&&p>=0&&(o.playlist[o.item].start=p,p=-1)});o.addEventListener(n.api.events.JWPLAYER_MEDIA_COMPLETE,function(){setTimeout(et,25)});o.addEventListener(n.api.events.JWPLAYER_PLAYLIST_LOADED,ft);o.addEventListener(n.api.events.JWPLAYER_FULLSCREEN,dt);n.html5.controller.repeatoptions={LIST:"LIST",ALWAYS:"ALWAYS",SINGLE:"SINGLE",NONE:"NONE"};k=[];this.play=c(a);this.pause=c(at);this.seek=c(vt);this.stop=c(y);this.next=c(nt);this.prev=c(yt);this.item=c(rt);this.setVolume=c(pt);this.setMute=c(wt);this.resize=c(bt);this.setFullscreen=c(ut);this.load=c(kt);this.playerReady=lt;this.detachMedia=gt;this.attachMedia=ni;this.beforePlay=function(){return l};this.destroy=function(){o.getMedia()&&o.getMedia().destroy()}}}(jwplayer),function(n){n.html5.defaultSkin=function(){return this.text='<?xml version="1.0" ?><skin author="LongTail Video" name="Five" version="1.1"><components><component name="controlbar"><settings><setting name="margin" value="20"/><setting name="fontsize" value="11"/><setting name="fontcolor" value="0x000000"/><\/settings><layout><group position="left"><button name="play"/><divider name="divider"/><button name="prev"/><divider name="divider"/><button name="next"/><divider name="divider"/><text name="elapsed"/><\/group><group position="center"><slider name="time"/><\/group><group position="right"><text name="duration"/><divider name="divider"/><button name="blank"/><divider name="divider"/><button name="mute"/><slider name="volume"/><divider name="divider"/><button name="fullscreen"/><\/group><\/layout><elements><element name="background" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAIAAABvFaqvAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAElJREFUOI3t1LERACAMQlFgGvcfxNIhHMK4gsUvUviOmgtNsiAZkBSEKxKEnCYkkQrJn/YwbUNiSDDYRZaQRDaShv+oX9GBZEIuK+8hXVLs+/YAAAAASUVORK5CYII="/><element name="blankButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAYCAYAAAAyJzegAAAAFElEQVQYV2P8//8/AzpgHBUc7oIAGZdH0RjKN8EAAAAASUVORK5CYII="/><element name="capLeft" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAYCAYAAAA7zJfaAAAAQElEQVQIWz3LsRGAMADDQJ0XB5bMINABZ9GENGrszxhjT2WLSqxEJG2JQrTMdV2q5LpOAvyRaVmsi7WdeZ/7+AAaOTq7BVrfOQAAAABJRU5ErkJggg=="/><element name="capRight" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAYCAYAAAA7zJfaAAAAQElEQVQIWz3LsRGAMADDQJ0XB5bMINABZ9GENGrszxhjT2WLSqxEJG2JQrTMdV2q5LpOAvyRaVmsi7WdeZ/7+AAaOTq7BVrfOQAAAABJRU5ErkJggg=="/><element name="divider" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAYCAIAAAC0rgCNAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADhJREFUCB0FwcENgEAAw7Aq+893g8APUILNOQcbFRktVGqUVFRkWNz3xTa2sUaLNUosKlRUvvf5AdbWOTtzmzyWAAAAAElFTkSuQmCC"/><element name="playButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAYCAYAAAAVibZIAAAANUlEQVR42u2RsQkAAAjD/NTTPaW6dXLrINJA1kBpGPMAjDWmOgp1HFQXx+b1KOefO4oxY57R73YnVYCQUCQAAAAASUVORK5CYII="/><element name="pauseButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAYCAYAAAAVibZIAAAAIUlEQVQ4jWNgGAWjYOiD/0gYG3/U0FFDB4Oho2AUDAYAAEwiL9HrpdMVAAAAAElFTkSuQmCC"/><element name="prevButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAYCAYAAAAVibZIAAAAQklEQVQ4y2NgGAWjYOiD/1AMA/JAfB5NjCJD/YH4PRaLyDa0H4lNNUP/DxlD59PCUBCIp3ZEwYA+NZLUKBgFgwEAAN+HLX9sB8u8AAAAAElFTkSuQmCC"/><element name="nextButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAYCAYAAAAVibZIAAAAQElEQVQ4y2NgGAWjYOiD/0B8Hojl0cT+U2ooCL8HYn9qGwrD/bQw9P+QMXQ+tSMqnpoRBUpS+tRMUqNgFAwGAADxZy1/mHvFnAAAAABJRU5ErkJggg=="/><element name="timeSliderRail" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAOElEQVRIDe3BwQkAIRADwAhhw/nU/kWwUK+KPITMABFh19Y+F0acY8CJvX9wYpXgRElwolSIiMf9ZWEDhtwurFsAAAAASUVORK5CYII="/><element name="timeSliderBuffer" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAN0lEQVRIDe3BwQkAMQwDMBcc55mRe9zi7RR+FCwBEWG39vcfGHFm4MTuhhMlwYlVBSdKhYh43AW/LQMKm1spzwAAAABJRU5ErkJggg=="/><element name="timeSliderProgress" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAIElEQVRIiWNgGAWjYBTQBfynMR61YCRYMApGwSigMQAAiVWPcbq6UkIAAAAASUVORK5CYII="/><element name="timeSliderThumb" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAYCAYAAAA/OUfnAAAAO0lEQVQYlWP4//8/Awwz0JgDBP/BeN6Cxf/hnI2btiI4u/fsQ3AOHjqK4Jw4eQbBOX/hEoKDYjSd/AMA4cS4mfLsorgAAAAASUVORK5CYII="/><element name="muteButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAYCAYAAADKx8xXAAAAJklEQVQ4y2NgGAUjDcwH4v/kaPxPikZkxcNVI9mBQ5XoGAWDFwAAsKAXKQQmfbUAAAAASUVORK5CYII="/><element name="unmuteButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAYCAYAAADKx8xXAAAAMklEQVQ4y2NgGAWDHPyntub5xBr6Hwv/Pzk2/yfVG/8psRFE25Oq8T+tQnsIaB4FVAcAi2YVysVY52AAAAAASUVORK5CYII="/><element name="volumeSliderRail" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYAgMAAACdGdVrAAAACVBMVEUAAACmpqampqbBXAu8AAAAAnRSTlMAgJsrThgAAAArSURBVAhbY2AgErBAyA4I2QEhOyBkB4TsYOhAoaCCUCUwDTDtMMNgRuMHAFB5FoGH5T0UAAAAAElFTkSuQmCC"/><element name="volumeSliderProgress" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYAgMAAACdGdVrAAAACVBMVEUAAAAAAAAAAACDY+nAAAAAAnRSTlMAgJsrThgAAAArSURBVAhbY2AgErBAyA4I2QEhOyBkB4TsYOhAoaCCUCUwDTDtMMNgRuMHAFB5FoGH5T0UAAAAAElFTkSuQmCC"/><element name="volumeSliderCapRight" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAYCAYAAAAyJzegAAAAFElEQVQYV2P8//8/AzpgHBUc7oIAGZdH0RjKN8EAAAAASUVORK5CYII="/><element name="fullscreenButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAQklEQVRIiWNgGAWjYMiD/0iYFDmSLbDHImdPLQtgBpEiR7Zl2NijAA5oEkT/0Whi5UiyAJ8BVMsHNMtoo2AUDAIAAGdcIN3IDNXoAAAAAElFTkSuQmCC"/><element name="normalscreenButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAP0lEQVRIx2NgGAWjYMiD/1RSQ5QB/wmIUWzJfzx8qhj+n4DYCAY0DyJ7PBbYU8sHMEvwiZFtODXUjIJRMJgBACpWIN2ZxdPTAAAAAElFTkSuQmCC"/><\/elements><\/component><component name="display"><elements><element name="background" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyAQMAAAAk8RryAAAABlBMVEUAAAAAAAClZ7nPAAAAAnRSTlOZpuml+rYAAAASSURBVBhXY2AYJuA/GBwY6jQAyDyoK8QcL4QAAAAASUVORK5CYII="/><element name="playIcon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAiUlEQVR42u3XSw2AMBREURwgAQlIQAISKgUpSEFKJeCg5b0E0kWBTVcD9ySTsL0Jn9IBAAAA+K2UUrBlW/Rr5ZDoIeeuoFkxJD9ss03aIXXQqB9SttoG7ZA6qNcOKdttiwcJh9RB+iFl4SshkRBuLR72+9cvH0SOKI2HRo7x/Fi1/uoCAAAAwLsD8ki99IlO2dQAAAAASUVORK5CYII="/><element name="muteIcon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAVUlEQVR42u3WMQrAIAxAUW/g/SdvGmvpoOBeSHgPsjj5QTANAACARCJilIhYM0tEvJM+Ik3Id9E957kQIb+F3OdCPC0hPkQriqWx9hp/x/QGAABQyAPLB22VGrpLDgAAAABJRU5ErkJggg=="/><element name="errorIcon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAA/0lEQVR42u2U0QmEMBAF7cASLMESUoIlpARLSCkpwRJSgiWkhOvAXD4WsgRkyaG5DbyB+Yvg8KITAAAAAAAYk+u61mwk15EjPtlEfihmqIiZR1Qx80ghjgdUuiHXGHSVsoag0x6x8DUoyjD5KovmEJ9NTDMRPIT0mtdIUkjlonuNohO+Ha99DTmkuGgKCTcvebAzx82ZoCWC3/3aIMWSRucaxcjORSFY4xpFdjYJGp1rFGcyCYZ/RVh6AUnfcNZ2zih3/mGj1jVCdiNDwyrq1rA/xMdeEXvDVdnYc1vDc3uPkDObXrlaxbNHSOohQhr/WOeLEWfWTgAAAAAAADzNF9sHJ7PJ57MlAAAAAElFTkSuQmCC"/><element name="bufferIcon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAACBklEQVR42u3Zv0sCYRzH8USTzOsHHEWGkC1HgaDgkktGDjUYtDQ01RDSljQ1BLU02+rk1NTm2NLq4Nx/0L/h9fnCd3j4cnZe1/U8xiO8h3uurufF0/3COd/3/0UWYiEWYiEWYiGJQ+J8xuPxKhXjEMZANinjIZhkGuVRNioE4wVURo4JkHm0xKWmhRAc1bh1EyCUw5BcBIjHiApKa4CErko6DEJwuRo6IRKzyJD8FJAyI3Zp2zRImiBcRhlfo5RtlxCcE3CcDNpGrhYIT2IhAJKilO0VRmzJ32fAMTpBTS0QMfGwlcuKMRftE0DJ0wCJdcOsCkBdXP3Mh9CEFUBTPS9mDZJBG6io4aqVzMdCokCw9H3kT6j/C/9iDdSeUMNC7DkyyxAs/Rk6Qss8FPWRZgdVtUH4DjxEn1zxh+/zj1wHlf4MQhNGrwqA6sY40U8JonRJwEQh+AO3AvCG6gHv4U7IY4krxkroWoAOkoQMGfCBrgIm+YBGqPENpIJ66CJg3x66Y0gnSUidAEEnNr9jjLiWMn5DiWP0OC/oAsCgkq43xBdGDMQr7YASP/vEkHvdl1+JOCcEV5sC4hGEOzTlPuKgd0b0xD4JkRcOgnRRTjdErkYhAsQVq6IdUuPJtmk7BCL3t/h88cx91pKQkI/pkDx6pmYTIjEoxiHsN1YWYiEWYiEWknhflZ5IErA5nr8AAAAASUVORK5CYII="/><\/elements><\/component><component name="dock"><settings><setting name="fontcolor" value="0xffffff"/><\/settings><elements><element name="button" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyAQMAAAAk8RryAAAABlBMVEUAAAAAAAClZ7nPAAAAAnRSTlOZpuml+rYAAAASSURBVBhXY2AYJuA/GBwY6jQAyDyoK8QcL4QAAAAASUVORK5CYII="/><\/elements><\/component><component name="playlist"><settings><setting name="backgroundcolor" value="0xe8e8e8"/><\/settings><elements><element name="item" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAIAAAC1nk4lAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAHBJREFUaN7t2MENwCAMBEEe9N8wSKYC/D8YV7CyJoRkVtVImxkZPQInMxoP0XiIxkM0HsGbjjSNBx544IEHHnjggUe/6UQeey0PIh7XTftGxKPj4eXCtLsHHh+ZxkO0Iw8PR55Ni8ZD9Hu/EAoP0dc5RRg9qeRjVF8AAAAASUVORK5CYII="/><element name="sliderCapTop" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAHCAYAAADnCQYGAAAAFUlEQVQokWP8//8/A7UB46ihI9hQAKt6FPPXhVGHAAAAAElFTkSuQmCC"/><element name="sliderRail" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAUCAYAAABiS3YzAAAAKElEQVQ4y2P4//8/Az68bNmy/+iYkB6GUUNHDR01dNTQUUNHDaXcUABUDOKhcxnsSwAAAABJRU5ErkJggg=="/><element name="sliderThumb" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAUCAYAAABiS3YzAAAAJUlEQVQ4T2P4//8/Ay4MBP9xYbz6Rg0dNXTU0FFDRw0dNZRyQwHH4NBa7GJsXAAAAABJRU5ErkJggg=="/><element name="sliderCapBottom" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAHCAYAAADnCQYGAAAAFUlEQVQokWP8//8/A7UB46ihI9hQAKt6FPPXhVGHAAAAAElFTkSuQmCC"/><\/elements><\/component><\/components><\/skin>',this.xml=null,window.DOMParser?(parser=new DOMParser,this.xml=parser.parseFromString(this.text,"text/xml")):(this.xml=new ActiveXObject("Microsoft.XMLDOM"),this.xml.async="false",this.xml.loadXML(this.text)),this}}(jwplayer),function(n){_utils=n.utils;_css=_utils.css;_hide=function(n){_css(n,{display:"none"})};_show=function(n){_css(n,{display:"block"})};n.html5.display=function(t,i){function dt(){u.display=h("div","display");u.display_text=h("div","display_text");u.display.appendChild(u.display_text);u.display_image=h("img","display_image");u.display_image.onerror=function(){_hide(u.display_image)};u.display_image.onload=gt;u.display_icon=h("div","display_icon");u.display_iconBackground=h("div","display_iconBackground");u.display.appendChild(u.display_image);u.display_iconBackground.appendChild(u.display_icon);u.display.appendChild(u.display_iconBackground);ni();setTimeout(function(){ct=!0;l.icons.toString()=="true"&&g()},1)}function gt(){nt=u.display_image.naturalWidth;tt=u.display_image.naturalHeight;yt();(r.jwGetState()==n.api.events.state.IDLE||r.jwGetPlaylist()[r.jwGetPlaylistIndex()].provider=="sound")&&(_css(u.display_image,{display:"block",opacity:0}),_utils.fadeTo(u.display_image,1,.1));ft=!1}function yt(){if(r.jwGetFullscreen()&&r.jwGetStretching()==n.utils.stretching.EXACTFIT){var t=document.createElement("div");_utils.stretch(n.utils.stretching.UNIFORM,t,e,f,lt,at);_utils.stretch(n.utils.stretching.EXACTFIT,u.display_image,_utils.parseDimension(t.style.width),_utils.parseDimension(t.style.height),nt,tt);_css(u.display_image,{left:t.style.left,top:t.style.top})}else _utils.stretch(r.jwGetStretching(),u.display_image,e,f,nt,tt)}function h(n,t){var i=document.createElement(n);return i.id=r.id+"_jwplayer_"+t,_css(i,w[t].style),i}function ni(){for(var n in u)_utils.exists(w[n].click)&&(u[n].onclick=w[n].click)}function ti(t){if(typeof t.preventDefault!="undefined"?t.preventDefault():t.returnValue=!1,typeof p=="function"){p(t);return}r.jwGetState()!=n.api.events.state.PLAYING?r.jwPlay():r.jwPause()}function b(n){if(v){c();return}u.display_icon.style.backgroundImage=["url(",r.skin.getSkinElement("display",n).src,")"].join("");_css(u.display_icon,{width:r.skin.getSkinElement("display",n).width,height:r.skin.getSkinElement("display",n).height,top:(r.skin.getSkinElement("display","background").height-r.skin.getSkinElement("display",n).height)/2,left:(r.skin.getSkinElement("display","background").width-r.skin.getSkinElement("display",n).width)/2});ii();_utils.exists(r.skin.getSkinElement("display",n+"Over"))?(u.display_icon.onmouseover=function(){u.display_icon.style.backgroundImage=["url(",r.skin.getSkinElement("display",n+"Over").src,")"].join("")},u.display_icon.onmouseout=function(){u.display_icon.style.backgroundImage=["url(",r.skin.getSkinElement("display",n).src,")"].join("")}):(u.display_icon.onmouseover=null,u.display_icon.onmouseout=null)}function c(){l.icons.toString()=="true"&&(_hide(u.display_icon),_hide(u.display_iconBackground),wt())}function ii(){s||l.icons.toString()!="true"||(_show(u.display_icon),_show(u.display_iconBackground),g())}function ri(n){v=!0;c();u.display_text.innerHTML=n.message;_show(u.display_text);u.display_text.style.top=(f-_utils.getBoundingClientRect(u.display_text).height)/2+"px"}function k(){et=!1;u.display_image.style.display="none"}function ui(){rt=""}function d(t){(t.type==n.api.events.JWPLAYER_PLAYER_STATE||t.type==n.api.events.JWPLAYER_PLAYLIST_ITEM)&&v&&(v=!1,_hide(u.display_text));var i=r.jwGetState();i!=rt&&(rt=i,y>=0&&clearTimeout(y),o||r.jwGetState()==n.api.events.state.PLAYING||r.jwGetState()==n.api.events.state.PAUSED?ot(r.jwGetState()):y=setTimeout(fi(r.jwGetState()),500))}function fi(n){return function(){ot(n)}}function ot(t){_utils.exists(a)&&(clearInterval(a),a=null,_utils.animations.rotate(u.display_icon,0));switch(t){case n.api.events.state.BUFFERING:_utils.isIPod()?(k(),c()):(r.jwGetPlaylist()[r.jwGetPlaylistIndex()].provider=="sound"&&st(),it=0,a=setInterval(function(){it+=bt;_utils.animations.rotate(u.display_icon,it%360)},kt),b("bufferIcon"),o=!0);break;case n.api.events.state.PAUSED:_utils.isIPod()||(r.jwGetPlaylist()[r.jwGetPlaylistIndex()].provider!="sound"&&_css(u.display_image,{background:"transparent no-repeat center center"}),b("playIcon"),o=!0);break;case n.api.events.state.IDLE:r.jwGetPlaylist()[r.jwGetPlaylistIndex()]&&r.jwGetPlaylist()[r.jwGetPlaylistIndex()].image?st():k();b("playIcon");o=!0;break;default:r.jwGetPlaylist()[r.jwGetPlaylistIndex()]&&r.jwGetPlaylist()[r.jwGetPlaylistIndex()].provider=="sound"?_utils.isIPod()?(k(),o=!1):st():(k(),o=!1);r.jwGetMute()&&l.showmute?b("muteIcon"):c()}y=-1}function st(){if(r.jwGetPlaylist()[r.jwGetPlaylistIndex()]){var n=r.jwGetPlaylist()[r.jwGetPlaylistIndex()].image;n&&(n!=ht?(ht=n,ft=!0,u.display_image.src=_utils.getAbsolutePath(n)):ft||et||(et=!0,u.display_image.style.opacity=0,u.display_image.style.display="block",_utils.fadeTo(u.display_image,1,.1)))}}function pt(n){return function(){ct&&(s||ut==n||(ut=n,vt.sendEvent(n,{component:"display",boundingRect:_utils.getDimensions(u.display_iconBackground)})))}}var l=_utils.extend({},{icons:!0,showmute:!1},i),r=t,u={},e,f,nt,tt,it,a,v,bt=_utils.exists(r.skin.getComponentSettings("display").bufferrotation)?parseInt(r.skin.getComponentSettings("display").bufferrotation,10):15,kt=_utils.exists(r.skin.getComponentSettings("display").bufferinterval)?parseInt(r.skin.getComponentSettings("display").bufferinterval,10):100,y=-1,rt=n.api.events.state.IDLE,o=!0,ut,ft=!1,et=!0,ht="",s=!1,ct=!1,p,lt,at,vt=new n.html5.eventdispatcher,w,g,wt;return _utils.extend(this,vt),w={display:{style:{cursor:"pointer",top:0,left:0,overflow:"hidden"},click:ti},display_icon:{style:{cursor:"pointer",position:"absolute",top:(r.skin.getSkinElement("display","background").height-r.skin.getSkinElement("display","playIcon").height)/2,left:(r.skin.getSkinElement("display","background").width-r.skin.getSkinElement("display","playIcon").width)/2,border:0,margin:0,padding:0,zIndex:3,display:"none"}},display_iconBackground:{style:{cursor:"pointer",position:"absolute",top:(f-r.skin.getSkinElement("display","background").height)/2,left:(e-r.skin.getSkinElement("display","background").width)/2,border:0,backgroundImage:["url(",r.skin.getSkinElement("display","background").src,")"].join(""),width:r.skin.getSkinElement("display","background").width,height:r.skin.getSkinElement("display","background").height,margin:0,padding:0,zIndex:2,display:"none"}},display_image:{style:{display:"none",width:e,height:f,position:"absolute",cursor:"pointer",left:0,top:0,margin:0,padding:0,textDecoration:"none",zIndex:1}},display_text:{style:{zIndex:4,position:"relative",opacity:.8,backgroundColor:parseInt("000000",16),color:parseInt("ffffff",16),textAlign:"center",fontFamily:"Arial,sans-serif",padding:"0 5px",fontSize:14}}},r.jwAddEventListener(n.api.events.JWPLAYER_PLAYER_STATE,d),r.jwAddEventListener(n.api.events.JWPLAYER_MEDIA_MUTE,d),r.jwAddEventListener(n.api.events.JWPLAYER_PLAYLIST_LOADED,ui),r.jwAddEventListener(n.api.events.JWPLAYER_PLAYLIST_ITEM,d),r.jwAddEventListener(n.api.events.JWPLAYER_ERROR,ri),dt(),this.getDisplayElement=function(){return u.display},this.resize=function(n,t){r.jwGetFullscreen()&&_utils.isMobile()||(_css(u.display,{width:n,height:t}),_css(u.display_text,{width:n-10,top:(t-_utils.getBoundingClientRect(u.display_text).height)/2}),_css(u.display_iconBackground,{top:(t-r.skin.getSkinElement("display","background").height)/2,left:(n-r.skin.getSkinElement("display","background").width)/2}),(e!=n||f!=t)&&(e=n,f=t,ut=undefined,g()),r.jwGetFullscreen()||(lt=n,at=t),yt(),d({}))},this.show=function(){s&&(s=!1,ot(r.jwGetState()))},this.hide=function(){s||(c(),s=!0)},g=pt(n.api.events.JWPLAYER_COMPONENT_SHOW),wt=pt(n.api.events.JWPLAYER_COMPONENT_HIDE),this.setAlternateClickHandler=function(n){p=n},this.revertAlternateClickHandler=function(){p=undefined},this}}(jwplayer),function(n){var t=n.utils,i=t.css;n.html5.dock=function(r,u){function st(){return{align:n.html5.view.positions.RIGHT}}function h(n){return"url("+n+") no-repeat center center"}function rt(i,u){var k,b,y,p;if(ot(),s.length>0){var h=10,w=h,rt=-1,tt=r.skin.getSkinElement("dock","button").height,it=r.skin.getSkinElement("dock","button").width,ut=i-it-h,e,o;for(d.align==n.html5.view.positions.LEFT&&(rt=1,ut=h),k=0;k<s.length;k++)b=Math.floor(w/u),w+tt+h>(b+1)*u&&(w=(b+1)*u+h,b=Math.floor(w/u)),y=f[s[k]].div,y.style.top=w%u+"px",y.style.left=ut+(r.skin.getSkinElement("dock","button").width+h)*b*rt+"px",p={x:t.parseDimension(y.style.left),y:t.parseDimension(y.style.top),width:it,height:tt},(!e||p.x<=e.x&&p.y<=e.y)&&(e=p),(!o||p.x>=o.x&&p.y>=o.y)&&(o=p),y.style.width=it+"px",y.style.height=tt+"px",w+=r.skin.getSkinElement("dock","button").height+h;nt={x:e.x,y:e.y,width:o.x-e.x+o.width,height:e.y-o.y+o.height}}(g!=r.jwGetFullscreen()||l!=i||a!=u)&&(l=i,a=u,g=r.jwGetFullscreen(),v=undefined,setTimeout(c,1))}function ut(n){return function(){!o&&v!=n&&s.length>0&&(v=n,it.sendEvent(n,{component:"dock",boundingRect:nt}))}}function ht(i){t.isMobile()?i.newstate==n.api.events.state.IDLE?w():b():ft()}function ft(i){if(!o)if(clearTimeout(y),u.position==n.html5.view.positions.OVER||r.jwGetFullscreen())switch(r.jwGetState()){case n.api.events.state.PAUSED:case n.api.events.state.IDLE:e&&e.style.opacity<1&&(!u.idlehide||t.exists(i))&&k();u.idlehide&&(y=setTimeout(function(){et()},2e3));break;default:t.exists(i)&&k();y=setTimeout(function(){et()},2e3)}else k()}function et(){o||(p(),e.style.opacity==1&&(t.cancelAnimation(e),t.fadeTo(e,0,.1,1,0)))}function k(){o||(c(),e.style.opacity==0&&(t.cancelAnimation(e),t.fadeTo(e,1,.1,0,0)))}function ot(){try{tt=document.getElementById(r.id);tt.addEventListener("mousemove",ft)}catch(n){t.log("Could not add mouse listeners to dock: "+n)}}var d=t.extend({},st(),u),e,c,p,w,b;if(d.align!="FALSE"){var f={},s=[],l,a,o=!1,g=!1,nt={x:0,y:0,width:0,height:0},v,tt,y,it=new n.html5.eventdispatcher;return t.extend(this,it),e=document.createElement("div"),e.id=r.id+"_jwplayer_dock",e.style.opacity=1,ot(),r.jwAddEventListener(n.api.events.JWPLAYER_PLAYER_STATE,ht),this.getDisplayElement=function(){return e},this.setButton=function(i,u,o,c){!u&&f[i]?(t.arrays.remove(s,i),e.removeChild(f[i].div),delete f[i]):u&&(f[i]||(f[i]={}),f[i].handler=u,f[i].outGraphic=o,f[i].overGraphic=c,f[i].div||(s.push(i),f[i].div=document.createElement("div"),f[i].div.style.position="absolute",e.appendChild(f[i].div),f[i].div.appendChild(document.createElement("div")),f[i].div.childNodes[0].style.position="relative",f[i].div.childNodes[0].style.width="100%",f[i].div.childNodes[0].style.height="100%",f[i].div.childNodes[0].style.zIndex=10,f[i].div.childNodes[0].style.cursor="pointer",f[i].div.appendChild(document.createElement("img")),f[i].div.childNodes[1].style.position="absolute",f[i].div.childNodes[1].style.left=0,f[i].div.childNodes[1].style.top=0,r.skin.getSkinElement("dock","button")&&(f[i].div.childNodes[1].src=r.skin.getSkinElement("dock","button").src),f[i].div.childNodes[1].style.zIndex=9,f[i].div.childNodes[1].style.cursor="pointer",f[i].div.onmouseover=function(){f[i].overGraphic&&(f[i].div.childNodes[0].style.background=h(f[i].overGraphic));r.skin.getSkinElement("dock","buttonOver")&&(f[i].div.childNodes[1].src=r.skin.getSkinElement("dock","buttonOver").src)},f[i].div.onmouseout=function(){f[i].outGraphic&&(f[i].div.childNodes[0].style.background=h(f[i].outGraphic));r.skin.getSkinElement("dock","button")&&(f[i].div.childNodes[1].src=r.skin.getSkinElement("dock","button").src)},r.skin.getSkinElement("dock","button")&&(f[i].div.childNodes[1].src=r.skin.getSkinElement("dock","button").src)),f[i].outGraphic?f[i].div.childNodes[0].style.background=h(f[i].outGraphic):f[i].overGraphic&&(f[i].div.childNodes[0].style.background=h(f[i].overGraphic)),u&&(f[i].div.onclick=function(t){t.preventDefault();n(r.id).callback(i);f[i].overGraphic&&(f[i].div.childNodes[0].style.background=h(f[i].overGraphic));r.skin.getSkinElement("dock","button")&&(f[i].div.childNodes[1].src=r.skin.getSkinElement("dock","button").src)}));rt(l,a)},c=ut(n.api.events.JWPLAYER_COMPONENT_SHOW),p=ut(n.api.events.JWPLAYER_COMPONENT_HIDE),this.resize=rt,w=function(){i(e,{display:"block"});o&&(o=!1,c())},b=function(){i(e,{display:"none"});o||(p(),o=!0)},this.hide=b,this.show=w,this}}}(jwplayer),function(n){n.html5.eventdispatcher=function(t,i){var r=new n.events.eventdispatcher(i);n.utils.extend(this,r);this.sendEvent=function(i,u){n.utils.exists(u)||(u={});n.utils.extend(u,{id:t,version:n.version,type:i});r.sendEvent(i,u)}}}(jwplayer),function(n){var t=n.utils;n.html5.instream=function(i,r,u,f){function ot(){_fakemodel=new n.html5.model(this,e.getMedia()?e.getMedia().getDisplayElement():e.container,e);p=new n.html5.eventdispatcher;h.jwAddEventListener(n.api.events.JWPLAYER_RESIZE,tt);h.jwAddEventListener(n.api.events.JWPLAYER_FULLSCREEN,tt)}function st(){_fakemodel.setMute(e.mute);_fakemodel.setVolume(e.volume)}function ht(){o||(o=new n.html5.mediavideo(_fakemodel,e.getMedia()?e.getMedia().getDisplayElement():e.container),o.addGlobalListener(ct),o.addEventListener(n.api.events.JWPLAYER_MEDIA_META,vt),o.addEventListener(n.api.events.JWPLAYER_MEDIA_COMPLETE,at),o.addEventListener(n.api.events.JWPLAYER_MEDIA_BUFFER_FULL,lt));o.attachMedia()}function ct(n){s&&nt(n.type,n)}function lt(){s&&o.play()}function at(){s&&setTimeout(function(){k.jwInstreamDestroy(!0)},10)}function vt(n){n.metadata.width&&n.metadata.height&&w.resizeMedia()}function nt(n,t,i){(s||i)&&p.sendEvent(n,t)}function tt(){var n=e.plugins.object.display.getDisplayElement().style,i;l&&(i=e.plugins.object.controlbar.getDisplayElement().style,l.resize(t.parseDimension(n.width),t.parseDimension(n.height)),_css(l.getDisplayElement(),t.extend({},i,{zIndex:1001,opacity:1})));y&&(y.resize(t.parseDimension(n.width),t.parseDimension(n.height)),_css(y.getDisplayElement(),t.extend({},n,{zIndex:1e3})));w&&w.resizeMedia()}var ut={controlbarseekable:"always",controlbarpausable:!0,controlbarstoppable:!0,playlistclickable:!0},d,a,h=i,e=r,w=u,it=f,c,ft,et,rt,v,g,o,l,y,s=!1,p,b,k=this;return this.load=function(i,r){if(st(),s=!0,a=t.extend(ut,r),d=n.html5.playlistitem(i),ht(),b=document.createElement("div"),b.id=k.id+"_instream_container",it.detachMedia(),c=o.getDisplayElement(),g=e.playlist[e.item],v=h.jwGetState(),(v==n.api.events.state.BUFFERING||v==n.api.events.state.PLAYING)&&c.pause(),ft=c.src?c.src:c.currentSrc,et=c.innerHTML,rt=c.currentTime,y=new n.html5.display(k,t.extend({},e.plugins.config.display)),y.setAlternateClickHandler(function(t){_fakemodel.state==n.api.events.state.PAUSED?k.jwInstreamPlay():nt(n.api.events.JWPLAYER_INSTREAM_CLICK,t)}),b.appendChild(y.getDisplayElement()),!t.isMobile())if(l=new n.html5.controlbar(k,t.extend({},e.plugins.config.controlbar,{})),e.plugins.config.controlbar.position==n.html5.view.positions.OVER)b.appendChild(l.getDisplayElement());else{var u=e.plugins.object.controlbar.getDisplayElement().parentNode;u.appendChild(l.getDisplayElement())}w.setupInstream(b,c);tt();o.load(d)},this.jwInstreamDestroy=function(t){if(s){if(s=!1,v!=n.api.events.state.IDLE?(o.load(g,!1),o.stop(!1)):o.stop(!0),o.detachMedia(),w.destroyInstream(),l)try{l.getDisplayElement().parentNode.removeChild(l.getDisplayElement())}catch(i){}nt(n.api.events.JWPLAYER_INSTREAM_DESTROYED,{reason:t?"complete":"destroyed"},!0);it.attachMedia();(v==n.api.events.state.BUFFERING||v==n.api.events.state.PLAYING)&&(c.play(),e.playlist[e.item]==g&&e.getMedia().seek(rt));return}},this.jwInstreamAddEventListener=function(n,t){p.addEventListener(n,t)},this.jwInstreamRemoveEventListener=function(n,t){p.removeEventListener(n,t)},this.jwInstreamPlay=function(){s&&o.play(!0)},this.jwInstreamPause=function(){s&&o.pause(!0)},this.jwInstreamSeek=function(n){s&&o.seek(n)},this.jwInstreamGetState=function(){return s?_fakemodel.state:undefined},this.jwInstreamGetPosition=function(){return s?_fakemodel.position:undefined},this.jwInstreamGetDuration=function(){return s?_fakemodel.duration:undefined},this.playlistClickable=function(){return!s||a.playlistclickable.toString().toLowerCase()=="true"},this.jwPlay=function(){a.controlbarpausable.toString().toLowerCase()=="true"&&this.jwInstreamPlay()},this.jwPause=function(){a.controlbarpausable.toString().toLowerCase()=="true"&&this.jwInstreamPause()},this.jwStop=function(){a.controlbarstoppable.toString().toLowerCase()=="true"&&(this.jwInstreamDestroy(),h.jwStop())},this.jwSeek=function(n){switch(a.controlbarseekable.toLowerCase()){case"always":this.jwInstreamSeek(n);break;case"backwards":_fakemodel.position>n&&this.jwInstreamSeek(n)}},this.jwGetPosition=function(){},this.jwGetDuration=function(){},this.jwGetWidth=h.jwGetWidth,this.jwGetHeight=h.jwGetHeight,this.jwGetFullscreen=h.jwGetFullscreen,this.jwSetFullscreen=h.jwSetFullscreen,this.jwGetVolume=function(){return e.volume},this.jwSetVolume=function(n){o.volume(n);h.jwSetVolume(n)},this.jwGetMute=function(){return e.mute},this.jwSetMute=function(n){o.mute(n);h.jwSetMute(n)},this.jwGetState=function(){return _fakemodel.state},this.jwGetPlaylist=function(){return[d]},this.jwGetPlaylistIndex=function(){return 0},this.jwGetStretching=function(){return e.config.stretching},this.jwAddEventListener=function(n,t){p.addEventListener(n,t)},this.jwRemoveEventListener=function(n,t){p.removeEventListener(n,t)},this.skin=h.skin,this.id=h.id+"_instream",ot(),this}}(jwplayer),function(n){var t={prefix:"",file:"",link:"",linktarget:"_top",margin:8,out:.5,over:1,timeout:5,hide:!0,position:"bottom-left"};_css=n.utils.css;n.html5.logo=function(i,r){function c(){l();o.jwAddEventListener(n.api.events.JWPLAYER_PLAYER_STATE,d);a();v()}function l(){if(t.prefix){var f=i.version.split(/\W/).splice(0,2).join("/");t.prefix.indexOf(f)<0&&(t.prefix+=f+"/")}r.position==n.html5.view.positions.OVER&&(r.position=t.position);try{window.location.href.indexOf("https")==0&&(t.prefix=t.prefix.replace("http://l.longtailvideo.com","https://securel.longtailvideo.com"))}catch(e){}u=n.utils.extend({},t,r)}function a(){(f=document.createElement("img"),f.id=o.id+"_jwplayer_logo",f.style.display="none",f.onload=function(){_css(f,w());h()},u.file)&&(f.src=u.file.indexOf("/")>=0?u.file:u.prefix+u.file)}function v(){u.link?(f.onmouseover=p,f.onmouseout=h,f.onclick=y):this.mouseEnabled=!1}function y(n){if(typeof n!="undefined"&&n.stopPropagation(),e){o.jwPause();o.jwSetFullscreen(!1);u.link&&window.open(u.link,u.linktarget);return}}function h(){u.link&&e&&(f.style.opacity=u.out);return}function p(){e&&(f.style.opacity=u.over);return}function w(){var n={textDecoration:"none",position:"absolute",cursor:"pointer"},t,i;n.display=u.hide.toString()=="true"&&!e?"none":"block";t=u.position.toLowerCase().split("-");for(i in t)n[t[i]]=parseInt(u.margin);return n}function b(){u.hide.toString()=="true"&&(f.style.display="block",f.style.opacity=0,n.utils.fadeTo(f,u.out,.1,parseFloat(f.style.opacity)),s=setTimeout(function(){k()},u.timeout*1e3));e=!0}function k(){e=!1;u.hide.toString()=="true"&&n.utils.fadeTo(f,0,.1,parseFloat(f.style.opacity))}function d(t){t.newstate==n.api.events.state.BUFFERING&&(clearTimeout(s),b())}var o=i,s,u,f,e=!1;if(c(),u.file)return this.resize=function(){},this.getDisplayElement=function(){return f},this}}(jwplayer),function(n){var e={ended:n.api.events.state.IDLE,playing:n.api.events.state.PLAYING,pause:n.api.events.state.PAUSED,buffering:n.api.events.state.BUFFERING},t=n.utils,r=t.isMobile(),i,u,f={};n.html5.mediavideo=function(o,s){function at(n,i){return it[n]?it[n]:(it[n]=function(n){t.exists(n.target.parentNode)&&i(n)},it[n])}function kt(){y=n.api.events.state.IDLE;a=!0;h=dt();h.setAttribute("x-webkit-airplay","allow");p.parentNode&&(h.id=p.id,p.parentNode.replaceChild(h,p))}function dt(){var n=f[c.id],t;n||(n=p.tagName.toLowerCase()=="video"?p:document.createElement("video"),f[c.id]=n,n.id||(n.id=p.id));for(t in tt)n.addEventListener(t,at(t,tt[t]),!0);return n}function k(t){if(t!=n.api.events.state.PAUSED||y!=n.api.events.state.IDLE){if(r)switch(t){case n.api.events.state.PLAYING:wt();break;case n.api.events.state.BUFFERING:case n.api.events.state.PAUSED:bt()}if(y!=t){var i=y;c.state=y=t;l(n.api.events.JWPLAYER_PLAYER_STATE,{oldstate:i,newstate:t})}}}function w(){}function gt(){var t=Math.round(h.volume*100);l(n.api.events.JWPLAYER_MEDIA_VOLUME,{volume:t},!0);l(n.api.events.JWPLAYER_MEDIA_MUTE,{mute:h.muted},!0)}function lt(i){var r,u;a&&(t.exists(i)&&i.lengthComputable&&i.total?r=i.loaded/i.total*100:t.exists(h.buffered)&&h.buffered.length>0&&(u=h.buffered.length-1,u>=0&&(r=h.buffered.end(u)/h.duration*100)),t.useNativeFullscreen()&&t.exists(h.webkitDisplayingFullscreen)&&c.fullscreen!=h.webkitDisplayingFullscreen&&l(n.api.events.JWPLAYER_FULLSCREEN,{fullscreen:h.webkitDisplayingFullscreen},!0),nt===!1&&y==n.api.events.state.BUFFERING&&(l(n.api.events.JWPLAYER_MEDIA_BUFFER_FULL),nt=!0),ct||(r==100&&(ct=!0),t.exists(r)&&r>c.buffer&&(c.buffer=Math.round(r),l(n.api.events.JWPLAYER_MEDIA_BUFFER,{bufferPercent:Math.round(r)}))))}function ni(i){if(a){if(t.exists(i)&&t.exists(i.target)&&(ht>0&&!isNaN(i.target.duration)&&(isNaN(c.duration)||c.duration<1)&&(c.duration=i.target.duration==Infinity?0:Math.round(i.target.duration*10)/10),!g&&h.readyState>0&&k(n.api.events.state.PLAYING),y==n.api.events.state.PLAYING)){if(h.readyState>0&&(b>-1||!g)){g=!0;try{h.currentTime!=b&&b>-1&&(h.currentTime=b,b=-1)}catch(r){}h.volume=c.volume/100;h.muted=c.mute}if(c.position=c.duration>0?Math.round(i.target.currentTime*10)/10:0,l(n.api.events.JWPLAYER_MEDIA_TIME,{position:c.position,duration:c.duration}),c.position>=c.duration&&(c.position>0||c.duration>0)){pt();return}}lt(i)}}function ti(){}function v(n){a&&(i&&u&&(h.style.width=i,h.style.height=u,i=_previousHieght=0),e[n.type]&&(n.type=="ended"?pt():k(e[n.type])))}function et(){if(a){var t=Math.round(h.duration*10)/10,i={height:h.videoHeight,width:h.videoWidth,duration:t};ht||(c.duration<t||isNaN(c.duration))&&h.duration!=Infinity&&(c.duration=t);l(n.api.events.JWPLAYER_MEDIA_META,{metadata:i})}}function ii(i){var r,u;if(a&&y!=n.api.events.state.IDLE){if(r="There was an error: ",i.target.error&&i.target.tagName.toLowerCase()=="video"||i.target.parentNode.error&&i.target.parentNode.tagName.toLowerCase()=="video"){u=t.exists(i.target.error)?i.target.error:i.target.parentNode.error;switch(u.code){case u.MEDIA_ERR_ABORTED:t.log("User aborted the video playback.");return;case u.MEDIA_ERR_NETWORK:r="A network error caused the video download to fail part-way: ";break;case u.MEDIA_ERR_DECODE:r="The video playback was aborted due to a corruption problem or because the video used features your browser did not support: ";break;case u.MEDIA_ERR_SRC_NOT_SUPPORTED:r="The video could not be loaded, either because the server or network failed or because the format is not supported: ";break;default:r="An unknown error occurred: "}}else if(i.target.tagName.toLowerCase()=="source"){if(ut--,ut>0)return;if(t.userAgentMatch(/firefox/i)){t.log("The video could not be loaded, either because the server or network failed or because the format is not supported.");ft(!1);return}r="The video could not be loaded, either because the server or network failed or because the format is not supported: "}else{t.log("An unknown error occurred.  Continuing...");return}ft(!1);r+=ri();_error=!0;l(n.api.events.JWPLAYER_ERROR,{message:r});return}}function ri(){var t="",i,r,u;for(i in d.levels)r=d.levels[i],u=p.ownerDocument.createElement("source"),t+=n.utils.getAbsolutePath(r.file),i<d.levels.length-1&&(t+=", ");return t}function vt(){t.exists(rt)||(rt=setInterval(function(){lt()},100))}function yt(){clearInterval(rt);rt=null}function pt(){y==n.api.events.state.PLAYING&&(ft(!1),l(n.api.events.JWPLAYER_MEDIA_BEFORECOMPLETE),l(n.api.events.JWPLAYER_MEDIA_COMPLETE))}function ui(){t.exists(h.webkitDisplayingFullscreen)&&c.fullscreen&&!h.webkitDisplayingFullscreen&&l(n.api.events.JWPLAYER_FULLSCREEN,{fullscreen:!1},!0)}function fi(n){var r,i,u;if(n.length>0&&t.userAgentMatch(/Safari/i)&&!t.userAgentMatch(/Chrome/i)){for(r=-1,i=0;i<n.length;i++)switch(t.extension(n[i].file)){case"mp4":r<0&&(r=i);break;case"webm":n.splice(i,1)}r>0&&(u=n.splice(r,1)[0],n.unshift(u))}}function wt(){setTimeout(function(){h.setAttribute("controls","controls")},100)}function bt(){setTimeout(function(){h.removeAttribute("controls")},250)}function l(n,t,i){(a||i)&&(t?ot.sendEvent(n,t):ot.sendEvent(n))}var tt={abort:w,canplay:v,canplaythrough:v,durationchange:et,emptied:w,ended:v,error:ii,loadeddata:et,loadedmetadata:et,loadstart:v,pause:v,play:w,playing:v,progress:lt,ratechange:w,seeked:v,seeking:v,stalled:v,suspend:v,timeupdate:ni,volumechange:gt,waiting:v,canshowcurrentframe:w,dataunavailable:w,empty:w,load:ti,loadedfirstframe:w,webkitfullscreenchange:ui},it={},ot=new n.html5.eventdispatcher,ft;t.extend(this,ot);var c=o,p=s,h,y,g,d,rt,b,st=!1,a=!1,ht=!1,ct,nt,ut;kt();this.load=function(f,e){var o,s;if(typeof e=="undefined"&&(e=!0),a){if(d=f,ht=d.duration>0,c.duration=d.duration,t.empty(h),h.style.display="block",h.style.opacity=1,i&&u&&(h.style.width=i,h.style.height=u,i=_previousHieght=0),ut=0,fi(f.levels),f.levels&&f.levels.length>0)if(f.levels.length==1||t.isIOS())h.src=f.levels[0].file;else for(h.src&&h.removeAttribute("src"),o=0;o<f.levels.length;o++)s=h.ownerDocument.createElement("source"),s.src=f.levels[o].file,h.appendChild(s),ut++;else h.src=f.file;h.volume=c.volume/100;h.muted=c.mute;r&&wt();ct=nt=g=!1;c.buffer=0;t.exists(f.start)||(f.start=0);b=f.start>0?f.start:-1;l(n.api.events.JWPLAYER_MEDIA_LOADED);(r||f.levels.length!=1)&&st||h.load();st=!1;e&&(k(n.api.events.state.BUFFERING),l(n.api.events.JWPLAYER_MEDIA_BUFFER,{bufferPercent:0}),vt());h.videoWidth>0&&h.videoHeight>0&&et()}};this.play=function(){a&&(vt(),nt?k(n.api.events.state.PLAYING):(h.load(),k(n.api.events.state.BUFFERING)),h.play())};this.pause=function(){a&&(h.pause(),k(n.api.events.state.PAUSED))};this.seek=function(n){a&&(!g&&h.readyState>0?c.duration<=0||isNaN(c.duration)||c.position<=0||isNaN(c.position)||(h.currentTime=n,h.play()):b=n)};ft=this.stop=function(r){if(a){if(t.exists(r)||(r=!0),yt(),r){nt=!1;var f=navigator.userAgent;if(h.webkitSupportsFullscreen)try{h.webkitExitFullscreen()}catch(e){}h.style.opacity=0;bt();t.isIE()?h.src="":h.removeAttribute("src");t.empty(h);h.load();st=!0}if(t.isIPod())i=h.style.width,u=h.style.height,h.style.width=0,h.style.height=0;else if(t.isIPad()){h.style.display="none";try{h.webkitExitFullscreen()}catch(o){}}k(n.api.events.state.IDLE)}};this.fullscreen=function(n){n===!0?this.resize("100%","100%"):this.resize(c.config.width,c.config.height)};this.resize=function(){};this.volume=function(t){r||(h.volume=t/100,l(n.api.events.JWPLAYER_MEDIA_VOLUME,{volume:t/100}))};this.mute=function(t){r||(h.muted=t,l(n.api.events.JWPLAYER_MEDIA_MUTE,{mute:t}))};this.getDisplayElement=function(){return h};this.hasChrome=function(){return r&&y==n.api.events.state.PLAYING};this.detachMedia=function(){return a=!1,this.getDisplayElement()};this.attachMedia=function(){a=!0};this.destroy=function(){if(h&&h.parentNode){yt();for(var n in tt)h.removeEventListener(n,at(n,tt[n]),!0);t.empty(h);p=h.parentNode;h.parentNode.removeChild(h);delete f[c.id];h=null}}}}(jwplayer),function(n){var i={ended:n.api.events.state.IDLE,playing:n.api.events.state.PLAYING,pause:n.api.events.state.PAUSED,buffering:n.api.events.state.BUFFERING},t=n.utils.css;n.html5.mediayoutube=function(i,r){function c(t){if(s!=t){var i=s;h.state=t;s=t;e.sendEvent(n.api.events.JWPLAYER_PLAYER_STATE,{oldstate:i,newstate:t})}}function l(n){var t=n.levels[0].file,r,e,i,s,h;t=["http://www.youtube.com/v/",a(t),"&amp;hl=en_US&amp;fs=1&autoplay=1"].join("");u=document.createElement("object");u.id=f.id;u.style.position="absolute";r={movie:t,allowfullscreen:"true",allowscriptaccess:"always"};for(e in r)i=document.createElement("param"),i.name=e,i.value=r[e],u.appendChild(i);o=document.createElement("embed");u.appendChild(o);s={src:t,type:"application/x-shockwave-flash",allowfullscreen:"true",allowscriptaccess:"always",width:u.width,height:u.height};for(h in s)o.setAttribute(h,s[h]);u.appendChild(o);u.style.zIndex=2147483e3;f!=u&&f.parentNode&&f.parentNode.replaceChild(u,f);f=u}function a(n){for(var r=n.split(/\?|\#\!/),t="",i=0;i<r.length;i++)r[i].substr(0,2)=="v="&&(t=r[i].substr(2));return t==""&&(t=n.indexOf("/v/")>=0?n.substr(n.indexOf("/v/")+3):n.indexOf("youtu.be")>=0?n.substr(n.indexOf("youtu.be/")+9):n),t.indexOf("?")>-1&&(t=t.substr(0,t.indexOf("?"))),t.indexOf("&")>-1&&(t=t.substr(0,t.indexOf("&"))),t}var e=new n.html5.eventdispatcher;n.utils.extend(this,e);var h=i,f=document.getElementById(r.id),s=n.api.events.state.IDLE,u,o;return this.getDisplayElement=this.detachMedia=function(){return f},this.attachMedia=function(){},this.play=function(){s==n.api.events.state.IDLE?(e.sendEvent(n.api.events.JWPLAYER_MEDIA_BUFFER,{bufferPercent:100}),e.sendEvent(n.api.events.JWPLAYER_MEDIA_BUFFER_FULL),c(n.api.events.state.PLAYING)):s==n.api.events.state.PAUSED&&c(n.api.events.state.PLAYING)},this.pause=function(){c(n.api.events.state.PAUSED)},this.seek=function(){},this.stop=function(i){_utils.exists(i)||(i=!0);h.position=0;c(n.api.events.state.IDLE);i&&t(f,{display:"none"})},this.volume=function(t){h.setVolume(t);e.sendEvent(n.api.events.JWPLAYER_MEDIA_VOLUME,{volume:Math.round(t)})},this.mute=function(t){f.muted=t;e.sendEvent(n.api.events.JWPLAYER_MEDIA_MUTE,{mute:t})},this.resize=function(n,t){n*t>0&&u&&(u.width=o.width=n,u.height=o.height=t)},this.fullscreen=function(n){n===!0?this.resize("100%","100%"):this.resize(h.config.width,h.config.height)},this.load=function(i){l(i);t(u,{display:"block"});c(n.api.events.state.BUFFERING);e.sendEvent(n.api.events.JWPLAYER_MEDIA_BUFFER,{bufferPercent:0});e.sendEvent(n.api.events.JWPLAYER_MEDIA_LOADED);this.play()},this.hasChrome=function(){return s!=n.api.events.state.IDLE},this.embed=o,this}}(jwplayer),function(n){var i=["width","height","start","duration","volume","mute","fullscreen","item","plugins","stretching"],t=n.utils;n.html5.model=function(r,u,f){function ct(t){var i=new n.html5.playlistloader;i.addEventListener(n.api.events.JWPLAYER_PLAYLIST_LOADED,function(t){e.playlist=new n.html5.playlist(t);rt(!0)});i.addEventListener(n.api.events.JWPLAYER_ERROR,function(){e.playlist=new n.html5.playlist({playlist:[]});rt(!1)});i.load(t)}function rt(){e.config.shuffle?e.item=lt():(e.config.item>=e.playlist.length?e.config.item=e.playlist.length-1:e.config.item<0&&(e.config.item=0),e.item=e.config.item);e.position=0;e.duration=e.playlist.length>0?e.playlist[e.item].duration:0;y.sendEvent(n.api.events.JWPLAYER_PLAYLIST_LOADED,{playlist:e.playlist});y.sendEvent(n.api.events.JWPLAYER_PLAYLIST_ITEM,{index:e.item})}function lt(){var t=null;if(e.playlist.length>1)while(!n.utils.exists(t))t=Math.floor(Math.random()*e.playlist.length),t==e.item&&(t=null);else t=0;return t}function ht(t){switch(t.type){case n.api.events.JWPLAYER_MEDIA_LOADED:v=o.getDisplayElement();break;case n.api.events.JWPLAYER_MEDIA_MUTE:this.mute=t.mute;break;case n.api.events.JWPLAYER_MEDIA_VOLUME:this.volume=t.volume}y.sendEvent(t.type,t)}var ut=r,v=u,b=t.getCookies(),e={id:v.id,playlist:[],state:n.api.events.state.IDLE,position:0,buffer:0,container:v,config:{width:480,height:320,item:-1,skin:undefined,file:undefined,image:undefined,start:0,duration:0,bufferlength:5,volume:b.volume?b.volume:90,mute:b.mute&&b.mute.toString().toLowerCase()=="true"?!0:!1,fullscreen:!1,repeat:"",stretching:n.utils.stretching.UNIFORM,autostart:!1,debug:undefined,screencolor:undefined}},o,y=new n.html5.eventdispatcher,h,ft,l,c,a,et,d,p,k,g,nt,tt,ot,s,it,st,w;n.utils.extend(e,y);for(h in f){typeof f[h]=="string"&&(ft=/color$/.test(h)?"color":null,f[h]=n.utils.typechecker(f[h],ft));l=e.config;c=h.split(".");for(a in c)a==c.length-1?l[c[a]]=f[h]:(n.utils.exists(l[c[a]])||(l[c[a]]={}),l=l[c[a]])}for(et in i)d=i[et],e[d]=e.config[d];if(p=["display","logo","controlbar","playlist","dock"].concat([]),n.utils.exists(e.plugins)&&typeof e.plugins=="string"){k=e.plugins.split(",");for(g in k)typeof k[g]=="string"&&p.push(k[g].replace(/^\s+|\s+$/g,""))}if(n.utils.isMobile()?(p=["display","logo","dock","playlist"],n.utils.exists(e.config.repeat)||(e.config.repeat="list")):e.config.chromeless&&(p=["logo","dock","playlist"],n.utils.exists(e.config.repeat)||(e.config.repeat="list")),e.plugins={order:p,config:{},object:{}},typeof e.config.components!="undefined")for(nt in e.config.components)e.plugins.config[nt]=e.config.components[nt];tt=!1;for(ot in e.plugins.order)s=e.plugins.order[ot],it=n.utils.exists(e.plugins.config[s])?e.plugins.config[s]:{},e.plugins.config[s]=n.utils.exists(e.plugins.config[s])?n.utils.extend(e.plugins.config[s],it):it,n.utils.exists(e.plugins.config[s].position)?(s=="playlist"&&(tt=!0),e.plugins.config[s].position=e.plugins.config[s].position.toString().toUpperCase()):e.plugins.config[s].position=s=="playlist"?n.html5.view.positions.NONE:n.html5.view.positions.OVER;if(e.plugins.config.controlbar&&tt&&(e.plugins.config.controlbar.hideplaylistcontrols=!0),typeof e.plugins.config.dock!="undefined"&&(typeof e.plugins.config.dock!="object"&&(st=e.plugins.config.dock.toString().toUpperCase(),e.plugins.config.dock={position:st}),typeof e.plugins.config.dock.position!="undefined"&&(e.plugins.config.dock.align=e.plugins.config.dock.position,e.plugins.config.dock.position=n.html5.view.positions.OVER),typeof e.plugins.config.dock.idlehide=="undefined"))try{e.plugins.config.dock.idlehide=e.plugins.config.controlbar.idlehide}catch(at){}return e.loadPlaylist=function(t){var i,r;if(typeof t=="string")if(t.indexOf("[")==0||t.indexOf("{")=="0")try{i=eval(t)}catch(u){i=t}else i=t;else i=t;switch(n.utils.typeOf(i)){case"object":r=i;break;case"array":r={playlist:i};break;default:r={file:i}}e.playlist=new n.html5.playlist(r);e.item=e.config.item>=0?e.config.item:0;!e.playlist[0].provider&&e.playlist[0].file?ct(e.playlist[0].file):rt()},w={},e.setActiveMediaProvider=function(t){t.provider=="audio"&&(t.provider="sound");var i=t.provider,r=o?o.getDisplayElement():null;if((i=="sound"||i=="http"||i=="")&&(i="video"),n.utils.exists(w[i]))o!=w[i]&&(o&&o.stop(),o=w[i]);else{switch(i){case"video":o=new n.html5.mediavideo(e,r?r:v);break;case"youtube":o=new n.html5.mediayoutube(e,r?r:v)}if(!n.utils.exists(o))return!1;o.addGlobalListener(ht);w[i]=o}return!0},e.getMedia=function(){return o},e.seek=function(t){return y.sendEvent(n.api.events.JWPLAYER_MEDIA_SEEK,{position:e.position,offset:t}),o.seek(t)},e.setVolume=function(n){t.saveCookie("volume",n);e.volume=n},e.setMute=function(n){t.saveCookie("mute",n);e.mute=n},e.setupPlugins=function(){var i,t;if(!n.utils.exists(e.plugins)||!n.utils.exists(e.plugins.order)||e.plugins.order.length==0)return n.utils.log("No plugins to set up"),e;for(i=0;i<e.plugins.order.length;i++)try{t=e.plugins.order[i];n.utils.exists(n.html5[t])?e.plugins.object[t]=t=="playlist"?new n.html5.playlistcomponent(ut,e.plugins.config[t]):new n.html5[t](ut,e.plugins.config[t]):e.plugins.order.splice(plugin,plugin+1);typeof e.plugins.object[t].addGlobalListener=="function"&&e.plugins.object[t].addGlobalListener(ht)}catch(r){n.utils.log("Could not setup "+t)}},e}}(jwplayer),function(n){n.html5.playlist=function(t){var i=[],r;if(t.playlist&&t.playlist instanceof Array&&t.playlist.length>0)for(r in t.playlist)isNaN(parseInt(r))||i.push(new n.html5.playlistitem(t.playlist[r]));else i.push(new n.html5.playlistitem(t));return i}}(jwplayer),function(n){var i={size:180,position:n.html5.view.positions.NONE,itemheight:60,thumbs:!0,fontcolor:"#000000",overcolor:"",activecolor:"",backgroundcolor:"#f8f8f8",font:"_sans",fontsize:"",fontstyle:"",fontweight:""},t={_sans:"Arial, Helvetica, sans-serif",_serif:"Times, Times New Roman, serif",_typewriter:"Courier New, Courier, monospace"};_utils=n.utils;_css=_utils.css;_hide=function(n){_css(n,{display:"none"})};_show=function(n){_css(n,{display:"block"})};n.html5.playlistcomponent=function(r,u){function p(){o=document.createElement("div");o.id=s.id+"_jwplayer_playlistcomponent";o.style.overflow="hidden";switch(f.position){case n.html5.view.positions.RIGHT:case n.html5.view.positions.LEFT:o.style.width=f.size+"px";break;case n.html5.view.positions.TOP:case n.html5.view.positions.BOTTOM:o.style.height=f.size+"px"}ft();e.item&&(f.itemheight=e.item.height);o.style.backgroundColor="#C6C6C6";s.jwAddEventListener(n.api.events.JWPLAYER_PLAYLIST_LOADED,d);s.jwAddEventListener(n.api.events.JWPLAYER_PLAYLIST_ITEM,rt);s.jwAddEventListener(n.api.events.JWPLAYER_PLAYER_STATE,ut)}function w(){var n=document.createElement("ul");return _css(n,{width:o.style.width,minWidth:o.style.width,height:o.style.height,backgroundColor:f.backgroundcolor,backgroundImage:e.background?"url("+e.background.src+")":"",color:f.fontcolor,listStyle:"none",margin:0,padding:0,fontFamily:t[f.font]?t[f.font]:t._sans,fontSize:(f.fontsize?f.fontsize:11)+"px",fontStyle:f.fontstyle,fontWeight:f.fontweight,overflowY:"auto"}),n}function b(n){return function(){var r=h.getElementsByClassName("item")[n],t=f.fontcolor,i=e.item?"url("+e.item.src+")":"";n==s.jwGetPlaylistIndex()&&(f.activecolor!==""&&(t=f.activecolor),e.itemActive&&(i="url("+e.itemActive.src+")"));_css(r,{color:f.overcolor!==""?f.overcolor:t,backgroundImage:e.itemOver?"url("+e.itemOver.src+")":i})}}function a(n){return function(){var r=h.getElementsByClassName("item")[n],t=f.fontcolor,i=e.item?"url("+e.item.src+")":"";n==s.jwGetPlaylistIndex()&&(f.activecolor!==""&&(t=f.activecolor),e.itemActive&&(i="url("+e.itemActive.src+")"));_css(r,{color:t,backgroundImage:i})}}function k(t){var i=c[t],u=document.createElement("li"),d,s,l,o,p;u.className="item";_css(u,{height:f.itemheight,display:"block",cursor:"pointer",backgroundImage:e.item?"url("+e.item.src+")":"",backgroundSize:"100% "+f.itemheight+"px"});u.onmouseover=b(t);u.onmouseout=a(t);var g=document.createElement("div"),r=new Image,w=0,h=0,k=0;return it()&&(i.image||i["playlist.image"]||e.itemImage)&&(r.className="image",e.itemImage?(w=(f.itemheight-e.itemImage.height)/2,h=e.itemImage.width,k=e.itemImage.height):(h=f.itemheight*4/3,k=f.itemheight),_css(g,{height:k,width:h,float:"left",styleFloat:"left",cssFloat:"left",margin:"0 5px 0 0",background:"black",overflow:"hidden",margin:w+"px",position:"relative"}),_css(r,{position:"relative"}),g.appendChild(r),r.onload=function(){n.utils.stretch(n.utils.stretching.FILL,r,h,k,this.naturalWidth,this.naturalHeight)},i["playlist.image"]?r.src=i["playlist.image"]:i.image?r.src=i.image:e.itemImage&&(r.src=e.itemImage.src),u.appendChild(g)),d=v-h-w*2,y<f.itemheight*c.length&&(d-=15),s=document.createElement("div"),_css(s,{position:"relative",height:"100%",overflow:"hidden"}),l=document.createElement("span"),i.duration>0&&(l.className="duration",_css(l,{fontSize:(f.fontsize?f.fontsize:11)+"px",fontWeight:f.fontweight?f.fontweight:"bold",width:"40px",height:f.fontsize?f.fontsize+10:20,lineHeight:24,float:"right",styleFloat:"right",cssFloat:"right"}),l.innerHTML=_utils.timeFormat(i.duration),s.appendChild(l)),o=document.createElement("span"),o.className="title",_css(o,{padding:"5px 5px 0 "+(w?0:"5px"),height:f.fontsize?f.fontsize+10:20,lineHeight:f.fontsize?f.fontsize+10:20,overflow:"hidden",float:"left",styleFloat:"left",cssFloat:"left",width:(i.duration>0?d-50:d)-10+"px",fontSize:(f.fontsize?f.fontsize:13)+"px",fontWeight:f.fontweight?f.fontweight:"bold"}),o.innerHTML=i?i.title:"",s.appendChild(o),i.description&&(p=document.createElement("span"),p.className="description",_css(p,{display:"block",float:"left",styleFloat:"left",cssFloat:"left",margin:0,paddingLeft:o.style.paddingLeft,paddingRight:o.style.paddingRight,lineHeight:(f.fontsize?f.fontsize+4:16)+"px",overflow:"hidden",position:"relative"}),p.innerHTML=i.description,s.appendChild(p)),u.appendChild(s),u}function d(){var n,t,i;if(o.innerHTML="",c=g(),c){for(items=[],h=w(),n=0;n<c.length;n++)t=k(n),t.onclick=nt(n),h.appendChild(t),items.push(t);l=s.jwGetPlaylistIndex();a(l)();o.appendChild(h);_utils.isIOS()&&window.iScroll&&(h.style.height=f.itemheight*c.length+"px",i=new iScroll(o.id))}}function g(){for(var t=s.jwGetPlaylist(),i=[],n=0;n<t.length;n++)t[n]["ova.hidden"]||i.push(t[n]);return i}function nt(n){return function(){s.jwPlaylistItem(n);s.jwPlay(!0)}}function tt(){h.scrollTop=s.jwGetPlaylistIndex()*f.itemheight}function it(){return f.thumbs.toString().toLowerCase()=="true"}function rt(n){l>=0&&(a(l)(),l=n.index);a(n.index)();tt()}function ut(){if(f.position==n.html5.view.positions.OVER)switch(s.jwGetState()){case n.api.events.state.IDLE:_show(o);break;default:_hide(o)}}function ft(){for(var n in e)e[n]=et(n)}function et(n){return s.skin.getSkinElement("playlist",n)}var s=r,f=n.utils.extend({},i,s.skin.getComponentSettings("playlist"),u),o,v,y,c,h,l,e;if(f.position!=n.html5.view.positions.NONE&&typeof n.html5.view.positions[f.position]!="undefined")return l=-1,e={background:undefined,item:undefined,itemOver:undefined,itemImage:undefined,itemActive:undefined},this.getDisplayElement=function(){return o},this.resize=function(n,t){if(v=n,y=t,s.jwGetFullscreen())_hide(o);else{var i={display:"block",width:v,height:y};_css(o,i)}},this.show=function(){_show(o)},this.hide=function(){_hide(o)},p(),this}}(jwplayer),function(n){function t(t){var i,r,u;if(n.utils.isYouTube(t.file))return"youtube";if(i=n.utils.extension(t.file),i&&n.utils.extensionmap[i]){if(i=="m3u8")return"video";r=n.utils.extensionmap[i].html5}else t.type&&(r=t.type);if(r){if(u=r.split("/")[0],u=="audio")return"sound";if(u=="video")return u}return""}n.html5.playlistitem=function(i){var r=n.utils.extend({},{author:"",date:"",description:"",image:"",link:"",mediaid:"",tags:"",title:"",provider:"",file:"",streamer:"",duration:-1,start:0,currentLevel:-1,levels:[]},i);return r.type&&(r.provider=r.type,delete r.type),r.levels.length===0&&(r.levels[0]=new n.html5.playlistitemlevel(r)),r.provider=r.provider?r.provider.toLowerCase():t(r.levels[0]),r}}(jwplayer),function(n){n.html5.playlistitemlevel=function(t){var i={file:"",streamer:"",bitrate:0,width:0};for(var r in i)n.utils.exists(t[r])&&(i[r]=t[r]);return i}}(jwplayer),function(n){n.html5.playlistloader=function(){function r(r){var u=[];try{u=n.utils.parsers.rssparser.parse(r.responseXML.firstChild);t.sendEvent(n.api.events.JWPLAYER_PLAYLIST_LOADED,{playlist:new n.html5.playlist({playlist:u})})}catch(f){i("Could not parse the playlist")}}function i(i){t.sendEvent(n.api.events.JWPLAYER_ERROR,{message:i?i:"Could not load playlist an unknown reason."})}var t=new n.html5.eventdispatcher;n.utils.extend(this,t);this.load=function(t){n.utils.ajax(t,r,i)}}}(jwplayer),function(n){n.html5.skin=function(){var t={},i=!1;this.load=function(r,u){new n.html5.skinloader(r,function(n){i=!0;t=n;u()},function(){new n.html5.skinloader("",function(n){i=!0;t=n;u()})})};this.getSkinElement=function(r,u){if(i)try{return t[r].elements[u]}catch(f){n.utils.log("No such skin component / element: ",[r,u])}return null};this.getComponentSettings=function(n){return i&&t&&t[n]?t[n].settings:null};this.getComponentLayout=function(n){return i?t[n].layout:null}}}(jwplayer),function(n){n.html5.skinloader=function(t,i,r){function v(){typeof f!="string"||f===""?e(n.html5.defaultSkin().xml):n.utils.ajax(n.utils.getAbsolutePath(f),function(t){try{if(n.utils.exists(t.responseXML)){e(t.responseXML);return}}catch(i){p()}e(n.html5.defaultSkin().xml)},function(){e(n.html5.defaultSkin().xml)})}function e(t){var o=t.getElementsByTagName("component"),f,i,ut,g,a,v,p,c,w,nt,b,r,k,tt,it,e,l,d,rt;if(o.length!==0)for(f=0;f<o.length;f++){for(i=o[f].getAttribute("name"),ut={settings:{},elements:{},layout:{}},u[i]=ut,g=o[f].getElementsByTagName("elements")[0].getElementsByTagName("element"),a=0;a<g.length;a++)y(g[a],i);if(v=o[f].getElementsByTagName("settings")[0],v&&v.childNodes.length>0)for(p=v.getElementsByTagName("setting"),c=0;c<p.length;c++){var ft=p[c].getAttribute("name"),et=p[c].getAttribute("value"),ot=/color$/.test(ft)?"color":null;u[i].settings[ft]=n.utils.typechecker(et,ot)}if(w=o[f].getElementsByTagName("layout")[0],w&&w.childNodes.length>0)for(nt=w.getElementsByTagName("group"),b=0;b<nt.length;b++){for(r=nt[b],u[i].layout[r.getAttribute("position")]={elements:[]},k=0;k<r.attributes.length;k++)tt=r.attributes[k],u[i].layout[r.getAttribute("position")][tt.name]=tt.value;for(it=r.getElementsByTagName("*"),e=0;e<it.length;e++){for(l=it[e],u[i].layout[r.getAttribute("position")].elements.push({type:l.tagName}),d=0;d<l.attributes.length;d++)rt=l.attributes[d],u[i].layout[r.getAttribute("position")].elements[e][rt.name]=rt.value;n.utils.exists(u[i].layout[r.getAttribute("position")].elements[e].name)||(u[i].layout[r.getAttribute("position")].elements[e].name=l.tagName)}}h=!1;s()}}function s(){clearInterval(o);c||(o=setInterval(function(){w()},100))}function y(t,i){var r=new Image,l=t.getAttribute("name"),e=t.getAttribute("src"),o,h,v;e.indexOf("data:image/png;base64,")===0?o=e:(h=n.utils.getAbsolutePath(f),v=h.substr(0,h.lastIndexOf("/")),o=[v,i,e].join("/"));u[i].elements[l]={height:0,width:0,src:"",ready:!1,image:r};r.onload=function(){b(r,l,i)};r.onerror=function(){c=!0;s();a()};r.src=o}function p(){var t,n,i,r,f;for(t in u){n=u[t];for(i in n.elements)r=n.elements[i],f=r.image,f.onload=null,f.onerror=null,delete r.image,delete n.elements[i];delete u[t]}}function w(){var n,t;for(n in u)if(n!="properties")for(t in u[n].elements)if(!u[n].elements[t].ready)return;h===!1&&(clearInterval(o),l(u))}function b(t,i,r){u[r]&&u[r].elements[i]?(u[r].elements[i].height=t.height,u[r].elements[i].width=t.width,u[r].elements[i].src=t.src,u[r].elements[i].ready=!0,s()):n.utils.log("Loaded an image for a missing element: "+r+"."+i)}var u={},l=i,a=r,h=!0,o,f=t,c=!1;v()}}(jwplayer),function(n){n.html5.api=function(t,i){function v(){u.state==n.api.events.state.PLAYING||u.state==n.api.events.state.BUFFERING?f.pause():f.play()}function o(n){return function(){return u[n]}}function c(n,t,i){return function(){var r=u.plugins.object[n];r&&r[t]&&typeof r[t]=="function"&&r[t].apply(r,i)}}function s(n){return function(){if(e&&typeof e[n]=="function")return e[n].apply(this,arguments);_utils.log("Could not call instream method - instream API not initialized")}}function y(){u.config.playlistfile?(u.addEventListener(n.api.events.JWPLAYER_PLAYLIST_LOADED,l),u.loadPlaylist(u.config.playlistfile)):typeof u.config.playlist=="string"?(u.addEventListener(n.api.events.JWPLAYER_PLAYLIST_LOADED,l),u.loadPlaylist(u.config.playlist)):(u.loadPlaylist(u.config),setTimeout(l,25))}function l(t){u.removeEventListener(n.api.events.JWPLAYER_PLAYLIST_LOADED,l);u.setupPlugins();a.setup();var t={id:r.id,version:r.version};f.playerReady(t)}var r={},h=document.createElement("div"),e;t.parentNode.replaceChild(h,t);h.id=t.id;r.version=n.version;r.id=h.id;var u=new n.html5.model(r,h,i),a=new n.html5.view(r,h,u),f=new n.html5.controller(r,h,u,a);return r.skin=new n.html5.skin,r.jwPlay=function(n){typeof n=="undefined"?v():n.toString().toLowerCase()=="true"?f.play():f.pause()},r.jwPause=function(n){typeof n=="undefined"?v():n.toString().toLowerCase()=="true"?f.pause():f.play()},r.jwStop=f.stop,r.jwSeek=f.seek,r.jwPlaylistItem=function(n){if(e){if(e.playlistClickable())return e.jwInstreamDestroy(),f.item(n)}else return f.item(n)},r.jwPlaylistNext=f.next,r.jwPlaylistPrev=f.prev,r.jwResize=f.resize,r.jwLoad=f.load,r.jwDetachMedia=f.detachMedia,r.jwAttachMedia=f.attachMedia,r.jwGetPlaylistIndex=o("item"),r.jwGetPosition=o("position"),r.jwGetDuration=o("duration"),r.jwGetBuffer=o("buffer"),r.jwGetWidth=o("width"),r.jwGetHeight=o("height"),r.jwGetFullscreen=o("fullscreen"),r.jwSetFullscreen=f.setFullscreen,r.jwGetVolume=o("volume"),r.jwSetVolume=f.setVolume,r.jwGetMute=o("mute"),r.jwSetMute=f.setMute,r.jwGetStretching=function(){return u.stretching.toUpperCase()},r.jwGetState=o("state"),r.jwGetVersion=function(){return r.version},r.jwGetPlaylist=function(){return u.playlist},r.jwAddEventListener=f.addEventListener,r.jwRemoveEventListener=f.removeEventListener,r.jwSendEvent=f.sendEvent,r.jwDockSetButton=function(n,t,i,r){u.plugins.object.dock&&u.plugins.object.dock.setButton&&u.plugins.object.dock.setButton(n,t,i,r)},r.jwControlbarShow=c("controlbar","show"),r.jwControlbarHide=c("controlbar","hide"),r.jwDockShow=c("dock","show"),r.jwDockHide=c("dock","hide"),r.jwDisplayShow=c("display","show"),r.jwDisplayHide=c("display","hide"),r.jwLoadInstream=function(t,i){e||(e=new n.html5.instream(r,u,a,f));setTimeout(function(){e.load(t,i)},10)},r.jwInstreamDestroy=function(){e&&e.jwInstreamDestroy()},r.jwInstreamAddEventListener=s("jwInstreamAddEventListener"),r.jwInstreamRemoveEventListener=s("jwInstreamRemoveEventListener"),r.jwInstreamGetState=s("jwInstreamGetState"),r.jwInstreamGetDuration=s("jwInstreamGetDuration"),r.jwInstreamGetPosition=s("jwInstreamGetPosition"),r.jwInstreamPlay=s("jwInstreamPlay"),r.jwInstreamPause=s("jwInstreamPause"),r.jwInstreamSeek=s("jwInstreamSeek"),r.jwDestroy=function(){f.destroy()},r.jwGetLevel=function(){},r.jwGetBandwidth=function(){},r.jwGetLockState=function(){},r.jwLock=function(){},r.jwUnlock=function(){},u.config.chromeless&&!n.utils.isIOS()?y():r.skin.load(u.config.skin,y),r}}(jwplayer));
;
(function(){var t=$.couto.mediamagnificent.mediaPostListLoader,i=$.couto.mediamagnificent.galleryListLoader,r=$.couto.mediamagnificent.urlHashTracker,n=$.couto.mediamagnificent.urlBuilder,u=$.couto.mediamagnificent.shareMediaPostUi,f=$.couto.mediamagnificent.mediaPostCommentsLoader;namespace("$.couto.mediamagnificent").mediaPostModal={init:function(e,o){function vt(n){var t=new fi;t.commentId(n.Id);t.contentId(n.CommentId);t.contentTypeId(n.CommentContentTypeId);t.body(n.Body);t.authorProfileUrl(n.Author.ProfileUrl);t.authorAvatarUrl(n.Author.AvatarUrlResized);t.authorDisplayName(n.Author.DisplayName.length>0?n.Author.DisplayName:n.Author.Username);t.authorUserId(n.Author.Id);t.dateFormatted(n.DateFormatted);e.postViewModel.comments.push(t)}function ri(){var n=this;n.isTallImage=ko.observable(!1);n.mediaId=ko.observable(0);n.contentId=ko.observable("");n.contentTypeId=ko.observable("");n.galleryId=ko.observable(0);n.groupId=ko.observable(0);n.authorUserId=ko.observable(0);n.url=ko.observable();n.imageUrl=ko.observable();n.title=ko.observable();n.creator=ko.observable();n.galleryRssUrl=ko.observable();n.authorProfileUrl=ko.observable();n.authorAvatarUrl=ko.observable();n.authorDisplayName=ko.observable();n.description=ko.observable();n.hasDescription=ko.observable();n.dateFormatted=ko.observable();n.downloads=ko.observable();n.fileSizeFormatted=ko.observable();n.views=ko.observable();n.shareUrl=ko.observable();n.downloadUrl=ko.observable();n.editUrl=ko.observable();n.galleryName=ko.observable();n.galleryUrl=ko.observable();n.rating=ko.observable(0);n.isBookmarked=ko.observable();n.isSubscribed=ko.observable();n.tagUrlTemplate=ko.observable();n.canDownloadPost=ko.observable(!1);n.canEditPost=ko.observable(!1);n.canDeletePost=ko.observable(!1);n.canBookmarkPost=ko.observable(!1);n.canUnBookmarkPost=ko.observable(!1);n.canRatePost=ko.observable(!1);n.canCreateComment=ko.observable(!1);n.canDeleteComment=ko.observable(!1);n.maxWidth=ko.observable();n.maxHeight=ko.observable();n.aspectRatio=ko.observable();n.tags=ko.observableArray();n.comments=ko.observableArray();n.viewHtml=ko.observableArray();n.isDocumentPreview=ko.observable(!1);n.documentViewThumbnailUrl=ko.observable();n.userIsRegistered=ko.observable(!1);n.likeHtml=ko.observable("");n.moderateHtml=ko.observable("");n.currentUserIsAuthor=function(){return e.userId===n.authorUserId()};n.index=ko.observable();n.maxIndex=ko.observable();n.clearData=function(){n.isTallImage(!1);n.mediaId(0);n.contentId("");n.contentTypeId("");n.galleryId(0);n.groupId(0);n.authorUserId(0);n.url("");n.imageUrl("");n.title("");n.creator("");n.galleryRssUrl("");n.authorProfileUrl("");n.authorAvatarUrl("");n.authorDisplayName("");n.description("");n.hasDescription("");n.dateFormatted("");n.downloads("");n.fileSizeFormatted("");n.views("");n.shareUrl("");n.downloadUrl("");n.editUrl("");n.rating(0);n.isBookmarked();n.tagUrlTemplate();n.canDownloadPost(!1);n.canEditPost(!1);n.canDeletePost(!1);n.canBookmarkPost(!1);n.canUnBookmarkPost(!1);n.canRatePost(!1);n.canCreateComment(!1);n.canDeleteComment(!1);n.maxWidth(0);n.maxHeight(0);n.aspectRatio(e.defaultAttachmentAspectRatio);n.tags.removeAll();n.comments.removeAll();n.index(0);n.maxIndex(0);n.viewHtml("");n.isDocumentPreview(!1);n.documentViewThumbnailUrl("");n.likeHtml("");n.moderateHtml("")};n.emailShareUrl=function(){return"mailto:?subject="+n.title()+"&body="+n.url()};n.share=function(){var t=n.shareUrl();u().launchShareAction(t,e.headingShare)};n.canMovePrevious=function(){return n.index()>0};n.canMoveNext=function(){return n.index()<n.maxIndex()};n.movePrevious=function(){var i=s.getMediaPosts(),t=b(n.mediaId(),i);return t<=0?!1:(t--,n.mediaId(i[t].Id),g(i[t]),s.loadMoreAtFront(n.mediaId()),a.updateUrlHashWithHistorySupport(n.mediaId(),e.postModalExperience),!0)};n.moveNext=function(){var t=s.getMediaPosts(),i=b(n.mediaId(),t);return i>=t.length-1?!1:(i++,n.mediaId(t[i].Id),g(t[i]),s.loadMoreAtEnd(n.mediaId()),a.updateUrlHashWithHistorySupport(n.mediaId(),e.postModalExperience),!0)};n.moveToCurrentId=function(){var t=s.getMediaPosts(),i=b(n.mediaId(),t);g(t[i]);a.updateUrlHashWithHistorySupport(n.mediaId(),e.postModalExperience)};n.toggleBookmark=function(n,t){$(t.currentTarget).text("...");e.postViewModel.isBookmarked()?$.telligent.evolution.del({url:$.telligent.evolution.site.getBaseUrl()+"api.ashx/v2/bookmark.json",data:{ContentId:e.postViewModel.contentId()},success:function(){e.postViewModel.isBookmarked(!1);s.updateMediaPostProperty(e.postViewModel.mediaId(),"IsBookmarked",!1)}}):$.telligent.evolution.post({url:$.telligent.evolution.site.getBaseUrl()+"api.ashx/v2/bookmark.json",data:{ContentId:e.postViewModel.contentId(),ContentTypeId:e.postViewModel.contentTypeId()},success:function(){e.postViewModel.isBookmarked(!0);s.updateMediaPostProperty(e.postViewModel.mediaId(),"IsBookmarked",!0)}})};n.deletePost=function(){return window.confirm(e.deleteConfirmationMessage)&&jQuery.telligent.evolution.del({url:jQuery.telligent.evolution.site.getBaseUrl()+"api.ashx/v2/media/{MediaGalleryId}/files/{FileId}.json",data:{MediaGalleryId:e.postViewModel.galleryId(),FileId:e.postViewModel.mediaId()},success:function(){window.location=e.postViewModel.galleryUrl()},defaultErrorMessage:e.deleteErrorMessage}),!1};n.addComment=function(){if(n.canCreateComment()){w.attr("disabled","disabled");var t=w.val();t.length<=0||ft.addComment(e.postViewModel.mediaId(),e.postViewModel.galleryId(),t)}};n.setIndex=function(){var t=s.getMediaPosts();n.index(b(n.mediaId(),t));n.maxIndex(t.length-1)};n.getViewHtml=function(){var r,i,t;if(!n.isDocumentPreview()||!e.documentPreviewScriptUrls||e.documentPreviewScriptUrls.length<=0)return n.viewHtml();for(r=n.viewHtml(),i="",t=0;t<e.documentPreviewScriptUrls.length;t++)r.indexOf(e.documentPreviewScriptUrls[t])===-1&&(i=i+'<script type="text/javascript" src="'+e.documentPreviewScriptUrls[t]+'"><\/script>');return StringUtil.format("{0}{1}",i,r)};n.deleteComment=function(t){ko.utils.arrayForEach(n.comments(),function(n){if(n.contentId()===t){n.deleteComment();return}})}}function ui(n,t){var i=this;i.url=n;i.value=t}function fi(){var n=this;n.commentId=ko.observable(0);n.contentId=ko.observable(0);n.contentTypeId=ko.observable(0);n.body=ko.observable();n.authorProfileUrl=ko.observable();n.authorAvatarUrl=ko.observable();n.authorDisplayName=ko.observable();n.authorUserId=ko.observable(0);n.dateFormatted=ko.observable();n.likeHtml=ko.observable("");n.moderateHtml=ko.observable("");n.isAuthorComment=function(){return e.userId===n.authorUserId()};n.deleteComment=function(){window.confirm(e.deleteCommentVerificationText)&&ft.deleteById(e.postViewModel.mediaId(),e.postViewModel.galleryId(),n.commentId())}}function b(n,t){if(t==null)return-1;for(var i=0;i<t.length;i++)if(n==t[i].Id)return i;return-1}function g(t){var b,k,r,d,h,u,f,o,a,w;if(!t)return ht(),!1;if(e.postViewModel.clearData(),e.postViewModel.userIsRegistered(e.userIsRegistered),t.RawImageWidth>0&&e.postViewModel.maxWidth(t.RawImageWidth),t.RawImageHeight>0&&e.postViewModel.maxHeight(t.RawImageHeight),t.RawImageWidth>0&&t.RawImageHeight>0&&(e.postViewModel.aspectRatio(t.RawImageWidth/t.RawImageHeight),e.postViewModel.aspectRatio()>=1?e.postViewModel.isTallImage(!1):e.postViewModel.isTallImage(!0)),c.css("height",""),e.postViewModel.mediaId(t.Id),e.postViewModel.contentId(t.ContentId),e.postViewModel.contentTypeId(t.ContentTypeId),e.postViewModel.galleryId(t.MediaGalleryId),e.postViewModel.groupId(t.GroupId),e.postViewModel.url(t.Url),b=n().buildImageResizedUrl(t.ThumbnailUrl,e.documentViewThumbnailWidth,e.documentViewThumbnailHeight),e.postViewModel.documentViewThumbnailUrl(b),e.postViewModel.viewHtml(t.ViewHtml),jwplayer.utils.hasFlash&&jwplayer.utils.hasFlash()?e.postViewModel.isDocumentPreview(t.ViewHtml&&t.ViewHtml.length>0&&t.ViewHtml.indexOf("new FlexPaperDocumentViewer(")!==-1):e.postViewModel.isDocumentPreview(!1),e.postViewModel.title(t.Title),e.postViewModel.description(t.Description),e.postViewModel.hasDescription($.trim(t.Description).toLowerCase()!=='<div style="clear:both;"><\/div>'),e.postViewModel.imageUrl(t.RawImageUrl),t.Author&&(e.postViewModel.authorUserId(t.Author.Id),e.postViewModel.authorProfileUrl(t.Author.ProfileUrl),e.postViewModel.authorDisplayName(t.Author.DisplayName),k=n().buildImageResizedUrl(t.Author.AvatarUrl,dt,gt),e.postViewModel.authorAvatarUrl(k)),t.ExtendedAttributes)for(r=0;r<t.ExtendedAttributes.length;r++)switch(t.ExtendedAttributes[r].Key){case"Creator":e.postViewModel.creator(t.ExtendedAttributes[r].Value);break;case"Title":d=StringUtil.isNullOrEmpty(t.ExtendedAttributes[r].Value)?t.Title:t.ExtendedAttributes[r].Value;e.postViewModel.title(d)}if(e.postViewModel.fileSizeFormatted(t.FileSizeFormatted),e.postViewModel.dateFormatted(t.DateFormatted),e.postViewModel.downloads(t.Downloads),e.postViewModel.views(t.Views),t.Urls&&(e.postViewModel.shareUrl(t.Urls.ShareUrl),e.postViewModel.editUrl(t.Urls.EditUrl),e.postViewModel.downloadUrl(t.Urls.DownloadUrl)),h=[],t.Tags)for(u=0;u<t.Tags.length;u++)h.push(t.Tags[u].Value);return $.telligent.evolution.post({url:e.galleryMetaDataUrl,data:{galleryId:e.postViewModel.galleryId(),tags:h},async:!1,cache:!1,success:function(n){e.postViewModel.canDownloadPost(n.canDownloadPost);e.postViewModel.canEditPost(n.canEditPost);e.postViewModel.canDeletePost(n.canDeletePost);e.postViewModel.canRatePost(n.canRatePost);e.postViewModel.canCreateComment(n.canCreateComment);e.postViewModel.canDeleteComment(n.canDeleteComment);e.postViewModel.galleryRssUrl(n.galleryRssUrl);for(var t=0;t<n.tags.length;t++)e.postViewModel.tags.push(new ui(n.tags[t].url,n.tags[t].value))}}),$.telligent.evolution.post({url:e.moderateLikeUiUrl,data:{contentId:e.postViewModel.contentId(),contentTypeId:e.postViewModel.contentTypeId()},async:!1,cache:!1,success:function(n){e.postViewModel.likeHtml(n.likeHtml);e.postViewModel.moderateHtml(n.moderateHtml)}}),e.postViewModel.rating(t.Rating),e.postViewModel.isBookmarked(t.IsBookmarked),e.postViewModel.canBookmarkPost(t.CanBookmark),e.postViewModel.canUnBookmarkPost(t.CanUnBookmark),e.postViewModel.isSubscribed(t.IsSubscribed),f=i().getGalleryById(e.postViewModel.galleryId()),f&&(e.postViewModel.galleryName(f.Name),e.postViewModel.galleryUrl(f.Url)),e.postViewModel.setIndex(),o=".photo .post-attachment-viewer[data-post-id="+e.postViewModel.mediaId()+"]",$(o).hover(function(n){$(o+" .post-attachment-viewer-inner").find("a, div").hoverFlow(n.type,{opacity:1},300)},function(n){$(o+" .post-attachment-viewer-inner").find("a, div").hoverFlow(n.type,{opacity:0},300)}),rt.html(kt),rt.evolutionStarRating({value:e.postViewModel.rating(),isReadOnly:!e.postViewModel.canRatePost(),imagesPathUrl:"/Utility/images/",onRate:function(n){$.telligent.evolution.put({url:$.telligent.evolution.site.getBaseUrl()+"api.ashx/v2/couto/mediamagnificent/{MediaGalleryId}/files/{FileId}/rate.json",data:{MediaGalleryId:e.postViewModel.galleryId(),FileId:e.postViewModel.mediaId(),Rating:n},success:$.proxy(function(n){e.postViewModel.rating(n.Rating);s.updateMediaPostProperty(e.postViewModel.mediaId(),"Rating",n.Rating)},this)})}}),nt.evolutionToggleLink("val",e.postViewModel.isSubscribed()),ft.getCommentsByMediaId(e.postViewModel.mediaId(),e.postViewModel.galleryId()),$.telligent.evolution.post({url:e.trackViewUrl,data:{mediaId:e.postViewModel.mediaId()}}),v?(a=p.width()*1,w=p.height()*1,e.postViewModel.maxWidth()>a||e.postViewModel.maxHeight()>w?y(a,w):e.postModalExperience!=="Photo"&&y()):y(),l.coutoModal("center"),!0}function it(n,t,i){if(e.postViewModel.mediaId(n),e.postViewModel.galleryId(t),e.postViewModel.groupId(i),!v){var r=e.loadBufferOverride?e.loadBufferOverride:0;s.initialLoad(n,t,r);e.postModalExperience.toLowerCase()==="video"&&$("body").trigger("closeAudioPlayer.couto.mediaMagnificent")}return!0}function ht(){l.coutoModal("hide")}var et,ot,st,yt,k,y;ko.bindingHandlers.watermark={init:function(n){$(n).watermark();setTimeout(function(){$(n).val($(n).attr("title"))},0)},update:function(n){$(n).val()===$(n).attr("title")||$.trim($(n).val()).length===0?$(n).addClass("watermark"):$(n).removeClass("watermark")}};var rt=$('[data-container-for="PostRating"]',e.mediaPostModalContentSelector),kt=rt.html(),nt=$('[data-link-for="subscribe"]',e.mediaPostModalContentSelector),ct=$('[data-image-for="postAuthorAvatar"]',e.mediaPostModalContentSelector),dt=ct.data("maxWidth"),gt=ct.data("maxHeight"),lt=$('[data-image-for="commentAuthorAvatar"]',e.mediaPostModalContentSelector),ni=lt.data("maxWidth"),ti=lt.data("maxHeight"),c=$("[data-is-scrollable=true]",e.mediaPostModalContentSelector),p=$('[data-container-for="postAttachment"]',e.mediaPostModalContentSelector),ut=$('[data-container-for="postAttachmentInner"]',e.postAttachmentContainerElement),tt=$('[data-container-for="newComment"]',e.mediaPostModalContentSelector),w=$('[data-input-for="addCommentBody"]',e.mediaPostModalContentSelector),l=$(e.mediaPostModalContentSelector),v=!1,h=null,s=t({experience:e.postModalExperience,countPerViewport:o?3:1,viewWidth:e.viewWidth?e.viewWidth:null,viewHeight:e.viewHeight?e.viewHeight:null,previewWidth:e.previewWidth?e.previewWidth:null,previewHeight:e.previewHeight?e.previewHeight:null,onInitialDataReceived:function(n,t){var i=b(e.postViewModel.mediaId(),n);g(n[i]);s.loadMoreAtFront(e.postViewModel.mediaId());s.loadMoreAtEnd(e.postViewModel.mediaId());bt();l.coutoModal("center");l.coutoModal("show");v=!0;a.updateUrlHashWithHistorySupport(e.postViewModel.mediaId(),e.postModalExperience);o&&o.loadInitialData(n,s,t)},onDataLoadedToFront:function(n){e.postViewModel.setIndex();o&&o.addDataToFront(n)},onDataLoadedToEnd:function(n){e.postViewModel.setIndex();o&&o.addDataToEnd(n)}}),a=r({onHashChangeComplete:function(){var i=a.getHashValue(),n,t;i.length<=0||(h=i.split("_"),h.length>1&&h[1].toLowerCase()===e.postModalExperience.toLowerCase()&&(e.postModalExperience.toLowerCase()==="video"&&$("body").trigger("closeAudioPlayer.couto.mediaMagnificent"),n=s.getMediaPosts(),t=b(h[0],n),t>=0?(g(n[t]),v||(bt(),l.coutoModal("center"),l.coutoModal("show"))):e.pageMediaGalleryId>0&&s.initialLoad(h[0],e.pageMediaGalleryId,2)))},hashValuePrefix:"!"});a.urlHashTrackerSetWatcher(function(){var n=a.getHashValue();n.length>0&&!v&&(h=n.split("_"),h.length>1&&h[1].toLowerCase()===e.postModalExperience.toLowerCase()&&$.telligent.evolution.get({url:e.mediaDetailsUrl,data:{fileId:h[0]},async:!1,success:function(n){n.success&&e.pageMediaGalleryId===n.mediaGalleryId&&it(n.mediaId,n.mediaGalleryId,n.groupId)}}))});var ii=function(n){n=$.extend({interval:100,maxTime:1500,currentRunTime:0,previousElementHeight:0,intervalId:null},n);var r=function(){if(n.currentRunTime+=n.interval,i()>n.previousElementHeight){d();t();return}n.currentRunTime>=n.maxTime&&t()},i=function(){var n=0;return $.each(c.children(),function(){n+=$(this).height()*1}),n},t=function(){clearInterval(n.intervalId);n.intervalId=null};return{startMonitering:function(){n.intervalId!==null&&t();n.currentRunTime=0;n.previousElementHeight=i();n.intervalId=setInterval(r,n.interval)},stopMonitoring:function(){t()}}},at=new ii,ft=f({avatarWidth:ni,avatarHeight:ti,serverDate:e.serverDate,commentDateFormat:e.commentDateFormat,onGetCommentsComplete:function(n){for(var r=[],i="",t=0;t<n.length;t++)vt(n[t]),r.push(n[t].CommentId),i===""&&(i=n[t].CommentContentTypeId);$.telligent.evolution.post({url:e.commentsModerateLikeUiUrl,data:{contentIds:r,contentTypeId:i,mediaGalleryId:e.postViewModel.galleryId(),experience:e.postModalExperience},async:!1,cache:!1,success:function(n){n&&et(n.moderateHtmls,n.likeHtmls)}});d();at.startMonitering()},onAddSuccess:function(n){vt(n);var t=[];t.push(n.CommentId);$.telligent.evolution.post({url:e.commentsModerateLikeUiUrl,data:{contentIds:t,contentTypeId:n.CommentContentTypeId,mediaGalleryId:e.postViewModel.galleryId(),experience:e.postModalExperience},async:!1,cache:!1,success:function(n){n&&et(n.moderateHtmls,n.likeHtmls)}});w.val("");w.removeAttr("disabled");d();c.children(".scrollbar-pane").length>0&&c.coutoscrollbar("scrollto","bottom")},onAddFailure:function(){w.removeAttr("disabled")},onDeleteSuccess:function(n){e.postViewModel.comments.remove(function(t){return t.commentId()===n});d()}});et=function(n,t){ko.utils.arrayForEach(e.postViewModel.comments(),function(i){n[i.contentId()]&&i.moderateHtml(n[i.contentId()]);t[i.contentId()]&&i.likeHtml(t[i.contentId()])})};e.postViewModel=new ri;ko.applyBindings(e.postViewModel,l[0]);ot=StringUtil.format("couto.mediaMagnificent.mediaPostModalFor{0}.setSelectedMediaItemById",e.postModalExperience);$("body").unbind(ot).bind(ot,function(n,t){e.postViewModel.mediaId(t.mediaPostId);e.postViewModel.moveToCurrentId()});st=StringUtil.format("couto.mediaMagnificent.mediaPostModalFor{0}.launchMediaPostModal",e.postModalExperience);$("body").unbind(st).bind(st,function(n,t){it(t.mediaId,t.galleryId,t.groupId)});y=function(n,t){var f=p.css("min-width").replace("px",""),o=p.css("min-height").replace("px",""),r=$(window).width()-400,i=$(window).height()-200,u=e.postViewModel.aspectRatio(),s;i*u>r?i=r/u:r/u>i&&(r=i*u);e.postViewModel.maxWidth()>0&&e.postViewModel.maxHeight()>0&&(r>e.postViewModel.maxWidth()||i>e.postViewModel.maxHeight())&&(r=e.postViewModel.maxWidth(),i=e.postViewModel.maxHeight());r<f&&(r=f);i<o&&(i=o);r=Math.round(r);i=Math.round(i);n&&t&&(r<n&&(r=n),i<t&&(i=t));yt=i;p.css("width",r);p.css("height",i);ut.css("height",i);$(".document-viewer-wrapper > div, > div.file-preview-container",ut).css("height",i-204);$(".video-player-container, .video-player-container > div",ut).css("height",i-196);s=c.height()*1;k=tt.height()*1;s>i-k&&c.height(i-k)};y();var d=function(){c.coutoscrollbar("unscrollbar");k=tt.height()*1;var n=yt-k,t=c.height()*1;t>n&&c.height(n);c.coutoscrollbar();c.find(".scrollbar-pane").length>0?tt.addClass("has-scroll"):tt.removeClass("has-scroll")},pt=$("html"),ei=function(){d()},wt,bt=function(){$(window).bind("resize",function(){y();clearTimeout(wt);wt=setTimeout(ei,500)});pt.addClass(e.siteContainerCssClass)};if(l.coutoModal({cssClass:"media-gallery "+e.postModalCssClass,showCloseButton:!0,closeOnClickOutside:!0,open:!1,keepModalCentered:!0,autoCorrectCenteringBasedOnDialogSize:!1,onShow:function(){l.show()},onHide:function(){e.postViewModel.clearData();v=!1;var n=a.getHashValue();n.length>0&&(h=n.split("_"),h.length>1&&h[1].toLowerCase()===e.postModalExperience.toLowerCase()&&a.clearUrlHashWithHistorySupport());pt.removeClass(e.siteContainerCssClass);$(window).unbind("resize",y);o&&o.destroy();at.stopMonitoring()},onDestroy:function(){}}),l.show(),e.subscribeLinkOptions.changeState=function(n){$.telligent.evolution.post({url:e.subscribeUrl,data:{type:"media",subscribe:n,mediaId:e.postViewModel.mediaId()},dataType:"json",success:function(n){nt.evolutionToggleLink("val",n.subscribe);e.postViewModel.isSubscribed(n.subscribe);s.updateMediaPostProperty(e.postViewModel.mediaId(),"IsSubscribed",n.subscribe)},error:$.proxy(function(){nt.evolutionToggleLink("val",!n);e.postViewModel.isSubscribed(!n);s.updateMediaPostProperty(e.postViewModel.mediaId(),"IsSubscribed",!n)},this)})},nt.evolutionToggleLink(e.subscribeLinkOptions),$("body").bind("closeMediaPostModalFor"+e.postModalExperience+".couto.mediaMagnificent",function(){ht()}),$("body").delegate("a[data-mediaid][data-galleryid][data-groupid][data-experience="+e.postModalExperience+"]","click",function(n){n.stopImmediatePropagation();var t=$(this);return it(t.data("mediaid"),t.data("galleryid"),t.data("groupid")),!1}),w.bind("keydown",function(n){var t=n.keyCode?n.keyCode:n.which?n.which:n.charCode;return t===13?(e.postViewModel.addComment(),!1):!0}),$("body").keyup(function(n){if(v&&!$(".post-comment-body",e.mediaPostModalContentSelector).is(":focus"))switch(n.keyCode){case 39:e.postModalExperience.toLowerCase()==="photo"&&e.postViewModel.moveNext();break;case 37:e.postModalExperience.toLowerCase()==="photo"&&e.postViewModel.movePrevious();break;case 27:ht()}}),location.href.indexOf("edit.aspx")===-1&&e.hashValue.length>0&&(h=e.hashValue.split("_"),h.length>1&&h[1].toLowerCase()===e.postModalExperience.toLowerCase()&&$.telligent.evolution.get({url:e.mediaDetailsUrl,data:{fileId:h[0]},async:!1,success:function(n){n.success&&it(n.mediaId,n.mediaGalleryId,n.groupId)}})),$.data($("body").get(0),"events")["deleteMediaPostModalCommentFor"+e.postModalExperience]==null)$("body").on("deleteMediaPostModalCommentFor"+e.postModalExperience+".couto.mediaMagnificent",function(n,t){e.postViewModel.deleteComment(t)});$("body").on("click",'a[href*="#!DeleteMediaPostModalCommentFor'+e.postModalExperience+'_"]',function(){var t=$(this)[0].hash,n=t.split("_");return n.length===2&&$("body").trigger("deleteMediaPostModalCommentFor"+e.postModalExperience+".couto.mediaMagnificent",[n[1]]),!1})}}})();
;
(function(){var f=$.couto.mediamagnificent.urlBuilder,t=function(n,t,i){for(var r,o,e,u,h,c=Array(),l=new f,s=0;s<i.length;s++){for(r=i[s],r.CommentLabel=r.CommentCount>1||r.CommentCount==0?t.resources.Label_Comments:t.resources.Label_Comment,r.Rating=r.RatingSum/r.RatingCount,r.Rating=isNaN(r.Rating)?0:r.Rating,o=0;o<r.ExtendedAttributes.length;o++)e=r.ExtendedAttributes[o],e.Key!="Title"||StringUtil.isNullOrEmpty(e.Value)?e.Key!="PostID"||StringUtil.isNullOrEmpty(e.Value)||(r.Id=e.Value):r.Title=e.Value;if(r.ui=$.tmpl(t.itemTemplate,r),n.currentMediaId==r.Id?r.ui.addClass("current"):r.ui.addClass("not-current"),r.ui.find(".rating-container").evolutionStarRating({value:r.Rating,isReadOnly:!0,imagesPathUrl:t.pathToTheStars}),u=r.ui.find(".preview-html-place-holder"),u.parent().toggleClass("is-remote",r.ThumbnailIsRemote),r.ThumbnailUrl.length>0&&!r.ThumbnailIsRemote){var a=u.data("width")*1,v=u.data("height")*1,y=l.buildImageResizedUrl(r.ThumbnailUrl,a,v);u.before($("<img/>").attr("src",y));u.detach()}else r.ThumbnailHtml==null?u.hide():(u.before(r.ThumbnailHtml),u.detach());h=r.ui.find('[data-link-for="CarouselItem"]');h.length>0&&h.click(function(){var n=$(this).data("mediaid"),r=$(this).data("experience"),i;t.list.children("li").removeClass("current").addClass("not-current");t.list.children('li[data-id="'+n+'"]').removeClass("not-current").addClass("current");i=StringUtil.format("couto.mediaMagnificent.mediaPostModalFor{0}.setSelectedMediaItemById",r);$("body").triggerHandler(i,{mediaPostId:n})});c.push(r)}return c},n=function(n){return n.list.children().length},e=function(t,i,r){var e=n(i),f=e-t.loadBuffer;return f<0&&(f=0),u(i,r,f,e)},o=function(t,i,r){var e=n(i),f=t.loadBuffer;return f>e&&(f=e),u(i,r,0,f)},u=function(n,t,r,u){var f=n.list.triggerHandler("slice",[r,u]),e=i(t),o=$.grep(f,function(n){return $(n).data("id")===e});return o.length>0},i=function(n){return $(n).data("id")},r=function(t,i){n(i)>0&&(t.currentMinElement=i.list.triggerHandler("slice",[0,1]),t.currentMaxElement=i.list.triggerHandler("slice",[i.list.children().length-1,1]))},s=function(u,f){return{loadInitialData:function(s,h,c){var l,v,a,y,p,w,k,b;for(f.list.html(""),u.items=[],c&&(f.initialMediaId=c,u.currentMediaId=f.initialMediaId),s||(s=u.items),u.currentItemIndex=-1,l=0;l<s.length;l++)f.initialMediaId==s[l].Id&&(u.currentItemIndex=l);for(v=t(u,f,s),l=0;l<v.length;l++)f.list.append(v[l].ui),u.items[l]=v[l];if(a=f.widget.find(".content-item.current"),a.length<=0&&(a=f.widget.find(".content-item").first()),y=function(){f.relatedMediaContent.after(f.relatedMediaActions);a.css("display","block");f.orientation="Horizontal";f.container.removeClass("vertical").addClass("horizontal");f.widget.removeClass("vertical").addClass("horizontal");u.numberOfItemsVisible=Math.floor(w);u.numberOfItemsVisible>3?f.container.addClass("wide"):f.container.remove("wide")},p=function(){f.relatedMediaActionsVerticalPlaceholder.append(f.relatedMediaActions);f.orientation="Vertical";f.container.removeClass("horizontal").addClass("vertical");f.widget.removeClass("horizontal").addClass("vertical");u.numberOfItemsVisible=Math.floor(k);var t=n(f),i=t>=f.countPerViewport?f.countPerViewport:t;f.container.height(a.height()*i)},f.autoSetOrientation){if(f.container.removeClass("vertical").addClass("horizontal"),u.items.length<1)return;if(u.items.length==0&&f.container.parents(".layout-region.lt-large").length){p();return}y();w=f.container.innerWidth()/a.width();k=f.container.height()/a.height();w<2.1?p():y()}else f.orientation.toLowerCase()==="vertical"?p():y();u.carouselInited=!0;b={circular:!1,infinite:!1,width:f.useResponsiveWidth?"100%":f.container.width(),height:f.container.height(),direction:f.orientation==="Vertical"?"up":"left",auto:{play:!1},scroll:{width:"variable",height:"variable",duration:1e3,pauseOnHover:!0},next:{button:f.nextButton,onAfter:function(){if(e(u,f,f.list.triggerHandler("currentVisible").last())){var n=i(u.currentMaxElement);h.loadMoreAtEnd(n)}}},prev:{button:f.previousButton,onAfter:function(){if(o(u,f,f.list.triggerHandler("currentVisible").first())){var n=i(u.currentMinElement);h.loadMoreAtFront(n)}}},items:{start:f.widget.find(".content-item.current").length>0?f.widget.find(".content-item.current"):f.widget.find(".content-item:first"),visible:{min:f.minItemsVisible,max:f.maxItemsVisible}}};f.orientation==="Vertical"&&(b.items.visible=f.countPerViewport);f.list.triggerHandler("destroy");f.list.carouFredSel(b);r(u,f)},addDataToFront:function(n){var i,e;if(n.length>0){i=t(u,f,n);for(e in i)f.list.trigger("insertItem",[i[e].ui,0,!0,0]),u.items.unshift(i[e])}r(u,f)},addDataToEnd:function(n){var i,e;if(n.length>0){i=t(u,f,n);for(e in i)f.list.trigger("insertItem",[i[e].ui,"end",!0,0]),u.items.push(i[e])}r(u,f)},setVerticleForNoItemsInList:function(){f.relatedMediaActionsVerticalPlaceholder.append(f.relatedMediaActions);f.orientation="Vertical";f.container.removeClass("horizontal").addClass("vertical");f.widget.removeClass("horizontal").addClass("vertical");u.numberOfItemsVisible=0},destroy:function(){f.list.trigger("destroy")}}};namespace("$.couto.mediamagnificent").mediaPostCarousel=function(n){n=$.extend({resources:{Label_Comments:"comments",Label_Comment:"comment"},widget:null,initialMediaId:-1,list:null,relatedMediaActions:null,relatedMediaContent:null,relatedMediaActionsVerticalPlaceholder:null,container:null,previousButton:null,nextButton:null,itemTemplate:"",pathToTheStars:$.telligent.evolution.site.getBaseUrl()+"Utility/images/small-stars/",countPerViewport:3,minItemsVisible:2,maxItemsVisible:1e3,orientation:"Horizontal",autoSetOrientation:!0,useResponsiveWidth:!1},n);var t={currentItemIndex:-1,currentMediaId:n.initialMediaId,items:[],loadBuffer:n.countPerViewport*2,currentMinElement:null,currentMaxElement:null,numberOfItemsVisible:0,carouselInited:!1};return s(t,n)}})();
;
(function(n){namespace("$.couto.posttracker.widgets");var t=null,r=function(n){function b(){document.title=u<=0?document.title.replace(e,""):" ("+u+") "+document.title.replace(e,"")}function w(t){var r=t.link.wrap("<span></span>").parent("span").css({position:"relative"}),i=n('<a href="#" class="read-queue-count"></a>');i.appendTo(r).hide().on("click",function(n){n.preventDefault(),t.link.click()});return i}function p(n,t){return t=t||0,t===1?n.unreadCountMessageSingular.replace(/\{0\}/gi,t):n.unreadCountMessagePlural.replace(/\{0\}/gi,t)}function s(n,t){var r,i;n.showCount&&(r=t-n.previousCount,n.previousCount=t,n.titleCount&&(u+=r,b()),i=p(n,t),t<=0?(n.count&&n.count.fadeOut(200),n.link.attr("title",i)):(n.count=n.count||w(n),n.count.html(t).attr("title",i).fadeIn(200),n.link.attr("title",i)))}function i(t,i,r){return t.loading=!0,t.popupContentLoader.show(),n.Deferred(function(n){t.onLoad(i,r,t.filter||"",function(t){n.resolve(t)})}).promise()}function y(t){var u=n(window),c=150,v=30,l=n(t.link),a=l.height(),y=Math.round(a/2),p=l.position().top,h=u.height(),s=!1,o,e;t.compiledTemplate=t.compiledTemplate||n.telligent.evolution.template.compile(t.template),t.popup=n(t.compiledTemplate(t)),t.popupContentListContainer=t.popup.find(".content-list-container"),t.popupContentList=t.popup.find(".content-list"),t.popupContentLoader=t.popup.find(".loading");t.popup.glowPopUpPanel({cssClass:"menu "+t.popupClass,hideOnDocumentClick:!1,position:t.popupPosition,zIndex:1e3}).on("glowPopUpPanelHidden",function(){t.link.removeClass("active")}).on("glowPopUpPanelShown",function(){var f=t.popupContentListContainer.parents(".menu."+t.popupClass),i=f.parent(),w,b,r,n,e,a,l;o=!1,h!==u.height()&&(h=u.height(),o=!0,w=t.popupContentListContainer.find(".scrollbar-pane"),w.length>0&&(t.popupContentListContainer.coutoscrollbar("unscrollbar"),t.popupContentListContainer.css("max-height","")),i.css("height",f.height()+"px")),b=Math.round(i.height()/2),r=b-y,r<0&&(r=0),n=p-r,n=n<c?c:n,i.css("top",n+"px"),(!s||o)&&(e=u.height()-v-n,i.height()>e&&(a=i.height()-t.popupContentListContainer.height(),l=e-a,t.popupContentListContainer.css("max-height",l+"px"),t.popupContentListContainer.coutoscrollbar())),t.popupContentListContainer.find(".scrollbar-pane").length>0?(t.popupContentListContainer.coutoscrollbar("scrollto","top"),f.addClass("has-scroll")):f.removeClass("has-scroll"),s=!0});n(document).mouseup(function(n){if(t.popup.glowPopUpPanel("isShown")){var i=t.popup.data("_glowPopUpPanel").internal.panel;if(!t.link.is(n.target)&&t.link.has(n.target).length===0&&!i.is(n.target)&&i.has(n.target).length===0){if(t.popup.glowPopUpPanel("isOpening"))return;t.popup.glowPopUpPanel("isShown")&&r(t)}}}),t.onBuildFilter!==null&&(e=t.onBuildFilter(function(n){t.filter=n,t.currentPageIndex=0,i(t,t.currentPageIndex,!0).then(function(n){t.popupContentLoader.hide(),f(t,n,!0)})}),e&&n(e).insertBefore(t.popupContentListContainer))}function h(n){n.popupContentList.children("li.content-item.last-item").removeClass("last-item"),n.popupContentList.children("li.content-item:last").addClass("last-item")}function k(n,i){t&&r(t),t=n,n.popupContentList.html(i),h(n),n.popup.glowPopUpPanel("show",n.link),n.loading=!1,n.hasMore=n.popupContentList.children("li:last").data("hasmore")?!0:!1,n.link.addClass("active"),n.onShow&&n.onShow(),n.popupContentLoader.hide(),n.popupContent=n.popupContentList.closest(".read-queue"),n.popupContainer=n.popupContent.parent()}function r(n){n.popup.glowPopUpPanel("hide")}function f(n,t,i){i?n.popupContentList.html(t):n.popupContentList.append(t),h(n),n.popup.glowPopUpPanel("refresh");var r=n.popupContentListContainer.find(".scrollbar-pane");r.length>0?n.popupContentListContainer.coutoscrollbar("repaint"):n.popupContentListContainer.coutoscrollbar(),n.loading=!1,n.hasMore=n.popupContentList.children("li:last").data("hasmore")?!0:!1,n.popupContentLoader.hide()}function c(n){n.popup.glowPopUpPanel("isOpening")||(n.popup.glowPopUpPanel("isShown")?r(n):(n.currentPageIndex=0,n.hasMore=!0,i(n,n.currentPageIndex,!0).then(function(t){k(n,t)})))}function v(t){t.link.on("click",function(n){return n.preventDefault(),c(t),!1});if(t.endlessScroll)t.popupContentListContainer.on("coutoscrollbar.scrollend",function(){return t.hasMore?t.loading?!1:(t.popupContentLoader.show(),t.currentPageIndex++,i(t,t.currentPageIndex,!0).then(function(n){t.popupContentLoader.hide(),f(t,n)}),!1):!1});t.popupContentList.on("click",".content-item",function(t){t.preventDefault();var i=n(this).data("contenturl");i&&(window.location=i)});t.popupContentList.on("click","a",function(n){n.stopPropagation()})}function a(t){t.link=n(t.link)}var e=/^\([0-9]+\)\s+/,u=0,l={link:"",initialUnreadCount:0,headingLabel:"Queue",showCount:!0,endlessScroll:!1,showMoreUrl:null,showMoreLabel:null,template:"",loading:!1,titleCount:!1,previousCount:0,unreadCountMessageSingular:"You have {0} unread item",unreadCountMessagePlural:"You have {0} unread items",onShow:function(){},onLoad:function(n,t,i,r){r("")},onRefreshUnreadCount:function(n){n(5)},onBuildFilter:null,popupPosition:"down",popupClass:""},o=function(t){var r=n.extend({},l,t||{});a(r);r.link.one("click",function(n){n.preventDefault(),y(r),v(r),r.link.click()});return s(r,r.initialUnreadCount),{refreshUnreadCount:function(){return r.onRefreshUnreadCount(function(n){s(r,n)})},refreshContent:function(){r.popup&&r.popup.glowPopUpPanel("isShown")&&(r.currentPageIndex=0,i(r,r.currentPageIndex,!1).then(function(n){f(r,n,!0)}))},content:function(){return r.popupContentList}}};return o.hideCurrent=function(){t&&r(t)},o}(n),i=function(t){t.groupsList=r({headingLabel:t.groupsLabel,link:t.groupsLink,endlessScroll:!0,titleCount:!1,showCount:!1,onLoad:function(i,r,u,f){var e=u;n.telligent.evolution.get({url:t.groupsUrl,data:{w_pageIndex:i,w_query:e},success:function(n){f(n),r&&t.groupsList.refreshUnreadCount()}})},onRefreshUnreadCount:function(n){n(0)},template:t.groupsTemplate,popupPosition:t.flyoutDirection,popupClass:t.menuCssClasses})};n.couto.posttracker.widgets.newForumThreadTab={register:function(t){i(t),n("body").trigger("addSiteLinkTab.couto.addOnFramework",{element:n(t.newForumThreadLinkId),sortOrder:2})}}})(jQuery,window);
;

//------------------------------------------------------------------//
//
//  [Markup Translations]
//
//     Primary Use:   Globally modify markup for the entire site
//
//------------------------------------------------------------------//


jQuery(document).ready(function () {

    // ------------------ BEGIN: Global Markup Translations ------------------ //

    // Adds a 'last' class to items in the Mighty Menu 'Multi Column' menu style
    $('.mighty-menu-multi-column .menu-content .links ul li:last-child').addClass('last');
    
    // Adds a 'last' class to action items in the Feature It 'Group Banner' configuration
    $('.feature-it .group-banner-actions .navigation-list .navigation-item:last-child').addClass('last');    

    // ------------------ END: Global Markup Translations ------------------ //

}); 
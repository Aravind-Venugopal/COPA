(function(a){var j={width:"100%",height:"100%"},c=null,f=!!document.createElement("video").canPlayType;a.fn.transcoderFullScreenable=function(g){g=a.extend({},a.fn.transcoderFullScreenable.defaults,g||{});if(f){var h=a(this.find("video:first").get(0)),b=a(this.get(0)),d=this.find("video:first").get(0),e=!1,k=!1,i;i=a('<a href="#">'+g.fullScreenText+"</a>").css({"float":"right",padding:"7px",backgroundColor:"#000",position:"absolute",top:"0px",right:"0px",opacity:0.6,color:"#fff",textDecoration:"none"}).hide().appendTo(b);
c=c||a("<div></div>").hide().appendTo("body").css({position:"absolute",zIndex:2E3,top:0,left:0,width:"100%",height:"100%",backgroundColor:"#000"});b.bind({over:function(){k&&i.stop().fadeTo(175,0.6)},out:function(){k&&i.stop().fadeOut(175)},requestFullscreen:function(){if("undefined"!==typeof d.mozRequestFullScreen)try{d.mozRequestFullScreen()}catch(b){}else if("undefined"!==typeof d.webkitEnterFullScreen)try{d.webkitEnterFullScreen()}catch(e){}else{var f=!d.paused;a.each(j,function(b){h.css(b)});
a("body").css({overflow:"hidden"});c.css({top:a(window).scrollTop()});h.detach().appendTo(c).css(j);c.show();f&&d.play()}},requestInline:function(){if("undefined"!==typeof document.mozCancelFullScreen)try{document.mozCancelFullScreen()}catch(e){}else if("undefined"!==typeof document.webkitCancelFullScreen)try{document.webkitCancelFullScreen()}catch(f){}else{var g=!d.paused;c.hide();a("body").css({overflow:"auto"});h.detach().appendTo(b);g&&d.play()}},enteredFullscreen:function(){},enteredInline:function(){},
metadata:function(){k=!0;i.stop().fadeTo(300,0.6)}});b.bind({mouseenter:function(){b.trigger("over")},mouseleave:function(){b.trigger("out")}});a(d).bind("loadedmetadata",function(){b.trigger("metadata")});i.click(function(a){a.preventDefault();e?(e=!1,b.trigger("requestInline")):(e=!0,b.trigger("requestFullscreen"))});a(document).bind("keydown",function(a){27===a.which&&e&&(e=!1,b.trigger("requestInline"))});var l=function(){e?b.trigger("enteredFullscreen"):b.trigger("enteredInline")};a(window).bind({mozfullscreenchange:function(){e=
!!document.mozFullScreenElement;l()},webkitfullscreenchange:function(){e=!!document.webkitFullScreenElement;l()}})}return this};a.fn.transcoderFullScreenable.defaults={fullScreenText:"Full Screen",inlineText:"Exit Full Screen"}})(jQuery);
(function(a){a.fn.evolutionVideoTranscodingStatus=function(j){var c=a.extend({},a.fn.evolutionVideoTranscodingStatus.defaults,j||{});return this.each(function(){var f=a(this);a.each(c.selectors,function(b,d){c.selectors[b]=a(d,f)});c.selectors.throbber.css({width:"0px"});f.css({width:c.width+"px",height:c.height+"px"}).show();var g=function(){var a=1==c.selectors.bar.css("opacity")?0.5:1;c.selectors.bar.animate({opacity:a},{duration:1E3,complete:function(){g()}})};g();var h=setInterval(function(){a.telligent.evolution.get({url:c.url,
data:{key:c.key,path:c.path,name:c.name,width:c.width,height:c.height},success:function(b){("Converted"===b.status||"Error"===b.status)&&clearInterval(h);if("Converting"===b.status)b=b.progress*c.selectors.bar.width(),c.selectors.throbber.stop().animate({width:b+"px"},{duration:300});else if("Converted"===b.status||"Error"===b.status)f.hide(),a("<div></div>").insertAfter(f).html(b.preview)},error:function(){clearInterval(h)}})},c.interval)})};a.fn.evolutionVideoTranscodingStatus.defaults={url:"/vt/transcodingprogress.ashx",
interval:3E3,width:640,height:480,selectors:{title:"h4",bar:".statusbar",throbber:".throbber"}}})(jQuery);